(self.webpackChunkthe_hive_next=self.webpackChunkthe_hive_next||[]).push([[537],{45830:function(e,t,a){"use strict";a.d(t,{V:function(){return h}});a(67444),a(747),a(41099),a(26320),a(20876),a(76791),a(40019),a(92343),a(51096),a(4314),a(23346),a(64984),a(64078);var i=a(2262),n=a(40830),r=a(79697),l=a(16841);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i,n,r,l,o=[],s=!0,d=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;s=!1}else for(;!(s=(i=r.call(a)).done)&&(o.push(i.value),o.length!==t);s=!0);}catch(e){d=!0,n=e}finally{try{if(!s&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}const m=new Map,p=e=>(m.has(e)||m.set(e,function(e){return(0,n.Q_)(`Mapbox/${e}`,(()=>{const t=e,a=(0,i.XI)(null),n=(0,i.XI)({}),o=(0,i.iH)(null),d=(0,i.iH)({sources:{},layers:[]}),u=(0,i.iH)(null),m=(0,i.iH)(!1),p=(0,i.iH)(!1),h=(0,i.iH)({type:"FeatureCollection",features:[]});function v(){h.value=n.value.DrawControl.getAll()}function f(e,t){"replace"===t&&"FeatureCollection"===(null==e?void 0:e.type)&&n.value.DrawControl.set(e)}function g(e){n.value.DrawControl&&("*"===e?n.value.DrawControl.deleteAll():n.value.DrawControl.delete(e),v())}function b(e,t,a){if(!n.value.DrawControl.get(e))return console.error("Feature not found");n.value.DrawControl.setFeatureProperty(e,t,a)}function y(e){n.value.DrawControl.changeMode(e)}function k(e){return n.value[e]}function w(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=e.type,r=e.options,l=e.position,o=e.container,s=e.control,d=e.mapEvents;if(!a.value)return console.error("Map not initialized");if(!n.value[t]){if(s=s||new mapboxgl[i](r),n.value[t]=s,o){const e="string"==typeof o?document.querySelector(o):o instanceof HTMLElement?o:null;if(!e)return console.error(`Container element '${o}' not found for ${t} control`);e.appendChild(s.onAdd(a.value))}else a.value.addControl(s,l);if(d)for(const e of Object.entries(d)){var u=c(e,2);const t=u[0],i=u[1];a.value.on(t,i)}}}function S(e){var t,i;if(!n.value[e])return;null===(t=a.value)||void 0===t||t.removeControl(n.value[e]),delete n.value[e];(null===(i=a.value)||void 0===i?void 0:i.getContainer()).className="map mapboxgl-map"}function x(e){let t=e.type,i=e.id,n=e.object;if(!a.value)return console.error("Map not initialized");if("layer"==t&&!a.value.getLayer(i))return console.error(`Layer ${i} not found`);if("source"==t&&!a.value.getSource(i))return console.error(`Source ${i} not found`);if("layer"==t){const e=s(s(s({id:i},!(0,r.Z)(n.filter)&&{filter:n.filter}),!(0,r.Z)(n.paint)&&{paint:n.paint}),!(0,r.Z)(n.layout)&&{layout:n.layout});if(e.filter&&a.value.setFilter(i,e.filter,{validate:!1}),e.paint)for(const t of Object.entries(e.paint)){var l=c(t,2);const e=l[0],n=l[1];a.value.setPaintProperty(i,e,n,{validate:!1})}if(e.layout)for(const t of Object.entries(e.layout)){var o=c(t,2);const e=o[0],n=o[1];a.value.setLayoutProperty(i,e,n,{validate:!1})}const t=d.value.layers.findIndex((e=>e.id===i));-1===t?d.value.layers.push(e):d.value.layers[t]=e}if("source"==t){const e=a.value.getSource(i),t=e||{},r=t.type,l=t.maxzoom,o=t.promoteId,c=(null==e?void 0:e._options)||{},u=c.cluster,m=c.clusterMaxZoom,p=c.clusterMinPoints,h=c.clusterProperties,v=c.clusterRadius,f=a.value.getStyle().layers.filter((e=>e.source===i));f.forEach((e=>a.value.removeLayer(e.id))),a.value.removeSource(i),a.value.addSource(i,s(s(s({type:r,promoteId:o,maxzoom:l,cluster:u||!1},u&&{clusterMaxZoom:m,clusterMinPoints:p,clusterProperties:h,clusterRadius:v}),n.data&&{data:n.data}),n.filter&&{filter:n.filter})),f.forEach((e=>a.value.addLayer(e))),d.value.sources[i]=n}}function D(e){let t=e.type,a=e.id;if("source"==t){if(!d.value[t][a])return console.warn(`Source ${a} not found`);delete d.value[t][a]}if("layer"==t){if(!d.value[t].find((e=>e.id===a)))return console.warn(`Layer ${a} not found`);d.value[t]=d.value[t].filter((e=>e.id!==a))}}function _(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{diff:!1};if(!a.value)return console.error("Map not initialized");n=(0,i.SU)(n),s=(0,i.SU)(s),(0,r.Z)(null===(e=s)||void 0===e?void 0:e.sources)||(n.sources=(0,l.Z)(n.sources,s.sources)),(0,r.Z)(null===(t=s)||void 0===t?void 0:t.layers)||s.layers.forEach((e=>{const t=n.layers.findIndex((t=>t.id===e.id));if(-1===t)return console.warn(`Layer ${e.id} not found`);n.layers[t]=(0,l.Z)(n.layers[t],e)})),a.value.setStyle(n,c)}return{id:t,isLoaded:m,isEvaluating:p,map:a,mapStyle:o,mapImages:u,mapControls:n,mapStyleOverrides:d,getControl:k,setControl:w,deleteControl:S,applyOverride:x,clearOverride:D,drawData:h,updateDrawData:v,setDrawData:f,setDrawMode:y,setDrawFeatureProperty:b,deleteDrawFeatures:g,setStyle:_}}))}(e)),m.get(e));const h=e=>p(e)()},19668:function(e,t,a){"use strict";a.d(t,{z5:function(){return l}});a(67444),a(747),a(41099),a(26320),a(20876),a(76791),a(40019),a(92343),a(51096),a(4314),a(23346),a(64984),a(64078);var i=a(59391),n=a(2262);const r=(0,n.XI)(new Map),l=e=>{if(r.value.has((0,n.SU)(e)))return;const t=(0,i.Z)();return t.once=(e,a)=>{const i=function(){t.off(e,i);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];a(r)};t.on(e,i)},r.value.set((0,n.SU)(e),t),o((0,n.SU)(e))},o=e=>{if(!r.value.has((0,n.SU)(e)))return;const t={get(t,a,i){return"emit"===a&&"function"==typeof t[a]?function(i,n){let r={busId:e,payload:n};return t[a].apply(t,[i,r])}:Reflect.get(...arguments)}};return new Proxy(r.value.get(e),t)}},17928:function(e,t,a){"use strict";var i;a.d(t,{OY:function(){return r},az:function(){return s},d1:function(){return o},v9:function(){return l}});const n=(null===(i=window.CCM_ACTIVE_LOCALE)||void 0===i?void 0:i.replace("_","-"))||"en-AU",r=function(e,t,a){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n,r=0,l=0;if(t>0&&(r=100*e/t,l=r/100),!(arguments.length>3&&void 0!==arguments[3])||arguments[3]){var o;const e="percent"===(null===(o=a=Object.assign({minimumFractionDigits:0,maximumFractionDigits:2},a))||void 0===o?void 0:o.style)?l:r;return new Intl.NumberFormat(i,a).format(e)}return r},l=async(e,t)=>{try{let a=t;if(!e)return a;const i=new URL(e);switch(!0){case-1!==i.hostname.indexOf("vim"):const e=await fetch(`https://vimeo.com/api/oembed.json?url=${i}`);a=(await e.json()).thumbnail_url;break;case-1!==i.hostname.indexOf("youtu"):let t;null!==(t=/^.*(youtu\.be\/|vi?\/|u\/\w\/|embed\/|\?vi?=|\&vi?=)([^#\&\?]*).*/.exec(i.href))&&t[2]&&(a=`https://img.youtube.com/vi/${t[2]}/hqdefault.jpg`)}return a}catch(e){return console.error(e)}};function o(){return new Promise((e=>{requestAnimationFrame((()=>{requestAnimationFrame((()=>e()))}))}))}const s=e=>{let t=document.createElement("template");return t.innerHTML=e,t.content}},81809:function(e,t,a){"use strict";a.d(t,{$:function(){return o}});a(67444),a(747),a(41099),a(26320),a(20876),a(76791),a(40019),a(92343),a(51096),a(4314),a(23346),a(64984),a(64078);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const l=new Map;function o(e){if(e||(e=Math.random().toString(36).substring(2,15)),l.has(e))return l.get(e);let t;const a={loadNamespaces:async function(e){if(!e)throw new Error("Namespace is required");return await window.i18next.loadNamespaces(e),t=e,!0},t:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={};return void 0===a.ns&&t&&(i.ns=t),window.i18next.t(e,n(n({},i),a))}};return l.set(e,a),a}},13564:function(e,t){"use strict";t.Z={paginated:["questionNumbers","pageNumbers","progressBar","prevButtonLabel","nextButtonLabel","submitButtonLabel","completedMessage"],flow:["questionNumbers","introImage","introButton","nextButtonLabel","submitButtonLabel","completedMessage","welcomeTitle","welcomeDescription"],standard:["questionNumbers","submitButtonLabel","completedMessage"]}},3514:function(e,t,a){"use strict";a.d(t,{JR:function(){return v},cQ:function(){return m},dM:function(){return h},fX:function(){return u}});var i=a(81577),n=a(93024),r=a(13564);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i,n,r,l,o=[],s=!0,d=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;s=!1}else for(;!(s=(i=r.call(a)).done)&&(o.push(i.value),o.length!==t);s=!0);}catch(e){d=!0,n=e}finally{try{if(!s&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const u=()=>[...Array(10)].map((e=>(~~(36*Math.random())).toString(36))).join(""),m=e=>{let t={},a={},i={},n={},r=[];for(let r=0;r<e.sections.length;r++){const l=e.sections[r],o=u();a[o]={identifier:o,id:l.id,title:l.title,description:l.description,order:r,elements:[],dependencies:[]};for(let e=0;e<l.dependencies.length;e++){const t=l.dependencies[e],r=u();i[r]={identifier:r,action:t.action,logicGate:t.logic_gate,conditions:[]};for(let e=0;e<t.conditions.length;e++){const a=t.conditions[e],l=u();n[l]={identifier:l,id:a.id,element:a.element,operator:a.operator,value:a.value},i[r].conditions.push(l)}a[o].dependencies.push(r)}for(let e=0;e<l.elements.length;e++){const r=l.elements[e],s=u();let c={};for(let e=0;e<r.properties.length;e++)c[r.properties[e].name]=r.properties[e].value;c.rows&&Array.isArray(c.rows)&&c.rows.forEach((e=>{e.persisted=!0}));let m=[];for(let e=0;e<r.dependencies.length;e++){const t=r.dependencies[e],a=u();i[a]={identifier:a,action:t.action,logicGate:t.logic_gate,conditions:[]};for(let e=0;e<t.conditions.length;e++){const r=t.conditions[e],l=u();n[l]={identifier:l,id:r.id,element:r.element,operator:r.operator,value:r.value},i[a].conditions.push(l)}m.push(a)}if(t[s]=d(d({},r),{},{identifier:s,properties:c,dependencies:m}),void 0!==r.choices){let e=[];for(let t=0;t<r.choices.length;t++)e.push(Object.assign({},r.choices[t],{identifier:u()}));t[s].choices=e}a[o].elements.push(s)}}if(void 0!==e.mailings)for(let a=0;a<e.mailings.length;a++){const a=e.mailings[0];let i=[];for(let e=0;e<a.to.length;e++){const n=a.to[e].match(/{%elements\.(.+)\.value%}/i);if(null!==n){const e=Object.values(t).find((e=>e.id===parseInt(n[1])));e&&i.push("{%elements."+e.identifier+".value%}")}else i.push(a.to[e])}r.push({id:a.id,from:a.from,to:i,subject:a.subject,message:a.message})}return Object.keys(n).forEach((e=>{const a=Object.values(t).find((t=>t.id===n[e].element));if(a){n[e].element=a.identifier;const t=n[e].value;if(null!==t&&"input"===a.category&&-1!==["select","radio","checkboxlist","multichoice","matrix","rank"].indexOf(a.type)){let i;if(t.constructor===Array)i=[],t.forEach((e=>{const t=a.choices.find((t=>t.id==e));t&&i.push(t.identifier)}));else{i=null;const e=a.choices.find((e=>e.id==t));e&&(i=e.identifier)}n[e].value=i}}})),{identifier:e.identifier||u(),id:e.form_id,version_id:e.id,title:e.title,renderer:e.renderer,renderer_settings:e.renderer_settings,antispam:e.antispam,privacy_consent:e.privacy_consent,elements:t,sections:a,dependencies:i,conditions:n,mailings:r}},p=e=>{let t={id:e.identifier,element_id:e.id||null,version_id:e.version_id,category:e.category,type:e.type,dependencies:[],properties:[],choices:[],inputName:"form-"+e.identifier,meta:e.meta?d({},e.meta):null,preset_id:e.preset_id};return void 0!==e.choices&&e.choices.forEach((e=>{t.choices.push({id:e.identifier,choice_id:e.id||null,text:e.text,image:e.image,sort:e.sort,hidden:e.hidden})})),Object.entries(e.properties).forEach((e=>{let a=l(e,2),i=a[0],r=a[1],o=r;"rows"===i&&Array.isArray(r)&&(o=(0,n.Y)(o),o.forEach((e=>{delete e.persisted}))),t.properties.push({name:i,value:o})})),t},h=e=>{let t={id:e.version_id,form_id:e.id,renderer:e.renderer,renderer_settings:(0,i.Z)(e.renderer_settings,r.Z[e.renderer]),antispam:e.antispam,privacy_consent:e.privacy_consent,title:e.title,sections:[],mailings:[]};return Object.values(e.sections).forEach((a=>{let i={id:a.identifier,section_id:a.id,title:a.title,description:a.description,elements:[],dependencies:[]};a.dependencies.forEach((t=>{const a=e.dependencies[t];let n=[];a.conditions.forEach((t=>{const a=e.conditions[t];n.push({element:a.element,id:a.identifier,condition_id:a.id,operator:a.operator,value:a.value})})),i.dependencies.push({action:a.action,id:a.identifier,dependency_id:a.id,logic_gate:a.logicGate,conditions:n})})),a.elements.forEach((t=>{const a=e.elements[t];if(a){let t={id:a.identifier,element_id:isNaN(a.element_id)?isNaN(a.id)?null:a.id:a.element_id,version_id:a.version_id,category:a.category,type:a.type,dependencies:[],properties:[],choices:[],inputName:"form-"+a.identifier,meta:a.meta?d({},a.meta):null,preset_id:a.preset_id};void 0!==a.choices&&a.choices.forEach((a=>{t.choices.push({id:a.identifier,choice_id:e.id?a.id:null,text:a.text,image:a.image,sort:a.sort,hidden:a.hidden})})),Object.entries(a.properties).forEach((e=>{let a=l(e,2),i=a[0],r=a[1],o=r;"rows"===i&&Array.isArray(r)&&(o=(0,n.Y)(o),o.forEach((e=>{delete e.persisted}))),t.properties.push({name:i,value:o})})),a.dependencies.forEach((a=>{const i=e.dependencies[a];let n=[];i.conditions.forEach((t=>{const a=e.conditions[t];n.push({element:a.element,id:a.identifier,condition_id:a.id,operator:a.operator,value:a.value})})),t.dependencies.push({action:i.action,id:i.identifier,dependency_id:i.id,logic_gate:i.logicGate,conditions:n})})),i.elements.push(t)}})),t.sections.push(i)})),e.mailings.forEach((a=>{if(a.to&&""!==a.to){let i=a.to;Array.isArray(i)||(i=[i]),i=i.filter((t=>{const a=t.match(/{%elements\.(.+)\.value%}/i);return null===a||void 0!==e.elements[a[1]]})),i.length>0&&t.mailings.push({to:i,subject:"Form Submission",message:a.message})}})),t},v=e=>{e.elementTypes;let t=e.elementPresets,a=e.overrides;const i=u(),n=u(),r=u(),l=u(),o=t.find((e=>{var t;return"username"===(null===(t=e.meta)||void 0===t?void 0:t.attribute)})),s=t.find((e=>{var t;return"email"===(null===(t=e.meta)||void 0===t?void 0:t.attribute)}));o&&s||console.error("Could not find screenname or email preset",{screennamePreset:o,emailPreset:s});const c=p(o),m=p(s);return Object.assign({},{isNew:!0,identifier:i,id:null,form_id:null,renderer:"standard",renderer_settings:{submitButtonLabel:"",completedMessage:"",prevButtonLabel:"Previous",nextButtonLabel:"Next",introButton:"Start"},antispam:0,privacy_consent:0,title:null,sections:[{id:u(),section_id:u(),title:null,elements:[{id:n,element_id:null,version_id:null,category:"input",type:"textarea",dependencies:[],properties:[{name:"label",value:"Your comment"},{name:"required",value:!0},{name:"publicAnswer",value:!0}],choices:[],inputName:`form-${n}`,meta:null},...c&&[d(d(d({},c),c.type),{},{element_id:null,version_id:null,preset_id:c.id,id:r,inputName:`form-${r}`})],...m&&[d(d(d({},m),m.type),{},{element_id:null,version_id:null,id:l,preset_id:m.id,inputName:`form-${l}`})]],dependencies:[]}]},a)}},64137:function(e,t,a){"use strict";var i=a(92324),n=a(49963),r=a(40830),l=a(58107),o=a(81809),s=a(2369);a(26619);window.createSocialMapApp=async(e,t)=>{if(!t.startsWith("the_hive_social_map"))return;const a=(0,n.createApp)(l.Z,e);a.use(i.ZP,{wormhole:(0,i.l5)()}),a.use(s.LoadingPlugin);const d=(0,r.WB)();a.use(d),a.config.errorHandler=(e,t,a)=>console.error(e,t,a),a.config.compilerOptions.whitespace="preserve";const c=(0,o.$)(t);return await c.loadNamespaces(["socialmap","form"]),a.provide("t",c.t),a.mount(`#${t}`),a}},81373:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,".map-container[data-v-0bc6c846] {\n  position: relative;\n  height: 100%;\n  min-height: 300px;\n}\n[data-v-0bc6c846] .map {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 100%;\n}\n[data-v-0bc6c846] .map.Polygon .mapbox-gl-draw_ctrl-draw-btn.mapbox-gl-draw_point,[data-v-0bc6c846] .map.Polygon .mapbox-gl-draw_ctrl-draw-btn.mapbox-gl-draw_line {\n  display: none;\n}\n[data-v-0bc6c846] .map.LineString .mapbox-gl-draw_ctrl-draw-btn.mapbox-gl-draw_point,[data-v-0bc6c846] .map.LineString .mapbox-gl-draw_ctrl-draw-btn.mapbox-gl-draw_polygon {\n  display: none;\n}\n[data-v-0bc6c846] .map.Point .mapbox-gl-draw_ctrl-draw-btn.mapbox-gl-draw_line,[data-v-0bc6c846] .map.Point .mapbox-gl-draw_ctrl-draw-btn.mapbox-gl-draw_polygon {\n  display: none;\n}\n[data-v-0bc6c846] .map.mode-simple_select.feature-selected .mapbox-gl-draw_ctrl-draw-btn.mapbox-gl-draw_trash {\n  display: block;\n}\n[data-v-0bc6c846] .map .mapbox-gl-draw_ctrl-draw-btn.mapbox-gl-draw_trash {\n  display: none;\n}",""]),t.Z=l},81769:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,".hive-block-social-map .mapboxgl-ctrl-top-right .mapboxgl-ctrl {\n  margin: 0 15px 0 0;\n}",""]),t.Z=l},47209:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,".form-file[data-v-9c3292d2] {\n  width: 0.1px !important;\n  height: 0.1px !important;\n  opacity: 0;\n  overflow: hidden;\n  position: absolute;\n  z-index: -1;\n}\n.form-file:focus + .form-file-button[data-v-9c3292d2] {\n  color: #359BE0;\n  border: 1px solid #359BE0;\n}\n.form-file[disabled] + .form-file-button[data-v-9c3292d2] {\n  cursor: not-allowed;\n  background-color: #efefef;\n  border-color: #525252;\n}\n.form-file-button[data-v-9c3292d2] {\n  font-size: 1.25em;\n  font-weight: 700;\n  padding: 10px 20px;\n  border: 1px solid #000;\n  display: inline-flex;\n  cursor: pointer;\n  margin-bottom: 1em;\n}\n.form-file-button[data-v-9c3292d2]:hover {\n  color: #359BE0;\n  border: 1px solid #359BE0;\n}\n.form-file-button svg[data-v-9c3292d2] {\n  fill: currentColor;\n  margin-inline-end: 8px;\n  height: 1em;\n}\n.form-file-button *[data-v-9c3292d2] {\n  pointer-events: none;\n}\n.form-file-button + .form-file-limits[data-v-9c3292d2] {\n  margin-top: -0.5em;\n}\n.form-file-limits[data-v-9c3292d2] {\n  margin-bottom: 1em;\n}\n.file-list[data-v-9c3292d2] {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n.file-list > li[data-v-9c3292d2] {\n  background: #f7f7f7;\n  padding: 0.75em;\n  margin-bottom: 0.5em;\n  display: flex;\n}\n.file-list > li .file-info[data-v-9c3292d2] {\n  width: 100%;\n  margin-inline-end: 0.5em;\n}\n.file-list > li .file-info .file-name[data-v-9c3292d2] {\n  word-break: break-all;\n}\n.file-list > li .file-info .text-muted[data-v-9c3292d2] {\n  white-space: nowrap;\n}",""]),t.Z=l},19682:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,".matrix-row-first[data-v-45b16f92] {\n  display: none;\n}\n.matrix-row-header[data-v-45b16f92] {\n  font-weight: bold;\n}\n.matrix.mobile[data-v-45b16f92] {\n  margin-inline-start: 1em;\n}\n.matrix.mobile .matrix-col-input[data-v-45b16f92] {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n.matrix.mobile .matrix-col-input + .matrix-col-input[data-v-45b16f92] {\n  margin-top: -5px;\n}\n@media screen and (min-width: 768px) {\n.matrix-wrapper[data-v-45b16f92] {\n    margin-bottom: 1em;\n}\n.matrix.desktop[data-v-45b16f92] {\n    overflow-x: auto;\n    background-image: linear-gradient(to right, white, white), linear-gradient(to right, white, white), radial-gradient(farthest-side at 0 50%, rgba(0, 0, 0, 0.2), rgba(255, 255, 255, 0)), radial-gradient(farthest-side at 100% 50%, rgba(0, 0, 0, 0.2), rgba(255, 255, 255, 0));\n    background-position: left center, right center, left center, right center;\n    background-repeat: no-repeat;\n    background-color: white;\n    background-size: 20px 100%, 20px 100%, 10px 100%, 10px 100%;\n    /* Opera doesn't support this in the shorthand */\n    background-attachment: local, local, scroll, scroll;\n    /* Safari 6.1-10.0 */\n}\n.matrix.desktop > fieldset[data-v-45b16f92] {\n    margin: 0;\n}\n.matrix.desktop .matrix-row[data-v-45b16f92] {\n    display: flex;\n    flex-flow: row nowrap;\n}\n.matrix.desktop .matrix-row:not(.matrix-row-first):hover .matrix-col[data-v-45b16f92] {\n    background-color: #f2f2f2;\n}\n.matrix.desktop .matrix-col[data-v-45b16f92] {\n    flex: 1;\n    padding: 0.5em;\n    min-width: 7em;\n    border-bottom: 1px solid #ccc;\n}\n.matrix.desktop .matrix-col-first[data-v-45b16f92] {\n    flex: 2;\n    min-width: 10em;\n}\n.matrix.desktop .matrix-col-input[data-v-45b16f92] {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n.matrix.desktop .matrix-col input[type=radio] + label[data-v-45b16f92]::before {\n    margin-inline-end: 0;\n}\n.matrix.desktop .matrix-col input[type=radio] + label[data-v-45b16f92],\n  .matrix.desktop .matrix-col.matrix-row-header .control-legend[data-v-45b16f92] {\n    margin-bottom: 0;\n}\n.matrix.desktop .matrix-col label span[data-v-45b16f92] {\n    display: none;\n}\n.matrix.desktop .matrix-col[data-v-45b16f92]:not(.matrix-row-header) {\n    text-align: center;\n}\n.matrix.desktop .matrix .matrix-row-header .control-legend[data-v-45b16f92] {\n    font-weight: normal;\n}\n}\n@media screen and (min-width: 768px) and (min-color-index: 0) and (-webkit-min-device-pixel-ratio: 0) {\n.matrix.desktop .matrix-col-first[data-v-45b16f92] {\n    width: 20em;\n}\n}\n@media screen and (min-width: 768px) {\n.matrix-col input[type=radio] + label[data-v-45b16f92]::before {\n    background: transparent; /* So that we don't interfere with overflow shadows */\n}\n}\n@media screen and (min-width: 768px) {\n[dir=rtl] .matrix[data-v-45b16f92] {\n    background-image: linear-gradient(to left, white, white), linear-gradient(to left, white, white), radial-gradient(farthest-side at 0 50%, rgba(0, 0, 0, 0.2), rgba(255, 255, 255, 0)), radial-gradient(farthest-side at 100% 50%, rgba(0, 0, 0, 0.2), rgba(255, 255, 255, 0));\n}\n}",""]),t.Z=l},28576:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,".multi-choice[data-v-ed779cf8] .field-radio.cards,\n.multi-choice[data-v-ed779cf8] .field-checkbox-list.cards,\n.multi-choice.mobile[data-v-ed779cf8] .field-radio.cards,\n.multi-choice.mobile[data-v-ed779cf8] .field-checkbox-list.cards {\n  justify-content: flex-start;\n  margin: 0;\n}\n.multi-choice[data-v-ed779cf8] .field-radio.cards .card,\n.multi-choice[data-v-ed779cf8] .field-checkbox-list.cards .card,\n.multi-choice.mobile[data-v-ed779cf8] .field-radio.cards .card,\n.multi-choice.mobile[data-v-ed779cf8] .field-checkbox-list.cards .card {\n  width: 100%;\n  padding: 0;\n  margin: 0 0 1em;\n}\n.multi-choice[data-v-ed779cf8] .field-radio.cards .card .fa-check,\n.multi-choice[data-v-ed779cf8] .field-checkbox-list.cards .card .fa-check,\n.multi-choice.mobile[data-v-ed779cf8] .field-radio.cards .card .fa-check,\n.multi-choice.mobile[data-v-ed779cf8] .field-checkbox-list.cards .card .fa-check {\n  display: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding: 0.5em;\n}\n.multi-choice[data-v-ed779cf8] .field-radio.cards .card label,\n.multi-choice[data-v-ed779cf8] .field-checkbox-list.cards .card label,\n.multi-choice.mobile[data-v-ed779cf8] .field-radio.cards .card label,\n.multi-choice.mobile[data-v-ed779cf8] .field-checkbox-list.cards .card label {\n  margin: 0;\n}\n.multi-choice[data-v-ed779cf8] .field-radio.cards .card label:not(.label-other):before,\n.multi-choice[data-v-ed779cf8] .field-checkbox-list.cards .card label:not(.label-other):before,\n.multi-choice.mobile[data-v-ed779cf8] .field-radio.cards .card label:not(.label-other):before,\n.multi-choice.mobile[data-v-ed779cf8] .field-checkbox-list.cards .card label:not(.label-other):before {\n  content: none;\n}\n.multi-choice[data-v-ed779cf8] .field-radio.cards .card input[type=radio]:checked ~ .card-wrap .fa-check,\n.multi-choice[data-v-ed779cf8] .field-radio.cards .card input[type=checkbox]:checked ~ .card-wrap .fa-check,\n.multi-choice[data-v-ed779cf8] .field-checkbox-list.cards .card input[type=radio]:checked ~ .card-wrap .fa-check,\n.multi-choice[data-v-ed779cf8] .field-checkbox-list.cards .card input[type=checkbox]:checked ~ .card-wrap .fa-check,\n.multi-choice.mobile[data-v-ed779cf8] .field-radio.cards .card input[type=radio]:checked ~ .card-wrap .fa-check,\n.multi-choice.mobile[data-v-ed779cf8] .field-radio.cards .card input[type=checkbox]:checked ~ .card-wrap .fa-check,\n.multi-choice.mobile[data-v-ed779cf8] .field-checkbox-list.cards .card input[type=radio]:checked ~ .card-wrap .fa-check,\n.multi-choice.mobile[data-v-ed779cf8] .field-checkbox-list.cards .card input[type=checkbox]:checked ~ .card-wrap .fa-check {\n  display: block;\n}\n.multi-choice[data-v-ed779cf8] .field-radio.cards .card-wrap .card-img,\n.multi-choice[data-v-ed779cf8] .field-checkbox-list.cards .card-wrap .card-img,\n.multi-choice.mobile[data-v-ed779cf8] .field-radio.cards .card-wrap .card-img,\n.multi-choice.mobile[data-v-ed779cf8] .field-checkbox-list.cards .card-wrap .card-img {\n  display: flex;\n  align-items: center;\n}\n.multi-choice[data-v-ed779cf8] .field-radio.cards .card-wrap .card-img .card-img-inner,\n.multi-choice[data-v-ed779cf8] .field-checkbox-list.cards .card-wrap .card-img .card-img-inner,\n.multi-choice.mobile[data-v-ed779cf8] .field-radio.cards .card-wrap .card-img .card-img-inner,\n.multi-choice.mobile[data-v-ed779cf8] .field-checkbox-list.cards .card-wrap .card-img .card-img-inner {\n  background-size: contain;\n  padding-bottom: 75%;\n}\n.multi-choice[data-v-ed779cf8] .field-radio.cards .card-wrap .card-main,\n.multi-choice[data-v-ed779cf8] .field-checkbox-list.cards .card-wrap .card-main,\n.multi-choice.mobile[data-v-ed779cf8] .field-radio.cards .card-wrap .card-main,\n.multi-choice.mobile[data-v-ed779cf8] .field-checkbox-list.cards .card-wrap .card-main {\n  padding: 1em;\n}\n.multi-choice[data-v-ed779cf8] .field-radio.cards .card-wrap.disabled,\n.multi-choice[data-v-ed779cf8] .field-checkbox-list.cards .card-wrap.disabled,\n.multi-choice.mobile[data-v-ed779cf8] .field-radio.cards .card-wrap.disabled,\n.multi-choice.mobile[data-v-ed779cf8] .field-checkbox-list.cards .card-wrap.disabled {\n  cursor: not-allowed;\n}\n.multi-choice[data-v-ed779cf8] .field-radio.cards.cards-small,\n.multi-choice[data-v-ed779cf8] .field-checkbox-list.cards.cards-small,\n.multi-choice.mobile[data-v-ed779cf8] .field-radio.cards.cards-small,\n.multi-choice.mobile[data-v-ed779cf8] .field-checkbox-list.cards.cards-small {\n  display: inline-flex;\n  width: 100%;\n}\n.multi-choice[data-v-ed779cf8] .field-radio.cards.cards-small .card-wrap,\n.multi-choice[data-v-ed779cf8] .field-checkbox-list.cards.cards-small .card-wrap,\n.multi-choice.mobile[data-v-ed779cf8] .field-radio.cards.cards-small .card-wrap,\n.multi-choice.mobile[data-v-ed779cf8] .field-checkbox-list.cards.cards-small .card-wrap {\n  flex-direction: row;\n}\n.multi-choice[data-v-ed779cf8] .field-radio.cards.cards-small .card-wrap .card-img,\n.multi-choice[data-v-ed779cf8] .field-checkbox-list.cards.cards-small .card-wrap .card-img,\n.multi-choice.mobile[data-v-ed779cf8] .field-radio.cards.cards-small .card-wrap .card-img,\n.multi-choice.mobile[data-v-ed779cf8] .field-checkbox-list.cards.cards-small .card-wrap .card-img {\n  flex: 0.5;\n  min-height: 125px;\n  max-width: 15rem;\n}\n.multi-choice[data-v-ed779cf8] .field-radio.cards.cards-small .card-wrap .card-main,\n.multi-choice[data-v-ed779cf8] .field-checkbox-list.cards.cards-small .card-wrap .card-main,\n.multi-choice.mobile[data-v-ed779cf8] .field-radio.cards.cards-small .card-wrap .card-main,\n.multi-choice.mobile[data-v-ed779cf8] .field-checkbox-list.cards.cards-small .card-wrap .card-main {\n  padding: 1em 1em 0.5em;\n  flex: 1;\n}\n.sidebar .multi-choice[data-v-ed779cf8] .field-radio.cards.cards-small .card-wrap .card-main,\n.sidebar .multi-choice[data-v-ed779cf8] .field-checkbox-list.cards.cards-small .card-wrap .card-main {\n  min-width: auto;\n}\n@media only screen and (min-width: 35.5em) {\n.multi-choice.desktop[data-v-ed779cf8] .field-radio.cards.cards-small,\n  .multi-choice.desktop[data-v-ed779cf8] .field-checkbox-list.cards.cards-small {\n    width: auto;\n}\n.multi-choice.desktop[data-v-ed779cf8] .field-radio.cards.cards-small .card-wrap .card-main,\n  .multi-choice.desktop[data-v-ed779cf8] .field-checkbox-list.cards.cards-small .card-wrap .card-main {\n    min-width: 24.27rem;\n}\n.multi-choice.desktop[data-v-ed779cf8] .field-radio.cards.cards-medium, .multi-choice.desktop[data-v-ed779cf8] .field-radio.cards.cards-large,\n  .multi-choice.desktop[data-v-ed779cf8] .field-checkbox-list.cards.cards-medium,\n  .multi-choice.desktop[data-v-ed779cf8] .field-checkbox-list.cards.cards-large {\n    margin: 0 -0.5em;\n}\n.multi-choice.desktop[data-v-ed779cf8] .field-radio.cards.cards-medium .card, .multi-choice.desktop[data-v-ed779cf8] .field-radio.cards.cards-large .card,\n  .multi-choice.desktop[data-v-ed779cf8] .field-checkbox-list.cards.cards-medium .card,\n  .multi-choice.desktop[data-v-ed779cf8] .field-checkbox-list.cards.cards-large .card {\n    width: 50%;\n    padding: 0 0.5em;\n}\n}\n@media only screen and (min-width: 48em) {\n.multi-choice.desktop[data-v-ed779cf8] .field-radio.cards.cards-medium .card,\n  .multi-choice.desktop[data-v-ed779cf8] .field-checkbox-list.cards.cards-medium .card {\n    width: 33.33%;\n}\n.multi-choice.desktop[data-v-ed779cf8] .field-radio.cards.cards-large .card,\n  .multi-choice.desktop[data-v-ed779cf8] .field-checkbox-list.cards.cards-large .card {\n    width: 50%;\n}\n.mod-narrow .multi-choice.desktop[data-v-ed779cf8] .field-radio.cards.cards-medium .card,\n  .mod-narrow .multi-choice.desktop[data-v-ed779cf8] .field-checkbox-list.cards.cards-medium .card,\n  .col-sm-8 .multi-choice.desktop[data-v-ed779cf8] .field-radio.cards.cards-medium .card,\n  .col-sm-8 .multi-choice.desktop[data-v-ed779cf8] .field-checkbox-list.cards.cards-medium .card {\n    width: 33.33%;\n}\n.mod-narrow .multi-choice.desktop[data-v-ed779cf8] .field-radio.cards.cards-large .card,\n  .mod-narrow .multi-choice.desktop[data-v-ed779cf8] .field-checkbox-list.cards.cards-large .card,\n  .col-sm-8 .multi-choice.desktop[data-v-ed779cf8] .field-radio.cards.cards-large .card,\n  .col-sm-8 .multi-choice.desktop[data-v-ed779cf8] .field-checkbox-list.cards.cards-large .card {\n    width: 50%;\n}\n}\n@media only screen and (min-width: 64em) {\n.multi-choice.desktop[data-v-ed779cf8] .field-radio.cards.cards-medium .card,\n  .multi-choice.desktop[data-v-ed779cf8] .field-checkbox-list.cards.cards-medium .card {\n    width: 25%;\n}\n.multi-choice.desktop[data-v-ed779cf8] .field-radio.cards.cards-large .card,\n  .multi-choice.desktop[data-v-ed779cf8] .field-checkbox-list.cards.cards-large .card {\n    width: 33.33%;\n}\n}\n@media only screen and (min-width: 76.25em) {\n.form-preview.standard .multi-choice.desktop[data-v-ed779cf8] .field-radio.cards.cards-medium .card,\n  .form-preview.standard .multi-choice.desktop[data-v-ed779cf8] .field-checkbox-list.cards.cards-medium .card,\n  .form-preview.paginated .multi-choice.desktop[data-v-ed779cf8] .field-radio.cards.cards-medium .card,\n  .form-preview.paginated .multi-choice.desktop[data-v-ed779cf8] .field-checkbox-list.cards.cards-medium .card {\n    width: 25%;\n}\n.form-preview.standard .multi-choice.desktop[data-v-ed779cf8] .field-radio.cards.cards-large .card,\n  .form-preview.standard .multi-choice.desktop[data-v-ed779cf8] .field-checkbox-list.cards.cards-large .card,\n  .form-preview.paginated .multi-choice.desktop[data-v-ed779cf8] .field-radio.cards.cards-large .card,\n  .form-preview.paginated .multi-choice.desktop[data-v-ed779cf8] .field-checkbox-list.cards.cards-large .card {\n    width: 33.33%;\n}\n.form-preview.flow .multi-choice.desktop[data-v-ed779cf8] .field-radio.cards.cards-medium .card,\n  .form-preview.flow .multi-choice.desktop[data-v-ed779cf8] .field-checkbox-list.cards.cards-medium .card {\n    width: 33.33%;\n}\n.form-preview.flow .multi-choice.desktop[data-v-ed779cf8] .field-radio.cards.cards-large .card,\n  .form-preview.flow .multi-choice.desktop[data-v-ed779cf8] .field-checkbox-list.cards.cards-large .card {\n    width: 50%;\n}\n}\n@media only screen and (min-width: 767px) and (max-width: 1000px) {\n.sidebar .multi-choice[data-v-ed779cf8] .field-radio.cards.cards-small .card-wrap,\n  .sidebar .multi-choice[data-v-ed779cf8] .field-checkbox-list.cards.cards-small .card-wrap {\n    flex-direction: column;\n}\n.sidebar .multi-choice[data-v-ed779cf8] .field-radio.cards.cards-small .card-wrap .card-img,\n  .sidebar .multi-choice[data-v-ed779cf8] .field-checkbox-list.cards.cards-small .card-wrap .card-img {\n    max-width: inherit;\n    flex: auto;\n}\n}",""]),t.Z=l},56102:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,".number-control.number-control-with-spinner[data-v-254cc76c] {\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: stretch;\n}\n.number-control.number-control-with-spinner input[type=number][data-v-254cc76c] {\n  -moz-appearance: textfield;\n  width: auto;\n  min-width: 8em;\n}\n.number-control.number-control-with-spinner input[type=number][data-v-254cc76c]::-webkit-inner-spin-button, .number-control.number-control-with-spinner input[type=number][data-v-254cc76c]::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n.number-control.number-control-with-spinner .btn-adjust-value[data-v-254cc76c] {\n  border-radius: 0;\n  border: 2px solid #ccc;\n  padding: 0 0.75em;\n  background-color: #efefef;\n}\n.number-control.number-control-with-spinner .btn-adjust-value[data-v-254cc76c]:focus, .number-control.number-control-with-spinner .btn-adjust-value[data-v-254cc76c]:hover {\n  background-color: #d6d6d6;\n}",""]),t.Z=l},58388:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,".field-ranking[data-v-2748dc6a] {\n  z-index: 0;\n}\n.field-ranking .ranker[data-v-2748dc6a] {\n  display: flex;\n}\n.field-ranking .ranker > ol.ranked[data-v-2748dc6a] {\n  background-color: #f9f9f9;\n  border: 2px dashed #ccc;\n}\n.field-ranking .ranker > ol.ranked.success[data-v-2748dc6a] {\n  border-color: #4cae4c;\n}\n.field-ranking .ranker > ol.ranked.warning[data-v-2748dc6a] {\n  border-color: #eea236;\n}\n.field-ranking .ranker > ol.unranked[data-v-2748dc6a] {\n  border: 2px solid #ccc;\n  margin-inline-end: 8px;\n}\n.field-ranking .ranker > ol[aria-dropeffect=move][data-v-2748dc6a] {\n  background-color: #fffbcc;\n}\n.field-ranking .ranker > ol.has-slots .rankable[data-v-2748dc6a] {\n  position: relative;\n}\n.field-ranking .ranker > ol.has-slots.lightbox-visible .rankable-img[data-v-2748dc6a] {\n  position: initial;\n}\n.field-ranking .ranker .card[data-v-2748dc6a] {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n.field-ranking .ranker ol[data-v-2748dc6a] {\n  list-style: none;\n}\n.field-ranking .ranker .rankable[data-v-2748dc6a] {\n  z-index: 1;\n  cursor: move;\n}\n.field-ranking .ranker .rankable[aria-grabbed=true] .card[data-v-2748dc6a] {\n  background-color: #fff;\n}\n.field-ranking .ranker .rankable.ui-selected .card[data-v-2748dc6a] {\n  box-shadow: 0 0 3px #f7941e, 0 0 7px;\n}\n.field-ranking .ranker .rankable-img .well[data-v-2748dc6a] {\n  align-items: center;\n  padding: 0;\n  padding-inline-end: 15px;\n  overflow: hidden;\n}\n.field-ranking .ranker .rankable-img .well .content-container[data-v-2748dc6a] {\n  display: flex;\n  align-items: center;\n  width: 100%;\n}\n.field-ranking .ranker .rankable-img .well .ranking-main[data-v-2748dc6a] {\n  padding: 15px;\n}\n.field-ranking .ranker .rankable-img .well[data-v-2748dc6a] .ranking-img {\n  background-color: #ccc;\n  flex: 0.5;\n  min-height: 125px;\n  overflow: hidden;\n  position: relative;\n  align-self: stretch;\n}\n.field-ranking .ranker .rankable-img .well[data-v-2748dc6a] .ranking-img > div,\n.field-ranking .ranker .rankable-img .well[data-v-2748dc6a] .ranking-img .lightbox-link {\n  width: 100%;\n  height: 100%;\n}\n.field-ranking .ranker .rankable-img .well[data-v-2748dc6a] .ranking-img .check {\n  top: 0;\n  left: 0;\n}\n.field-ranking .ranker .rankable-img .well[data-v-2748dc6a] .ranking-img .lightbox-thumbnail {\n  position: absolute;\n  min-height: 125px;\n  width: 100%;\n  height: 100%;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n.field-ranking .ranker .rankable-img .well[data-v-2748dc6a] .ranking-img.fit .lightbox-thumbnail {\n  -o-object-fit: contain;\n     object-fit: contain;\n}\n@media only screen and (min-width: 568px) {\n.field-ranking .ranker .rankable-img .well[data-v-2748dc6a] .ranking-img {\n    min-height: 150px;\n}\n.field-ranking .ranker .rankable-img .well[data-v-2748dc6a] .ranking-img .lightbox-thumbnail {\n    min-height: 150px;\n}\n}\n@media only screen and (min-width: 768px) {\n.field-ranking .ranker .rankable-img .well[data-v-2748dc6a] .ranking-img {\n    flex: 0.75;\n    min-height: 200px;\n}\n.field-ranking .ranker .rankable-img .well[data-v-2748dc6a] .ranking-img .lightbox-thumbnail {\n    min-height: 200px;\n}\n}\n.field-ranking .ranker .well[data-v-2748dc6a] {\n  margin: 15px 0;\n  padding: 15px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.field-ranking .ranker .well.rank[data-v-2748dc6a], .field-ranking .ranker .well.check[data-v-2748dc6a] {\n  display: none;\n}\n.field-ranking .ranker .well .text[data-v-2748dc6a] {\n  flex: 1;\n  border: none;\n  padding-right: 15px;\n}\n.field-ranking .ranker .slots[data-v-2748dc6a] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  padding: 0 15px;\n}\n.field-ranking .ranker .slot[data-v-2748dc6a] {\n  pointer-events: none;\n  width: 100%;\n}\n.field-ranking .ranker .slot .card[data-v-2748dc6a] {\n  font-weight: 300;\n  color: #757575;\n}\n.field-ranking .ranker .slot.min .card[data-v-2748dc6a] {\n  border-color: #ccc;\n}\n.field-ranking .ranker .slot.rankable-img .well[data-v-2748dc6a] {\n  padding: 0 15px 0 0;\n}\n.field-ranking .ranker .slot.rankable-img span.text[data-v-2748dc6a] {\n  padding-left: 15px;\n}\n.field-ranking .ranker .sortable-ghost[data-v-2748dc6a] {\n  opacity: 0.3;\n  background-color: #eee;\n}\n.field-ranking .ranker.touch[data-v-2748dc6a] {\n  margin: 0;\n}\n.field-ranking .ranker.touch ol[data-v-2748dc6a] {\n  margin: 0;\n  padding: 0;\n  border: 0;\n}\n.field-ranking .ranker.touch ol .well[data-v-2748dc6a] {\n  position: relative;\n  display: flex;\n  align-items: flex-start;\n  padding: 0;\n  background: none;\n  border: none;\n  box-shadow: none;\n}\n.field-ranking .ranker.touch ol .well .check[data-v-2748dc6a] {\n  display: block;\n  position: absolute;\n  padding: 13px;\n}\n.field-ranking .ranker.touch ol .well .check .fa-square-o[data-v-2748dc6a] {\n  display: block;\n}\n.field-ranking .ranker.touch ol .well .check .fa-check-square[data-v-2748dc6a],\n.field-ranking .ranker.touch ol .well .check .fa-check[data-v-2748dc6a] {\n  display: none;\n}\n.field-ranking .ranker.touch ol .well .text[data-v-2748dc6a] {\n  display: inline-block;\n  flex-grow: 1;\n  border: 2px solid #ddd;\n  padding: 10px;\n  padding-inline-start: 30px;\n  margin-inline-end: 5px;\n}\n.field-ranking .ranker.touch ol .well .rank[data-v-2748dc6a] {\n  display: flex;\n  justify-content: center;\n  padding: 10px;\n  border: 2px solid #ddd;\n  font-weight: bold;\n  min-width: 64px;\n  color: #ccc;\n}\n.field-ranking .ranker.touch ol .well .text[data-v-2748dc6a],\n.field-ranking .ranker.touch ol .well .rank[data-v-2748dc6a] {\n  border-radius: 4px;\n}\n.field-ranking .ranker.touch ol .ranked .well[data-v-2748dc6a] {\n  color: #fff;\n}\n.field-ranking .ranker.touch ol .ranked .well .check .fa-square-o[data-v-2748dc6a] {\n  display: none;\n}\n.field-ranking .ranker.touch ol .ranked .well .check .fa-check-square[data-v-2748dc6a],\n.field-ranking .ranker.touch ol .ranked .well .check .fa-check[data-v-2748dc6a] {\n  display: block;\n}\n.field-ranking .ranker.touch ol .ranked .well .text[data-v-2748dc6a],\n.field-ranking .ranker.touch ol .ranked .well .rank[data-v-2748dc6a] {\n  background-color: green;\n  border-color: green;\n  color: white;\n}\n.field-ranking .ranker.touch ol .rankable-img .well[data-v-2748dc6a] {\n  flex-direction: column;\n  align-items: center;\n  border: 2px solid #ddd;\n}\n.field-ranking .ranker.touch ol .rankable-img .well .rank-text[data-v-2748dc6a] {\n  margin-left: auto;\n  margin-right: 5px;\n}\n.field-ranking .ranker.touch ol .rankable-img .well .rank[data-v-2748dc6a] {\n  background-color: transparent;\n  border: none;\n  min-width: auto;\n}\n.field-ranking .ranker.touch ol .rankable-img .well[data-v-2748dc6a] .ranking-img {\n  background-color: #ccc;\n}\n.field-ranking .ranker.touch ol .rankable-img .well[data-v-2748dc6a] .ranking-img .thumbnail-overlay {\n  align-items: flex-start;\n  justify-content: flex-end;\n}\n.field-ranking .ranker.touch ol .rankable-img .well[data-v-2748dc6a] .ranking-img .thumbnail-overlay img {\n  opacity: 1;\n  background-color: #000;\n  width: 25px;\n}\n@media only screen and (min-width: 568px) {\n.field-ranking .ranker.touch ol .rankable-img .well[data-v-2748dc6a] .ranking-img {\n    min-height: 150px;\n}\n.field-ranking .ranker.touch ol .rankable-img .well[data-v-2748dc6a] .ranking-img .lightbox-thumbnail {\n    min-height: 150px;\n}\n}\n.field-ranking .ranker.touch ol .rankable-img .well .check[data-v-2748dc6a] {\n  background-color: #F5F5F5;\n  border-bottom: 2px solid #ddd;\n  display: flex;\n  position: initial;\n  padding: 0 10px;\n  width: 100%;\n  align-items: center;\n}\n.field-ranking .ranker.touch ol .rankable-img .well .check .fa-check[data-v-2748dc6a] {\n  background-color: green;\n  color: #fff;\n  padding: 0.5em;\n}\n.field-ranking .ranker.touch ol .rankable-img .well .text[data-v-2748dc6a] {\n  margin: 0;\n  flex: 1;\n  padding: 10px;\n  border: none;\n}\n.field-ranking .ranker.touch ol .rankable-img:focus .well[data-v-2748dc6a] {\n  border-color: #ddd;\n}\n.field-ranking .ranker.touch ol .ranked.rankable-img .well[data-v-2748dc6a] {\n  border-color: green;\n  color: initial;\n}\n.field-ranking .ranker.touch ol .ranked.rankable-img .well .text[data-v-2748dc6a] {\n  background-color: transparent;\n  color: initial;\n}\n.field-ranking .ranker.touch ol .ranked.rankable-img .well .check[data-v-2748dc6a] {\n  color: #fff;\n  background-color: green;\n  border-color: green;\n}\n.field-ranking .ranker.touch ol .ranked.rankable-img .well .fa-check-square[data-v-2748dc6a] {\n  color: #fff;\n}\n.field-ranking.disabled .ranker .rankable .well[data-v-2748dc6a] {\n  cursor: not-allowed;\n}",""]),t.Z=l},86756:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,"div.ccm-page .field-rating[data-v-38407788] {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  margin: 0.2em 0;\n}\ndiv.ccm-page .field-rating .radio[data-v-38407788] {\n  font-size: 2em;\n  color: #aaa;\n  margin: 0;\n  padding: 0 5px;\n}\ndiv.ccm-page .field-rating .radio input[type=radio] + label[data-v-38407788] {\n  margin: 0;\n  border-bottom: 2px solid transparent;\n  line-height: 1;\n  padding-bottom: 2px;\n}\ndiv.ccm-page .field-rating .radio input[type=radio] + label[data-v-38407788]:before {\n  display: none;\n}\ndiv.ccm-page .field-rating .radio input[type=radio]:hover + label[data-v-38407788] {\n  border-bottom: 2px dotted transparent;\n}\ndiv.ccm-page .field-rating .radio input[type=radio]:focus + label[data-v-38407788] {\n  border-bottom: 2px dotted #999;\n}\ndiv.ccm-page .field-rating .radio.hovered i[data-v-38407788] {\n  color: orange;\n}\ndiv.ccm-page .field-rating .radio.active i[data-v-38407788] {\n  color: green;\n}\ndiv.ccm-page .field-rating .radio.reset.active i[data-v-38407788] {\n  color: red;\n}\ndiv.ccm-page .field-rating .radio.disabled label[data-v-38407788] {\n  cursor: not-allowed !important;\n}",""]),t.Z=l},96220:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,".image-figure.w-25[data-v-73021325] {\n  width: 25%;\n}\n.image-figure.w-50[data-v-73021325] {\n  width: 50%;\n}\n.image-figure.w-75[data-v-73021325] {\n  width: 75%;\n}\n.image-figure.w-auto[data-v-73021325], .image-figure.w-100[data-v-73021325] {\n  width: 100%;\n}\n.image-figure img[data-v-73021325] {\n  height: auto;\n}\n.image-figure.w-auto img[data-v-73021325] {\n  max-width: 100%;\n}\n.image-figure:not(.w-auto) img[data-v-73021325] {\n  width: 100%;\n}\n.image-figure.align-left[data-v-73021325] {\n  margin-right: auto;\n}\n.image-figure.align-center[data-v-73021325] {\n  margin-left: auto;\n  margin-right: auto;\n}\n.image-figure.align-right[data-v-73021325] {\n  margin-left: auto;\n}\n.image-figure figcaption[data-v-73021325] {\n  margin-top: 0.5em;\n}",""]),t.Z=l},13132:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,".video-block.w-25[data-v-6496d0db] {\n  width: 25%;\n}\n@media screen and (max-width: 767px) {\n.video-block.w-25[data-v-6496d0db] {\n    width: 100%;\n}\n}\n.video-block.w-50[data-v-6496d0db] {\n  width: 50%;\n}\n@media screen and (max-width: 767px) {\n.video-block.w-50[data-v-6496d0db] {\n    width: 100%;\n}\n}\n.video-block.w-75[data-v-6496d0db] {\n  width: 75%;\n}\n@media screen and (max-width: 767px) {\n.video-block.w-75[data-v-6496d0db] {\n    width: 100%;\n}\n}\n.video-block.w-auto[data-v-6496d0db], .video-block.w-100[data-v-6496d0db] {\n  width: 100%;\n}\n.video-block.align-left[data-v-6496d0db] {\n  margin-right: auto;\n}\n.video-block.align-center[data-v-6496d0db] {\n  margin-left: auto;\n  margin-right: auto;\n}\n.video-block.align-right[data-v-6496d0db] {\n  margin-left: auto;\n}\n.video-container[data-v-6496d0db] {\n  width: 100%;\n  max-width: 100%;\n  position: relative;\n}\n.video-player[data-v-6496d0db] {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n}",""]),t.Z=l},41817:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,".fade-enter-active[data-v-e2c3e1f6], .fade-leave-active[data-v-e2c3e1f6] {\n  transition: opacity 0.5s;\n}\n.fade-enter[data-v-e2c3e1f6], .fade-leave-to[data-v-e2c3e1f6] {\n  opacity: 0;\n}\n.preview .lightbox[data-v-e2c3e1f6] {\n  z-index: 1701;\n}\n.lightbox[data-v-e2c3e1f6] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.95);\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  z-index: 1500;\n  overflow: hidden;\n}\n.lightbox-link[data-v-e2c3e1f6] {\n  display: inline-block;\n  position: relative;\n}\n.lightbox-link .thumbnail-overlay[data-v-e2c3e1f6] {\n  background-color: rgba(0, 0, 0, 0);\n  cursor: pointer;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  z-index: 10;\n  font-size: 50px;\n  text-align: center;\n  opacity: 1;\n  transition: background-color 0.5s ease-out;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.lightbox-link .thumbnail-overlay img[data-v-e2c3e1f6] {\n  opacity: 0;\n  position: absolute;\n  transition: all 0.5s;\n}\n.lightbox-link:hover .thumbnail-overlay[data-v-e2c3e1f6], .lightbox-link:focus .thumbnail-overlay[data-v-e2c3e1f6] {\n  background-color: rgba(0, 0, 0, 0.3);\n}\n.lightbox-link:hover .thumbnail-overlay img[data-v-e2c3e1f6], .lightbox-link:focus .thumbnail-overlay img[data-v-e2c3e1f6] {\n  opacity: 1;\n  transition: all 0.5s;\n}\n.lightbox-thumbnail[data-v-e2c3e1f6] {\n  max-width: 100%;\n  height: auto;\n}\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n.lightbox-thumbnail[data-v-e2c3e1f6] {\n    width: 100%;\n}\n}\n.lightbox-controls[data-v-e2c3e1f6] {\n  position: fixed;\n  top: 0;\n  right: 0;\n  font-size: 2rem;\n  background: rgba(0, 0, 0, 0.7);\n  display: inline-flex;\n  align-items: center;\n}\n.lightbox-controls .btn.btn-control[data-v-e2c3e1f6] {\n  color: #999;\n  padding: 0.5em 0.75em;\n}\n.lightbox-controls .btn.btn-control[data-v-e2c3e1f6]:hover, .lightbox-controls .btn.btn-control[data-v-e2c3e1f6]:focus {\n  color: #fff;\n}\n.lightbox-image[data-v-e2c3e1f6] {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n}\n.lightbox-image img[data-v-e2c3e1f6] {\n  max-width: 100%;\n  max-height: 100%;\n  transition: transform 250ms cubic-bezier(0, 0, 0.25, 1) 0s;\n  will-change: transform;\n  backface-visibility: hidden;\n  flex: 0 0 auto;\n}\n.lightbox-image.grab[data-v-e2c3e1f6] {\n  cursor: -o-grab;\n  cursor: -ms-grab;\n  cursor: grab;\n}\n.lightbox-image.grabbing[data-v-e2c3e1f6] {\n  cursor: move;\n  cursor: -o-grabbing;\n  cursor: -ms-grabbing;\n  cursor: grabbing;\n}\n.lightbox-image.grabbing img[data-v-e2c3e1f6], .lightbox-image.zooming img[data-v-e2c3e1f6] {\n  transition-duration: 0s;\n}",""]),t.Z=l},98639:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,".checkmark__circle[data-v-aa23c9f0] {\n  stroke: #7ac142;\n  animation: stroke-aa23c9f0 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;\n}\n.checkmark[data-v-aa23c9f0] {\n  width: 56px;\n  height: 56px;\n  border-radius: 50%;\n  display: block;\n  stroke: #fff;\n  margin: 2em auto;\n  box-shadow: inset 0 0 0 #7ac142;\n  animation: fill-aa23c9f0 0.4s ease-in-out 0.4s forwards,scale-aa23c9f0 0.3s ease-in-out 0.9s both;\n}\n.checkmark__check[data-v-aa23c9f0] {\n  transform-origin: 50% 50%;\n  animation: stroke-aa23c9f0 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards;\n}\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n.checkmark[data-v-aa23c9f0] {\n    box-shadow: inset 0 0 0 30px #7ac142;\n    animation: scale-aa23c9f0 0.3s ease-in-out 0.3s both;\n}\n.checkmark__circle[data-v-aa23c9f0],\n  .checkmark__check[data-v-aa23c9f0] {\n    stroke-dashoffset: 0;\n}\n}\n@keyframes stroke-aa23c9f0 {\n100% {\n    stroke-dashoffset: 0;\n}\n}\n@keyframes scale-aa23c9f0 {\n0%, 100% {\n    transform: none;\n}\n50% {\n    transform: scale3d(1.1, 1.1, 1);\n}\n}\n@keyframes fill-aa23c9f0 {\n100% {\n    box-shadow: inset 0 0 0 30px #7ac142;\n}\n}",""]),t.Z=l},68195:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,'.intro[data-v-a6bce834] {\n  background-color: #e8ebef;\n}\n.intro .intro-image[data-v-a6bce834] {\n  background-color: #acb7c5;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  height: 250px;\n  max-height: 25vh;\n}\n.intro .intro-content[data-v-a6bce834] {\n  padding: 1em;\n}\n.intro .intro-status[data-v-a6bce834] {\n  margin-top: -1em;\n  padding-bottom: 1em;\n}\n.intro .intro-status span[data-v-a6bce834] {\n  padding: 0.5em 1em;\n  display: inline-block;\n  color: #fff;\n}\n.intro .intro-status span.open[data-v-a6bce834] {\n  background-color: #4B7F33;\n}\n.intro .intro-status span.closed[data-v-a6bce834] {\n  background-color: #B34636;\n}\n.intro .intro-title[data-v-a6bce834] {\n  font-size: 1.5em;\n  margin-bottom: 0.5em;\n}\n.intro .intro-description[data-v-a6bce834] {\n  margin-bottom: 1em;\n}\n.form-preview .modal[data-v-a6bce834] {\n  position: absolute;\n}\n.form-preview .modal .modal-content[data-v-a6bce834] {\n  box-shadow: none;\n  border: none;\n}\n.modal-dialog[data-v-a6bce834] {\n  height: 100%;\n  min-height: 100%;\n}\n.modal-content[data-v-a6bce834] {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.modal-body[data-v-a6bce834] {\n  flex: 1;\n  order: 1;\n  overflow-y: scroll;\n  -webkit-overflow-scrolling: auto;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.modal-body-header[data-v-a6bce834] {\n  order: 1;\n  flex-shrink: 0;\n  z-index: 1;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.25em 15px;\n}\n@media screen and (min-width: 768px) {\n.modal-body-header[data-v-a6bce834] {\n    padding-top: 0.75em;\n    padding-bottom: 0.75em;\n}\n}\n@media screen and (min-width: 1200px) {\n.modal-body-header[data-v-a6bce834] {\n    padding-top: 1em;\n    padding-bottom: 1em;\n}\n}\n.modal-body-header .modal-title[data-v-a6bce834] {\n  color: #006893;\n  margin: 0;\n  flex: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n@media screen and (max-width: 767px) {\n.modal-body-header .modal-title > span[data-v-a6bce834] {\n    display: block;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n}\n.modal-body-header .btn-close[data-v-a6bce834] {\n  background: transparent;\n  border: none;\n  padding: 0.25em 0.5em;\n}\n.modal-body-content[data-v-a6bce834] {\n  order: 2;\n  padding: 20vh 0 5vh 0;\n}\n.modal-body-content.prompt-open[data-v-a6bce834] {\n  z-index: 0;\n}\n.modal-body-content[data-v-a6bce834] .review-form .review-form-section .review-form-section-title {\n  border-bottom: 2px solid #333;\n  padding-bottom: 0.25em;\n  margin-bottom: 1em;\n}\n.modal-footer .container-fluid[data-v-a6bce834] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-top: 0.25em;\n  padding-bottom: 0.25em;\n}\n@media screen and (min-width: 768px) {\n.modal-footer .container-fluid[data-v-a6bce834] {\n    padding-top: 0.75em;\n    padding-bottom: 0.75em;\n}\n}\n@media screen and (min-width: 1200px) {\n.modal-footer .container-fluid[data-v-a6bce834] {\n    padding-top: 1.25em;\n    padding-bottom: 1.25em;\n}\n}\n.modal-footer[data-v-a6bce834] {\n  order: 2;\n  flex-shrink: 0;\n  padding: 0;\n}\n.modal-footer .container-fluid[data-v-a6bce834] {\n  text-align: start;\n}\n.modal-footer .container-fluid .progress-container[data-v-a6bce834] {\n  flex: 1;\n  margin-right: 15px;\n  font-size: 85%;\n}\n.modal-footer .container-fluid .progress-container .progress[data-v-a6bce834] {\n  max-width: 250px;\n  background-color: rgba(255, 255, 255, 0.4);\n  border-radius: 8px;\n  margin-bottom: 0;\n}\n.modal-footer .container-fluid .btn.btn-prev[data-v-a6bce834],\n.modal-footer .container-fluid .btn.btn-next[data-v-a6bce834] {\n  padding: 0.5em;\n  line-height: 1;\n}\n@media screen and (min-width: 768px) {\n.modal-footer .container-fluid .btn.btn-prev[data-v-a6bce834],\n  .modal-footer .container-fluid .btn.btn-next[data-v-a6bce834] {\n    padding: 0.75em;\n}\n}\n.modal[data-v-a6bce834] {\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n}\n.modal-dialog[data-v-a6bce834] {\n  width: 100%;\n  height: 100%;\n  padding: 0;\n  margin: 0;\n}\n.modal-content[data-v-a6bce834] {\n  height: 100%;\n  border: 0;\n  border-radius: 0;\n}\ndiv.ccm-page .hive-form-renderer-freeflow .error-container[data-v-a6bce834] {\n  position: absolute;\n  top: 0;\n  transform: translateY(calc(-100% - 1em));\n}\ndiv.ccm-page .hive-form-renderer-freeflow .error-container .error[data-v-a6bce834] {\n  background-color: #b34646;\n  color: white;\n  padding: 0.25em 0.5em;\n  border-radius: 3px;\n  display: inline-block;\n}\ndiv.ccm-page .hive-form-renderer-freeflow .error-container .error[data-v-a6bce834]:before {\n  content: "";\n  display: block;\n  width: 0;\n  height: 0;\n  position: absolute;\n  border-left: 8px solid transparent;\n  border-right: 8px solid transparent;\n  border-top: 8px solid #b34646;\n  bottom: -7px;\n  left: 0.5em;\n}\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=checkbox] + span.help-validation + label,\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=checkbox] + label,\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=radio] + label {\n  line-height: 1.3em;\n}\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=checkbox] + span.help-validation + label::before,\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=checkbox] + label::before,\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=radio] + label::before {\n  height: 1em;\n  width: 1em;\n  font-size: 1.3em;\n}\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=checkbox]:checked + span.help-validation + label::before,\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=checkbox]:checked + label::before,\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=radio]:checked + label::before {\n  background-size: 1em;\n}\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=radio]:checked + label::before {\n  background-image: url(/application/themes/the_hive/img/check.svg);\n  background-position: 50%;\n  background-repeat: no-repeat;\n}\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=text],\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=email],\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=password],\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=url],\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=tel],\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=number],\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=search],\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=file],\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=date],\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=datetime-local],\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=month],\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=time],\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=week] {\n  box-shadow: none;\n  border: none;\n  border-radius: 0;\n  height: auto;\n  padding: 0.5em 0;\n  border-bottom: 2px solid #ccc;\n  line-height: 1.428571429;\n}\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=text]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=email]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=password]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=url]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=tel]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=number]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=search]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=file]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=date]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=datetime-local]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=month]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=time]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] input[type=week]:focus {\n  box-shadow: none;\n}\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .number-control-with-spinner input[type=number] {\n  padding: 0.5em;\n  border-top: 2px solid #ccc;\n  margin: 0;\n}\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] textarea,\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] textarea.form-control {\n  box-shadow: none;\n  border-radius: 0;\n  height: 7em;\n  padding: 0.5em;\n  border: 2px solid #ccc;\n}\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] textarea:focus,\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] textarea.form-control:focus {\n  box-shadow: none;\n}\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] select,\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] select.form-control {\n  box-shadow: none;\n  border-radius: 0;\n  height: auto;\n  border: 2px solid #ccc;\n  background-size: 0.5em;\n  background-position: right 0.5em center;\n  padding-inline-end: 1.5em;\n}\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] select:focus,\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] select.form-control:focus {\n  box-shadow: none;\n}\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .slider-input input[type=number] {\n  border: 2px solid #ccc;\n  padding: 0.25em 0.5em;\n}\n@media screen and (min-width: 768px) {\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .matrix-wrapper {\n    border: 2px solid #ccc;\n}\n}\n@media screen and (min-width: 992px) {\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .matrix-wrapper[data-cols="5"], div.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .matrix-wrapper[data-cols="6"], div.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .matrix-wrapper[data-cols="7"], div.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .matrix-wrapper[data-cols="8"], div.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .matrix-wrapper[data-cols="9"], div.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .matrix-wrapper[data-cols="10"] {\n    margin-left: -5em;\n    margin-right: -5em;\n}\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .image-ranking {\n    margin-left: -5em;\n    margin-right: -5em;\n}\n}\n@media screen and (min-width: 1200px) {\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .matrix-wrapper[data-cols="5"], div.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .matrix-wrapper[data-cols="6"], div.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .matrix-wrapper[data-cols="7"], div.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .matrix-wrapper[data-cols="8"], div.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .matrix-wrapper[data-cols="9"], div.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .matrix-wrapper[data-cols="10"] {\n    margin-left: -10em;\n    margin-right: -10em;\n}\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .image-ranking {\n    margin-left: -10em;\n    margin-right: -10em;\n}\n}\n@media screen and (min-width: 1400px) {\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .matrix-wrapper[data-cols="6"], div.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .matrix-wrapper[data-cols="7"], div.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .matrix-wrapper[data-cols="8"], div.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .matrix-wrapper[data-cols="9"], div.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .matrix-wrapper[data-cols="10"] {\n    margin-left: -15em;\n    margin-right: -15em;\n}\n}\n@media screen and (min-width: 1600px) {\ndiv.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .matrix-wrapper[data-cols="7"], div.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .matrix-wrapper[data-cols="8"], div.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .matrix-wrapper[data-cols="9"], div.ccm-page .hive-form-renderer-freeflow[data-v-a6bce834] .matrix-wrapper[data-cols="10"] {\n    margin-left: -20em;\n    margin-right: -20em;\n}\n}\ndiv.ccm-page .hive-form-renderer-freeflow .form-group.has-error[data-v-a6bce834] input[type=text]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow .form-group.has-error[data-v-a6bce834] input[type=email]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow .form-group.has-error[data-v-a6bce834] input[type=password]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow .form-group.has-error[data-v-a6bce834] input[type=url]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow .form-group.has-error[data-v-a6bce834] input[type=tel]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow .form-group.has-error[data-v-a6bce834] input[type=number]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow .form-group.has-error[data-v-a6bce834] input[type=search]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow .form-group.has-error[data-v-a6bce834] input[type=file]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow .form-group.has-error[data-v-a6bce834] input[type=date]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow .form-group.has-error[data-v-a6bce834] input[type=datetime-local]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow .form-group.has-error[data-v-a6bce834] input[type=month]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow .form-group.has-error[data-v-a6bce834] input[type=time]:focus,\ndiv.ccm-page .hive-form-renderer-freeflow .form-group.has-error[data-v-a6bce834] input[type=week]:focus {\n  border-bottom-color: #b34646;\n}\ndiv.ccm-page .hive-form-renderer-freeflow .form-group.has-error[data-v-a6bce834] textarea:focus,\ndiv.ccm-page .hive-form-renderer-freeflow .form-group.has-error[data-v-a6bce834] textarea.form-control:focus {\n  border-color: #b34646;\n}\ndiv.ccm-page .hive-form-renderer-freeflow .form-group.has-error[data-v-a6bce834] select:focus,\ndiv.ccm-page .hive-form-renderer-freeflow .form-group.has-error[data-v-a6bce834] select.form-control:focus {\n  border-color: #b34646;\n}\ndiv.ccm-page[dir=rtl] .hive-form-renderer-freeflow .error-container .error[data-v-a6bce834]:before {\n  left: auto;\n  right: 0.5em;\n}\ndiv.ccm-page[dir=rtl] .hive-form-renderer-freeflow[data-v-a6bce834] select,\ndiv.ccm-page[dir=rtl] .hive-form-renderer-freeflow[data-v-a6bce834] select.form-control {\n  background-position: left 0.5em center;\n}\n.form-section[data-v-a6bce834] {\n  margin-top: 0;\n  margin-bottom: 1em;\n}\n.form-section .section-title[data-v-a6bce834] {\n  border: none;\n}\n@media screen and (min-width: 768px) {\n.form-section[data-v-a6bce834] {\n    margin-bottom: 1.5em;\n}\n}\n@media screen and (min-width: 1200px) {\n.form-section[data-v-a6bce834] {\n    margin-bottom: 2em;\n}\n}\n.form-element .element-label-fixed[data-v-a6bce834] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  background: rgba(247, 247, 247, 0.95);\n  z-index: 2;\n}\n.form-element .element-label-fixed .container-fluid[data-v-a6bce834] {\n  padding-top: 0.5em;\n  padding-bottom: 0.5em;\n}\n.form-element .element-label-fixed .element-label-fixed-inner[data-v-a6bce834] {\n  font-size: 1.2em;\n  line-height: 1.25;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  font-weight: bold;\n}\n.form-element .legend-label[data-v-a6bce834],\n.form-element .control-label[data-v-a6bce834] {\n  font-size: 1.2em;\n  line-height: 1.25;\n  margin-bottom: 0.5em;\n}\n.form-element .help-block[data-v-a6bce834] {\n  font-size: 1em;\n  line-height: 1.4;\n  margin-top: 0.5em;\n  margin-bottom: 1em;\n}\n.form-element .badge-required[data-v-a6bce834] {\n  background: #ddd;\n  color: #3f3f3f;\n}\n.form-element .question-image[data-v-a6bce834] .lightbox-thumbnail {\n  max-height: 40vh;\n}\n.form-element .form-group[data-v-a6bce834] {\n  margin-bottom: 1em;\n}\n.form-element[data-v-a6bce834] .field-select select {\n  padding: 0.5em;\n  height: auto;\n  line-height: 1;\n}\n.form-element[data-v-a6bce834] .field-slider {\n  padding-inline-start: 15px;\n}\n.form-element[data-v-a6bce834] .field-slider .slider-input input[type=number] {\n  width: 4em;\n}\n@media screen and (min-width: 768px) {\n.form-element .legend-label[data-v-a6bce834],\n  .form-element .control-label[data-v-a6bce834] {\n    font-size: 1.4em;\n}\n.form-element .help-block[data-v-a6bce834] {\n    font-size: 1.1em;\n}\n.form-element .form-group[data-v-a6bce834] {\n    margin-bottom: 1.5em;\n}\n.form-element .form-group[data-v-a6bce834] .field-checkbox .radio,\n  .form-element .form-group[data-v-a6bce834] .field-checkbox .checkbox,\n  .form-element .form-group[data-v-a6bce834] .field-checkbox-list .radio,\n  .form-element .form-group[data-v-a6bce834] .field-checkbox-list .checkbox,\n  .form-element .form-group[data-v-a6bce834] .field-radio .radio,\n  .form-element .form-group[data-v-a6bce834] .field-radio .checkbox {\n    margin-top: 0.75em;\n    margin-bottom: 0.75em;\n    font-size: 1.25em;\n}\n.form-element .form-group[data-v-a6bce834] .field-checkbox .radio .other-value-field input,\n  .form-element .form-group[data-v-a6bce834] .field-checkbox .checkbox .other-value-field input,\n  .form-element .form-group[data-v-a6bce834] .field-checkbox-list .radio .other-value-field input,\n  .form-element .form-group[data-v-a6bce834] .field-checkbox-list .checkbox .other-value-field input,\n  .form-element .form-group[data-v-a6bce834] .field-radio .radio .other-value-field input,\n  .form-element .form-group[data-v-a6bce834] .field-radio .checkbox .other-value-field input {\n    font-size: 1em;\n}\n.form-element .form-group[data-v-a6bce834] .field-checkbox-list.cards .card,\n  .form-element .form-group[data-v-a6bce834] .field-radio.cards .card {\n    margin-top: 0;\n    margin-bottom: 1em;\n}\n.form-element .form-group[data-v-a6bce834] .field-checkbox-list.cards .card + .card,\n  .form-element .form-group[data-v-a6bce834] .field-radio.cards .card + .card {\n    margin-top: 0;\n}\n.form-element .form-group[data-v-a6bce834] .field-input input,\n  .form-element .form-group[data-v-a6bce834] .field-input-date input,\n  .form-element .form-group[data-v-a6bce834] .field-input-datetime input,\n  .form-element .form-group[data-v-a6bce834] .field-select .other-value-field input {\n    font-size: 1.4em;\n}\n.form-element .form-group[data-v-a6bce834] .field-input-number .btn-adjust-value {\n    font-size: 1.6em;\n}\n.form-element .form-group[data-v-a6bce834] .field-select select {\n    font-size: 1.4em;\n}\n.form-element .form-group[data-v-a6bce834] .field-input-textarea textarea {\n    font-size: 1.4em;\n}\n.form-element .form-group[data-v-a6bce834] .field-slider {\n    padding-inline-start: 0;\n}\n.form-element .form-group[data-v-a6bce834] .field-slider .slider-labels {\n    font-size: 1.1em;\n}\n.form-element .form-group[data-v-a6bce834] .field-slider .slider-input input[type=number] {\n    font-size: 1.2em;\n}\n}\n@media screen and (min-width: 1200px) {\n.form-element .legend-label[data-v-a6bce834],\n  .form-element .control-label[data-v-a6bce834] {\n    font-size: 1.8em;\n}\n.form-element .help-block[data-v-a6bce834] {\n    font-size: 1.2em;\n}\n.form-element .form-group[data-v-a6bce834] {\n    margin-bottom: 2em;\n}\n.form-element .form-group[data-v-a6bce834] .field-checkbox .radio,\n  .form-element .form-group[data-v-a6bce834] .field-checkbox .checkbox,\n  .form-element .form-group[data-v-a6bce834] .field-checkbox-list .radio,\n  .form-element .form-group[data-v-a6bce834] .field-checkbox-list .checkbox,\n  .form-element .form-group[data-v-a6bce834] .field-radio .radio,\n  .form-element .form-group[data-v-a6bce834] .field-radio .checkbox {\n    margin-bottom: 1em;\n    font-size: 1.5em;\n}\n.form-element .form-group[data-v-a6bce834] .field-checkbox .radio + .radio, .form-element .form-group[data-v-a6bce834] .field-checkbox .radio + .checkbox,\n  .form-element .form-group[data-v-a6bce834] .field-checkbox .checkbox + .radio,\n  .form-element .form-group[data-v-a6bce834] .field-checkbox .checkbox + .checkbox,\n  .form-element .form-group[data-v-a6bce834] .field-checkbox-list .radio + .radio,\n  .form-element .form-group[data-v-a6bce834] .field-checkbox-list .radio + .checkbox,\n  .form-element .form-group[data-v-a6bce834] .field-checkbox-list .checkbox + .radio,\n  .form-element .form-group[data-v-a6bce834] .field-checkbox-list .checkbox + .checkbox,\n  .form-element .form-group[data-v-a6bce834] .field-radio .radio + .radio,\n  .form-element .form-group[data-v-a6bce834] .field-radio .radio + .checkbox,\n  .form-element .form-group[data-v-a6bce834] .field-radio .checkbox + .radio,\n  .form-element .form-group[data-v-a6bce834] .field-radio .checkbox + .checkbox {\n    margin-top: -0.5em;\n}\n.form-element .form-group[data-v-a6bce834] .field-checkbox-list.cards .card,\n  .form-element .form-group[data-v-a6bce834] .field-radio.cards .card {\n    margin-top: 0;\n    margin-bottom: 1em;\n}\n.form-element .form-group[data-v-a6bce834] .field-checkbox-list.cards .card + .card,\n  .form-element .form-group[data-v-a6bce834] .field-radio.cards .card + .card {\n    margin-top: 0;\n}\n.form-element .form-group[data-v-a6bce834] .field-input input,\n  .form-element .form-group[data-v-a6bce834] .field-input-date input,\n  .form-element .form-group[data-v-a6bce834] .field-input-datetime input,\n  .form-element .form-group[data-v-a6bce834] .field-select .other-value-field input,\n  .form-element .form-group[data-v-a6bce834] .field-slider .slider-input input {\n    font-size: 1.8em;\n}\n.form-element .form-group[data-v-a6bce834] .field-input-number .btn-adjust-value {\n    font-size: 2em;\n}\n.form-element .form-group[data-v-a6bce834] .field-select select {\n    font-size: 1.8em;\n}\n.form-element .form-group[data-v-a6bce834] .field-input-textarea textarea {\n    font-size: 1.8em;\n}\n.form-element .form-group[data-v-a6bce834] .field-slider .slider-labels {\n    font-size: 1.2em;\n}\n.form-element .form-group[data-v-a6bce834] .field-slider .slider-input input[type=number] {\n    font-size: 1.4em;\n}\n}\n.form-element article[data-v-a6bce834] {\n  flex: 1;\n  position: absolute;\n  width: 100%;\n}\n.form-element article .form-group .form-group-inner[data-v-a6bce834] {\n  flex: 1;\n}\n.slide[data-v-a6bce834] {\n  flex: 1;\n}\n.slide .slide-actions[data-v-a6bce834] {\n  margin-top: 1.5em;\n}\n.thank-you-message[data-v-a6bce834] {\n  text-align: center;\n  margin: 1em 0;\n}\n.thank-you-message .checkmark[data-v-a6bce834] {\n  margin: 2em auto;\n}\n.thank-you-message p[data-v-a6bce834] {\n  white-space: pre-line;\n}\n\n/* Transitions */\n.slide-fade-enter-active[data-v-a6bce834] {\n  transition: all 0.3s ease;\n}\n.slide-fade-leave-active[data-v-a6bce834] {\n  transition: all 0s ease;\n}\n.slide-fade-enter-from[data-v-a6bce834],\n.slide-fade-leave-to[data-v-a6bce834] {\n  transform: translateY(-2em);\n  opacity: 0;\n}\n.error-fade-enter-active[data-v-a6bce834] {\n  transition: all 0.3s ease;\n}\n.error-fade-leave-active[data-v-a6bce834] {\n  transition: all 0s ease;\n}\n.error-fade-enter-from[data-v-a6bce834],\n.error-fade-leave-to[data-v-a6bce834] {\n  transform: translateY(1em) !important;\n  opacity: 0;\n}\n.slide-prev-enter-active[data-v-a6bce834],\n.slide-prev-leave-active[data-v-a6bce834],\n.slide-next-enter-active[data-v-a6bce834],\n.slide-next-leave-active[data-v-a6bce834] {\n  will-change: transform;\n  transition: all 0.7s ease;\n  position: absolute;\n  width: 100%;\n}\n.slide-prev-enter-active .element-label-fixed[data-v-a6bce834],\n.slide-prev-leave-active .element-label-fixed[data-v-a6bce834],\n.slide-next-enter-active .element-label-fixed[data-v-a6bce834],\n.slide-next-leave-active .element-label-fixed[data-v-a6bce834] {\n  display: none;\n}\n.slide-prev-leave-to[data-v-a6bce834],\n.slide-next-enter-from[data-v-a6bce834] {\n  transform: translateY(100vh);\n}\n.slide-prev-enter-from[data-v-a6bce834],\n.slide-prev-leave-to[data-v-a6bce834],\n.slide-next-enter-from[data-v-a6bce834],\n.slide-next-leave-to[data-v-a6bce834] {\n  opacity: 0;\n}\n.slide-next-leave-to[data-v-a6bce834],\n.slide-prev-enter-from[data-v-a6bce834] {\n  transform: translateY(-100vh);\n}',""]),t.Z=l},94951:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,".intro .intro-status[data-v-7314e31e] {\n  border-top: 1px solid #d8d8d8;\n  padding-bottom: 1em;\n}\n.intro .intro-status span[data-v-7314e31e] {\n  padding: 0.5em 1em;\n  display: inline-block;\n  top: -1px;\n  position: relative;\n  color: #fff;\n}\n.intro .intro-status span.open[data-v-7314e31e] {\n  background-color: #4B7F33;\n}\n.intro .intro-status span.closed[data-v-7314e31e] {\n  background-color: #B34636;\n}\n.form-action[data-v-7314e31e] {\n  text-align: right;\n}\n.thank-you-message[data-v-7314e31e] {\n  text-align: center;\n  margin: 1em 0;\n}\n.thank-you-message .checkmark[data-v-7314e31e] {\n  margin: 2em auto;\n}\n.thank-you-message p[data-v-7314e31e] {\n  white-space: pre-line;\n}",""]),t.Z=l},91017:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,".intro .intro-status[data-v-bee6f824] {\n  border-top: 1px solid #D8D8D8;\n  padding-bottom: 1em;\n}\n.intro .intro-status span[data-v-bee6f824] {\n  padding: 0.5em 1em;\n  display: inline-block;\n  top: -1px;\n  position: relative;\n  color: #fff;\n}\n.intro .intro-status span.open[data-v-bee6f824] {\n  background-color: #4B7F33;\n}\n.intro .intro-status span.closed[data-v-bee6f824] {\n  background-color: #B34636;\n}\n.form-action[data-v-bee6f824] {\n  text-align: right;\n}\n.thank-you-message[data-v-bee6f824] {\n  text-align: center;\n  margin: 1em 0;\n}\n.thank-you-message .checkmark[data-v-bee6f824] {\n  margin: 2em auto;\n}\n.thank-you-message p[data-v-bee6f824] {\n  white-space: pre-line;\n}\nspan.block[data-v-bee6f824] {\n  display: block;\n  font-weight: normal;\n}\nspan.block[data-v-bee6f824]:first-letter {\n  text-transform: uppercase;\n}\n.privacy-label.label[data-v-bee6f824] {\n  font-size: 11px;\n  text-transform: uppercase;\n  padding: 0.2em 0.6em;\n}",""]),t.Z=l},24558:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,".fade-enter-active[data-v-f15d5cf2], .fade-leave-active[data-v-f15d5cf2] {\n  transition: opacity 0.3s;\n}\n.fade-enter[data-v-f15d5cf2], .fade-leave-to[data-v-f15d5cf2] {\n  opacity: 0;\n}\n.prompt[data-v-f15d5cf2] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1051;\n  background-color: rgba(0, 0, 0, 0.75);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-overflow-scrolling: auto;\n}\n.prompt-dialog[data-v-f15d5cf2] {\n  background: white;\n  margin: 1em;\n  max-width: 26em;\n  box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);\n  text-align: center;\n  border-radius: 8px;\n}\n.prompt-dialog-header[data-v-f15d5cf2] {\n  border-top-left-radius: 8px;\n  border-top-right-radius: 8px;\n  padding: 1em;\n}\n.prompt-dialog-header h1[data-v-f15d5cf2] {\n  font-size: 1.5em;\n  margin: 0;\n  padding: 0;\n}\n.prompt-dialog-body[data-v-f15d5cf2] {\n  padding: 1em;\n}\n.prompt-dialog-buttons[data-v-f15d5cf2] {\n  border-top: 1px solid #ccc;\n  padding: 1em;\n  border-bottom-left-radius: 8px;\n  border-bottom-right-radius: 8px;\n}",""]),t.Z=l},38950:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,".slide-next-button[data-v-0320bd56] {\n  display: flex;\n  align-items: baseline;\n}\n.slide-next-button > span[data-v-0320bd56] {\n  margin-inline-start: 1em;\n}",""]),t.Z=l},89411:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,'.hive-block .hive-block-inner[data-v-88499f10] {\n  position: relative;\n}\n[data-v-88499f10] .mapboxgl-marker.hive-marker {\n  width: 32px;\n  height: 45px;\n}\n[data-v-88499f10] .mapboxgl-marker.hive-marker img {\n  width: 100%;\n  height: 100%;\n}\n[data-v-88499f10] .mapboxgl-marker.hive-marker-raised {\n  transition: all 0.3s ease;\n  padding-bottom: 20px;\n  box-sizing: content-box;\n}\n[data-v-88499f10] .mapboxgl-marker.hive-marker-raised:after {\n  content: "";\n  background: url("packages/the_hive_feedback/images/the_hive_social_map/ghost_marker_mobile.png") no-repeat bottom;\n  background-size: 100%;\n  width: 32px;\n  height: 78px;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n}\n[data-v-88499f10] .loading-indicator {\n  color: #006893;\n  font-size: 40px;\n}',""]),t.Z=l},27421:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,".hive-block-social-map .hive-submission-form .btn-cancel[data-v-74637471] {\n  margin-inline-end: 2px;\n}\n.hive-social-map-block.add-hive-submission.mobile[data-v-74637471] {\n  position: relative;\n}",""]),t.Z=l},43922:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,".btn-map[data-v-8e21c7d6] {\n  flex: 1 1 0;\n  margin: 0;\n  padding: 0;\n}",""]),t.Z=l},38851:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,".hive-block-social-map .btn-map-inner[data-v-059a1467] {\n  width: 100%;\n}",""]),t.Z=l},85676:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,'.hive-block-social-map .pin-content .fileupload ul {\n  list-style: none;\n  padding: 0;\n}\n.hive-block-social-map .pin-content .fileupload ul li:before {\n  font: var(--fa-font-solid);\n  content: "\\f0ee";\n  font-size: 16px;\n  margin-right: 5px;\n}\n\n.submission-preload {\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  min-height: 110px;\n}',""]),t.Z=l},10862:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,"\n.voting-rating-summary .voting-rating-container[data-v-32f287df] {\n    align-items: center;\n    display: inline-flex\n}\n.voting-rating-summary .voting-rating-container .icon[data-v-32f287df] {\n    display: inline-flex;\n}\n.voting-rating-summary .voting-rating-container .central-tendancy[data-v-32f287df] {\n    padding: 0 3px;\n}\n.voting-rating-summary .voting-rating-container .scroll-container[data-v-32f287df] {\n    cursor: pointer;\n    text-decoration: underline;\n}\n",""]),t.Z=l},22031:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,'\n.voting-rating[data-v-1276fe90] {\n    display: flex;\n    justify-content: center;\n    position: relative;\n    padding: 0;\n    border: none;\n    margin: 0 auto;\n    pointer-events: none;\n}\n.voting-rating > input[type="radio"][data-v-1276fe90] {\n    position: absolute;\n    margin-right: -100%;\n    opacity: 0;\n    left: 0;\n    pointer-events: auto;\n}\n.voting-rating.ordinal:hover > input:checked ~ label span.selected[data-v-1276fe90],\n.voting-rating.ordinal:hover > input:focus ~ label span.selected[data-v-1276fe90] {\n    opacity: 1;\n}\n.voting-rating.ordinal > input:checked ~ label span.selected[data-v-1276fe90],\n.voting-rating.ordinal > input:focus ~ label span.selected[data-v-1276fe90],\n.voting-rating.ordinal > input[disabled]:checked ~ label span.selected[data-v-1276fe90] {\n    opacity: 0;\n}\n.voting-rating > input:checked + label span.selected[data-v-1276fe90],\n.voting-rating > input:focus + label span.selected[data-v-1276fe90],\n.voting-rating > input[disabled]:checked + label span.selected[data-v-1276fe90],\n.voting-rating.ordinal > input:checked + label span.selected[data-v-1276fe90],\n.voting-rating.ordinal > input:focus + label span.selected[data-v-1276fe90],\n.voting-rating.ordinal > input[disabled]:checked + label span.selected[data-v-1276fe90] {\n    opacity: 1;\n}\n.voting-rating.ordinal > input[disabled]:hover + label[data-v-1276fe90] {\n    cursor: default;\n}\n.voting-rating.ordinal > input:not([disabled]):hover ~ label span.selected[data-v-1276fe90] {\n    opacity: 0;\n}\n.voting-rating > input:not([disabled]):hover + label span.selected[data-v-1276fe90],\n.voting-rating.ordinal > input:not([disabled]):hover + label span.selected[data-v-1276fe90] {\n    opacity: 1;\n}\n.voting-rating.ordinal > input:focus + label[data-v-1276fe90] {\n    outline: 1px dotted #999;\n}\n.voting-rating > .voting-rating-focus-ring[data-v-1276fe90] {\n    position: absolute;\n    left: 0;\n    width: 100%;\n    outline: 2px dotted #999;\n    pointer-events: none;\n    opacity: 0;\n}\n.voting-rating > .input-no-rate:focus ~ .voting-rating-focus-ring[data-v-1276fe90] {\n    opacity: 1;\n}\n.voting-rating > label[data-v-1276fe90] {\n    position: relative;\n    float: left;\n    font-size: 0.1em;\n    color: transparent;\n    cursor: pointer;\n    padding-left: 4px;\n    padding-right: 10px;\n    padding-bottom: 10px;\n    box-sizing: content-box;\n    pointer-events: auto;\n}\n.voting-rating > label[data-v-1276fe90]:last-of-type {\n    padding-right: 0;\n}\n.voting-rating > label > span.unselected[data-v-1276fe90],\n.voting-rating > label > span.selected[data-v-1276fe90] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    pointer-events: none;\n    width: 100%;\n    height: 100%;\n}\n.voting-rating > label > span.selected[data-v-1276fe90] {\n    opacity: 0;\n}\n.voting-rating.ordinal > label > span.selected[data-v-1276fe90] {\n    opacity: 1;\n}\n.voting-rating > label > span.unselected svg[data-v-1276fe90],\n.voting-rating > label > span.selected svg[data-v-1276fe90] {\n    pointer-events: none;\n}\n\n/* todo: find a better solution */\n.voting-rating input[type="radio"]+label[data-v-1276fe90]::before {\n    visibility: hidden;\n}\n.voting-button-container[data-v-1276fe90] {\n    display: flex;\n    align-items: center;\n    justify-content: space-around;\n    flex-direction: row-reverse;\n}\n.voting-rating-wrapper .loader-container[data-v-1276fe90] {\n    padding: 34px 0 44px;\n}\n@media screen and (-ms-high-contrast: active) {\n.voting-rating[data-v-1276fe90] {\n        width: auto;\n}\n.voting-rating > input[data-v-1276fe90] {\n        position: static;\n        margin-right: 0;\n        opacity: 1;\n}\n.voting-rating > .input-no-rate[data-v-1276fe90] {\n        display: none;\n}\n.voting-rating > label[data-v-1276fe90] {\n        display: inline;\n        float: none;\n        width: auto;\n        height: auto;\n        font-size: 1em;\n        color: inherit;\n        background: none;\n}\n}\n',""]),t.Z=l},31468:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,"\n.question-image[data-v-eb5fb86c] {\n    max-width: 100%;\n    height: auto;\n    margin-bottom: 1em;\n    display: block;\n}\n",""]),t.Z=l},51861:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,"\n.review-form-section dd[data-v-b816f18c] {\n    margin-bottom: 2rem;\n}\n",""]),t.Z=l},40368:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,"\n.flatpickr-input[disabled][data-v-847a5958] {\n        cursor: not-allowed;\n}\n",""]),t.Z=l},31161:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,'\n.field-slider[data-v-0840cbd2] {\n    display: flex;\n    flex-wrap: nowrap;\n}\n.slider-container[data-v-0840cbd2] {\n    flex: 1 1 auto;\n}\n.slider-labels[data-v-0840cbd2] {\n    display: flex;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n}\n.slider-labels > span[data-v-0840cbd2] {\n    flex-basis: 100%;\n    overflow-wrap: anywhere;\n}\n.slider-input[data-v-0840cbd2] {\n    flex: 0 1 auto;\n}\n.slider-input-inner[data-v-0840cbd2] {\n    display: flex;\n    align-items: center;\n}\n.slider-input input[type="number"][data-v-0840cbd2] {\n    width: 5em;\n    margin: 0;\n}\n',""]),t.Z=l},82982:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),r=a(23645),l=a.n(r)()(n());l.push([e.id,"\n.hive-block-social-map.preview ul,\n.hive-block-social-map.preview ol {\n    list-style: revert;\n    margin: revert;\n    padding: revert;\n}\n",""]),t.Z=l},46700:function(e,t,a){var i={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=r,e.exports=n,n.id=46700},77880:function(e,t,a){"use strict";a.d(t,{Z:function(){return ls}});var i=a(66252),n=a(49963),r=a(3577);const l={method:"post",novalidate:""},o={class:"loader",style:{display:"block"}},s=["value"],d=["value"],c=["disabled"],u={key:0,class:"alert alert-danger"};var m=a(71257),p=a(19448),h=a.n(p);function v(e,t,a){switch(t){case"=":return Array.isArray(a)&&Array.isArray(e)?e.length===a.length&&e.every((e=>a.includes(e))):e==a;case"!=":return Array.isArray(a)&&Array.isArray(e)?e.length!==a.length||!e.every((e=>a.includes(e))):e!=a;case">":case">=":case"<":case"<=":return((e,t,a)=>{if(null==e||""===e)return!1;switch("string"==typeof a&&/^\d+$/.test(a)&&(e=Number(e),a=Number(a)),t){case">":return e>a;case">=":return e>=a;case"<":return e<a;case"<=":return e<=a;default:return null}})(e,t,a);case"contains":return"number"==typeof e?e.toString().includes(a):"string"==typeof e&&e.includes(a);case"!contains":return"number"==typeof e?!e.toString().includes(a):"string"!=typeof e||!e.includes(a);case"oneOf":return Array.isArray(e)?e.some((e=>a.includes(e))):Array.isArray(a)?a.includes(e):e==a;case"!oneOf":return Array.isArray(e)?!e.every((e=>a.includes(e))):Array.isArray(a)?!a.includes(e):e!=a;case"allOf":return Array.isArray(e)&&Array.isArray(a)&&a.every((t=>e.includes(t)));case"!allOf":return null==e||Array.isArray(e)&&Array.isArray(a)&&!a.some((t=>e.includes(t)));case"answered":return void 0!==e&&""!==e&&null!==e;case"!answered":return void 0===e||""===e||null===e;case"checked":return[1,"1",!0].includes(e);case"!checked":return[0,"0",!1,null,void 0].includes(e);default:return null}}var f=a(79697),g=a(43836),b=a(9775),y=a(57619),k=a(21225),w=a(6026),S=a(85697),x=a(81577),D=a(2489),_=a(29428),U=a(64657),I=a(48089),C=a(16310),F=a(2262);const j={class:"hive-form-renderer hive-form-renderer-standard"},M={class:"intro"},O={key:0,class:"intro-status"},P={key:1,class:"intro-title ljs"},E=["innerHTML"],A={key:0,class:"section-title ljs"},q=["innerHTML"],T={key:0,class:"element-number"},L={class:"ljs"},z={key:1,class:"text-muted small"},Z={key:1,class:"help-block help-text ljs"},H=["id"],N=["title"],V=["title"],R={class:"form-action"},B={key:1,class:"thank-you-message",ref:"thankYouMessage",tabindex:"-1"},Y=["innerHTML"];var W=a(84942);const K=e=>((0,i.dD)("data-v-e2c3e1f6"),e=e(),(0,i.Cn)(),e),G=["href","aria-label"],X={class:"thumbnail-overlay"},J=["src","alt"],Q=["src","alt"],ee={key:0,class:"lightbox",role:"dialog",tabindex:"-1",ref:"dialog"},te=["src","alt"],ae={class:"lightbox-controls"},ie=["aria-label","title","disabled"],ne=[K((()=>(0,i._)("i",{class:"fa fa-search-plus"},null,-1)))],re=["aria-label","title","disabled"],le=[K((()=>(0,i._)("i",{class:"fa fa-search-minus"},null,-1)))],oe=["aria-label","title"],se=[K((()=>(0,i._)("i",{class:"fa fa-clone"},null,-1)))],de=["aria-label","title"],ce=["aria-label","title"],ue=[K((()=>(0,i._)("i",{class:"fa fa-times"},null,-1)))];var me=a(66462),pe=a.n(me),he=a(50840),ve=a.n(he),fe={name:"LightboxImage",inject:["t"],props:{image:{type:String,required:!0},thumbnail:{type:String},altText:{type:String,default:""}},computed:{supportsFullscreen(){return this.$el.requestFullscreen||this.$el.webkitRequestFullscreen||this.$el.msRequestFullscreen||this.$el.mozRequestFullscreen},realScale(){const e=this.$refs.image;return e?e.offsetWidth*this.scale/e.naturalWidth:null},zoomIconFullPath(){return CCM_APPLICATION_URL+"/packages/the_hive_multimedia/img/search.svg"}},methods:{show(e){this.visible=!0,this.$emit("lightbox-toggle","visible"),this.triggerEl=document.activeElement,this.$nextTick((()=>{const e=pe().query.firstTabbable({context:this.$refs.dialog,defaultToContext:!0});e&&e.focus(),this.disabledHandle=pe().maintain.disabled({filter:this.$refs.dialog}),this.hiddenHandle=pe().maintain.hidden({filter:this.$refs.dialog}),window.document.documentMode||(this.tabHandle=pe().maintain.tabFocus({context:this.$refs.dialog})),this.keyHandle=pe().when.key({escape:this.hide,context:this.$el}),window.addEventListener("resize",this.ensureTranslateConstraints),window.addEventListener("orientationchange",this.ensureTranslateConstraints);const t=this.$refs.imageContainer;this.mc=new(ve())(t),this.mc.get("pinch").set({enable:!0}),this.mc.get("pan").set({direction:ve().DIRECTION_ALL}),this.mc.on("pan",(()=>{})),this.mc.on("panstart",this.onPanStart),this.mc.on("panmove",this.onPanMove),this.mc.on("panend",this.onPanEnd),this.mc.on("pinch",(()=>{})),this.mc.on("pinchstart",this.onPinchStart),this.mc.on("pinchend",this.onPinchEnd),this.mc.on("pinchin",this.onPinchIn),this.mc.on("pinchout",this.onPinchOut),this.mc.on("doubletap",this.onDblTap)}))},hide(){this.visible=!1,this.fullscreen=!1,this.$nextTick((()=>{this.keyHandle&&(this.keyHandle.disengage(),this.keyHandle=null),this.tabHandle&&(this.tabHandle.disengage(),this.tabHandle=null),this.hiddenHandle&&(this.hiddenHandle.disengage(),this.hiddenHandle=null),this.disabledHandle&&(this.disabledHandle.disengage(),this.disabledHandle=null),this.triggerEl&&(this.triggerEl.focus(),this.triggerEl=null)})),window.removeEventListener("resize",this.ensureTranslateConstraints),window.removeEventListener("orientationchange",this.ensureTranslateConstraints),this.mc.destroy()},afterLeave(){this.$emit("lightbox-toggle","hidden")},toggleFullscreen(){this.fullscreen?this.leaveFullscreen():this.enterFullscreen()},enterFullscreen(){const e=this.$refs.dialog;e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullscreen&&e.mozRequestFullscreen(),this.fullscreen=!0},leaveFullscreen(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen&&document.mozCancelFullScreen(),this.fullscreen=!1},zoomIn(){this.scale+=1,this.ensureTranslateConstraints()},zoomOut(){this.scale=Math.max(this.scale-1,1),this.ensureTranslateConstraints()},actualSize(){this.naturalScale()},naturalScale(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const a=this.$refs.image.offsetWidth,i=this.$refs.image.naturalWidth;this.scale=i/a>1?i/a:1,this.translate.x=e,this.translate.y=t},onDblClick(e){const t=this.getDialogCenter();this.naturalScale(this.translate.x-(e.clientX-t.x),this.translate.y-(e.clientY-t.y)),this.ensureTranslateConstraints()},onMouseDown(e){this.dragStart(e.clientX,e.clientY),e.preventDefault()},onMouseMove(e){this.dragMove(e.clientX,e.clientY),e.preventDefault()},onMouseUp(){this.dragEnd()},onPanStart(e){this.dragStart(e.center.x,e.center.y),e.preventDefault()},onPanMove(e){this.dragMove(e.center.x,e.center.y),e.preventDefault()},onPanEnd(e){this.dragEnd()},onPinchStart(e){this.startScale=this.scale,this.isZooming=!0},onPinchEnd(e){this.isZooming&&(this.isZooming=!1,this.startScale=null,this.scale<1&&(this.scale=1,this.translate.x=0,this.translate.y=0))},onPinchIn(e){this.scale<.8||(this.scale=this.startScale*Math.max(e.scale,.5))},onPinchOut(e){this.scale>5||(this.scale=this.startScale*Math.min(e.scale,2))},onDblTap(e){const t=this.getDialogCenter();this.naturalScale(this.translate.x-(e.center.x-t.x),this.translate.y-(e.center.y-t.y)),this.ensureTranslateConstraints()},dragStart(e,t){if(this.scale>1){const a=this.$refs.dialog,i=this.$refs.image;if(!i||!a)return;this.allowX=i.offsetWidth*this.scale>a.offsetWidth,this.allowY=i.offsetHeight*this.scale>a.offsetHeight,(this.allowX||this.allowY)&&(this.initialTranslate={x:this.translate.x,y:this.translate.y},this.startCoords={x:e,y:t},this.isDragging=!0)}},dragMove(e,t){if(this.isDragging){const a={x:e,y:t};this.allowX&&(this.translate.x=this.initialTranslate.x+(a.x-this.startCoords.x)/this.scale),this.allowY&&(this.translate.y=this.initialTranslate.y+(a.y-this.startCoords.y)/this.scale)}},dragEnd(){this.isDragging&&(this.isDragging=!1,this.ensureTranslateConstraints())},ensureTranslateConstraints(){const e=this.$refs.dialog,t=this.$refs.image;if(!e||!t)return;let a=0,i=0;e.offsetWidth<t.offsetWidth*this.scale&&(a=(e.offsetWidth-t.offsetWidth*this.scale)/2/this.scale,i=-1*a);let n=0,r=0;e.offsetHeight<t.offsetHeight*this.scale&&(n=(e.offsetHeight-t.offsetHeight*this.scale)/2/this.scale,r=-1*n),this.translate.x>i?this.translate.x=i:this.translate.x<a&&(this.translate.x=a),this.translate.y>r?this.translate.y=r:this.translate.y<n&&(this.translate.y=n)},getDialogCenter(){const e=this.$refs.dialog.getBoundingClientRect();return{x:e.left+(e.right-e.left)/2,y:e.top+(e.bottom-e.top)/2}}},data(){return{visible:!1,fullscreen:!1,scale:1,translate:{x:0,y:0},triggerEl:null,isDragging:!1,isZooming:!1,mc:null}}},ge=a(93379),be=a.n(ge),ye=a(7795),ke=a.n(ye),we=a(90569),Se=a.n(we),xe=a(3565),De=a.n(xe),_e=a(19216),Ue=a.n(_e),Ie=a(44589),Ce=a.n(Ie),Fe=a(41817),je={};je.styleTagTransform=Ce(),je.setAttributes=De(),je.insert=Se().bind(null,"head"),je.domAPI=ke(),je.insertStyleElement=Ue();be()(Fe.Z,je),Fe.Z&&Fe.Z.locals&&Fe.Z.locals;var Me=a(83744);const Oe=(0,Me.Z)(fe,[["render",function(e,t,a,l,o,s){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("a",{href:a.image,target:"_blank",rel:"noreferrer noopener",onClick:t[0]||(t[0]=(0,n.withModifiers)((e=>s.show(e)),["prevent"])),class:"lightbox-link","aria-label":a.altText+" - Enlarge image"},[(0,i._)("div",X,[(0,i._)("img",{src:s.zoomIconFullPath,alt:s.t("clickToViewLarger")},null,8,J)]),(0,i.Uk)(),(0,i._)("img",{src:a.thumbnail,alt:a.altText,class:"lightbox-thumbnail"},null,8,Q)],8,G),(0,i.Uk)(),(0,i.Wm)(n.Transition,{name:"fade",onAfterLeave:s.afterLeave},{default:(0,i.w5)((()=>[o.visible?((0,i.wg)(),(0,i.iD)("div",ee,[(0,i._)("div",{class:(0,r.normalizeClass)(["lightbox-image",{grab:!o.isDragging,grabbing:o.isDragging,zooming:o.isZooming}]),onMousedown:t[2]||(t[2]=e=>s.onMouseDown(e)),onMousemove:t[3]||(t[3]=e=>s.onMouseMove(e)),onMouseup:t[4]||(t[4]=e=>s.onMouseUp(e)),onDblclick:t[5]||(t[5]=e=>s.onDblClick(e)),ref:"imageContainer"},[(0,i._)("img",{src:a.image,alt:a.altText,onClick:t[1]||(t[1]=(0,n.withModifiers)((()=>{}),["stop"])),ref:"image",style:(0,r.normalizeStyle)({transform:"scale3d("+o.scale+", "+o.scale+", 1) translate3d("+o.translate.x+"px, "+o.translate.y+"px, 0)"})},null,12,te)],34),(0,i.Uk)(),(0,i._)("div",ae,[(0,i._)("button",{type:"button",class:"btn btn-inline btn-control",onClick:t[6]||(t[6]=(0,n.withModifiers)((function(){return s.zoomIn&&s.zoomIn(...arguments)}),["stop"])),"aria-label":s.t("zoomIn"),title:s.t("zoomIn"),disabled:o.scale>=5},ne,8,ie),(0,i.Uk)(),(0,i._)("button",{type:"button",class:"btn btn-inline btn-control",onClick:t[7]||(t[7]=(0,n.withModifiers)((function(){return s.zoomOut&&s.zoomOut(...arguments)}),["stop"])),"aria-label":s.t("zoomOut"),title:s.t("zoomOut"),disabled:o.scale<=1},le,8,re),(0,i.Uk)(),(0,i._)("button",{type:"button",class:"btn btn-inline btn-control",onClick:t[8]||(t[8]=(0,n.withModifiers)((function(){return s.actualSize&&s.actualSize(...arguments)}),["stop"])),"aria-label":s.t("actualSize"),title:s.t("actualSize")},se,8,oe),(0,i.Uk)(),s.supportsFullscreen?((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",class:"btn btn-inline btn-control",onClick:t[9]||(t[9]=(0,n.withModifiers)((function(){return s.toggleFullscreen&&s.toggleFullscreen(...arguments)}),["stop"])),"aria-label":s.t("toggleFullscreenMode"),title:s.t("toggleFullscreenMode")},[(0,i._)("i",{class:(0,r.normalizeClass)(["fa",{"fa-expand":!o.fullscreen,"fa-compress":o.fullscreen}])},null,2)],8,de)):(0,i.kq)("",!0),(0,i.Uk)(),(0,i._)("button",{type:"button",class:"btn btn-inline btn-control",onClick:t[10]||(t[10]=(0,n.withModifiers)((function(){return s.hide&&s.hide(...arguments)}),["stop"])),"aria-label":s.t("close"),title:s.t("close")},ue,8,ce)])],512)):(0,i.kq)("",!0)])),_:1},8,["onAfterLeave"])])}],["__scopeId","data-v-e2c3e1f6"]]);var Pe=Oe;const Ee={class:"form-section"};var Ae={name:"FormSection"};var qe=(0,Me.Z)(Ae,[["render",function(e,t,a,n,r,l){return(0,i.wg)(),(0,i.iD)("div",Ee,[(0,i.WI)(e.$slots,"default")])}]]),Te={name:"FormElement",inject:["getFormStructure","getElementComponent","getFieldValidationErrors"],props:{element:{type:Object,required:!0}},methods:{generateId(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.prefix,a=void 0===t?"form-element-":t,i=e.suffix,n=void 0===i?"":i;return a+this.element.identifier+(""===n?n:"-"+n)},getProperty(e,t,a){if(void 0===this.element.props[e])return t;let i=this.element.props[e];switch(a){case"number":i=Number(i);break;case"string":i=String(i);break;case"boolean":i=Boolean(i)}return i},getQuestionNumber:function(e){return this.visibleInputElements.findIndex((t=>t.id==e))+1},hasError(e){const t=this.getFieldValidationErrors();return Object.keys(t).filter((t=>t===e||t.startsWith(e+"-"))).filter((e=>Array.isArray(t[e]))).map((e=>t[e])).reduce(((e,t)=>e.concat(t)),[]).length>0},firstError(e){var t;const a=this.getFieldValidationErrors();const i=Object.keys(a).filter((t=>t===e||t.startsWith(e+"-"))).filter((e=>Array.isArray(a[e]))).map((e=>a[e])).reduce(((e,t)=>e.concat(t)),[]);return i.length?null===(t=i[0])||void 0===t?void 0:t.message:null}},computed:{elementProps(){return{id:this.generateId(),element:this.element,isInvalid:this.hasError(this.element.inputName)}},hasLabel(){return"checkbox"!==this.element.type&&void 0!==this.element.props.label},hasDescription(){return void 0!==this.element.props.description},hasImage(){return"input"===this.element.category&&(void 0!==this.element.props.image&&null!==this.element.props.image)},getImage(){let e=this.getProperty("image");return e?e.replace(/^{CCM_FID:(\d+)}$/,CCM_APPLICATION_URL+"/download_file/view_redirect/$1"):""},isPublicAnswer(){return this.getProperty("publicAnswer",!1)},isFieldsetElement(){return["radio","checkboxlist","matrix","multichoice","rate"].includes(this.element.type)},isRequired(){return this.element.state.required},formStructure(){return this.getFormStructure()},visibleInputElements(){return this.formStructure.elements.filter((e=>!e.state.hidden&&"input"==e.category))}},render(){return this.$slots.default({element:this.element,elementProps:this.elementProps,generateId:this.generateId,isFieldsetElement:this.isFieldsetElement,isRequired:this.isRequired,isPublicAnswer:this.isPublicAnswer,hasLabel:this.hasLabel,hasDescription:this.hasDescription,hasImage:this.hasImage,hasError:this.hasError,firstError:this.firstError,getImage:this.getImage,getProperty:this.getProperty,getElementComponent:this.getElementComponent,getQuestionNumber:this.getQuestionNumber})},provide(){return{generateId:this.generateId,getProperty:this.getProperty,hasError:this.hasError}}},Le=a(31468),ze={};ze.styleTagTransform=Ce(),ze.setAttributes=De(),ze.insert=Se().bind(null,"head"),ze.domAPI=ke(),ze.insertStyleElement=Ue();be()(Le.Z,ze),Le.Z&&Le.Z.locals&&Le.Z.locals;var Ze=(0,Me.Z)(Te,[["__scopeId","data-v-eb5fb86c"]]);const He=e=>((0,i.dD)("data-v-aa23c9f0"),e=e(),(0,i.Cn)(),e),Ne={class:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52","stroke-width":"4","stroke-miterlimit":"10"},Ve=He((()=>(0,i._)("circle",{class:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none","stroke-dasharray":"166","stroke-dashoffset":"166","stroke-width":"4","stroke-miterlimit":"10"},null,-1))),$e=He((()=>(0,i._)("path",{class:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8","stroke-dasharray":"48","stroke-dashoffset":"48"},null,-1)));var Re={name:"Checkmark"},Be=a(98639),Ye={};Ye.styleTagTransform=Ce(),Ye.setAttributes=De(),Ye.insert=Se().bind(null,"head"),Ye.domAPI=ke(),Ye.insertStyleElement=Ue();be()(Be.Z,Ye),Be.Z&&Be.Z.locals&&Be.Z.locals;var We=(0,Me.Z)(Re,[["render",function(e,t,a,n,r,l){return(0,i.wg)(),(0,i.iD)("svg",Ne,[Ve,(0,i.Uk)(),$e])}],["__scopeId","data-v-aa23c9f0"]]);const Ke={class:"field field-checkbox"},Ge={class:"checkbox checkbox-single"},Xe=["id","name","disabled","aria-describedby"],Je=["for"],Qe={class:"ljs"},et={key:0,class:"text-muted small"};var tt={name:"Checkbox",inject:["getElementData","setElementData","generateId","getProperty","t","useField"],props:{element:{type:Object,required:!0},id:{type:String,required:!0},isInvalid:{type:Boolean,default:!1}},computed:{elementData:{get(){return this.getElementData(this.element.inputName)},set(e){this.setElementData({inputName:this.element.inputName,value:e})}},isRequired(){return this.element.state.required},validationSchema(){return(0,C.Vo)((()=>{let e=(0,C.O7)();return this.element.state.hidden||this.element.state.required&&(e=e.required().oneOf([!0],this.t("vee.required"))),e}))}},created(){this.useField(this.element.inputName,this.validationSchema,this.element.validationScope)}};var at=(0,Me.Z)(tt,[["render",function(e,t,a,l,o,s){return(0,i.wg)(),(0,i.iD)("div",Ke,[(0,i._)("div",Ge,[(0,i.wy)((0,i._)("input",{type:"checkbox",value:"1",id:s.generateId(),name:a.element.inputName,disabled:a.element.state.disabled,"onUpdate:modelValue":t[0]||(t[0]=e=>s.elementData=e),"aria-describedby":!!a.isInvalid&&a.id+"-error"},null,8,Xe),[[n.vModelCheckbox,s.elementData,void 0,{lazy:!0}]]),(0,i.Uk)(),(0,i._)("label",{for:s.generateId()},[(0,i._)("span",null,[(0,i._)("span",Qe,(0,r.toDisplayString)(s.getProperty("label")),1),(0,i.Uk)(),s.isRequired?((0,i.wg)(),(0,i.iD)("span",et,(0,r.toDisplayString)(s.t("required")),1)):(0,i.kq)("",!0)])],8,Je)])])}]]);const it=["id","value","name","disabled"],nt=["for"],rt={class:"card-img"},lt=["aria-label"],ot=(0,i._)("i",{class:"fa fa-check"},null,-1),st={class:"card-main"},dt={key:0},ct=["id","name","disabled"],ut=["for"],mt={class:"other-value-field"},pt=["for"],ht=["id","name","disabled","aria-invalid","aria-describedby"],vt={key:1},ft={class:"alert alert-danger"};var gt={name:"CheckboxList",inject:["getElementData","setElementData","generateId","getProperty","getChoiceImage","t","hasError","useField"],props:{element:{type:Object,required:!0},id:{type:String,required:!0},isInvalid:{type:Boolean,default:!1}},created(){let e=this,t=(0,C.Vo)((()=>{let e=(0,C.IX)().ensure();return this.element.state.hidden||(!this.element.state.required||this.element.props.selectLength||this.element.props.minSelect||(e=e.test("is-required",this.t("vee.minSelect",{count:1}),(e=>e.length>0))),this.element.props.selectLength&&(e=e.test("selectLength",this.t("vee.selectLength",{count:this.element.props.selectLength}),(e=>this.element.state.required?e.length===this.element.props.selectLength:0===e.length||e.length===this.element.props.selectLength))),this.element.props.minSelect&&(e=e.test("minSelect",this.t("vee.minSelect",{count:this.element.props.minSelect}),(e=>this.element.state.required?e.length>=this.element.props.minSelect:0===e.length||e.length>=this.element.props.minSelect))),this.element.props.maxSelect&&(e=e.test("maxSelect",this.t("vee.maxSelect",{count:this.element.props.maxSelect}),(e=>this.element.state.required?e.length<=this.element.props.maxSelect:0===e.length||e.length<=this.element.props.maxSelect)))),e}));this.useField(this.element.inputName,t,this.element.validationScope),this.element.props.otherChoice&&this.useField(this.element.inputName+"-other",(0,C.Z_)().when(this.element.inputName,{is:e=>Array.isArray(e)&&e.includes("other"),then:t=>t.required(e.t("vee.otherValue")),otherwise:e=>e}),this.element.validationScope)},computed:{elementData:{get(){return this.getElementData(this.element.inputName)},set(e){this.setElementData({inputName:this.element.inputName,value:e})}},elementDataOther:{get(){return this.getElementData(this.element.inputName+"-other")},set(e){this.setElementData({inputName:this.element.inputName+"-other",value:e})}},isOtherInvalid(){return this.hasError(this.element.inputName+"-other")},displayOtherField(){return this.list.includes("other")},classes(){return this.getProperty("allowImageChoices",!1)?["cards","cards-"+this.getProperty("imageChoiceSize","small")]:null}},watch:{elementData(e){null==e&&(this.list=[])},list:function(){this.elementData=[...this.list]}},data(){return{list:[]}}};var bt=(0,Me.Z)(gt,[["render",function(e,t,a,l,o,s){return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.normalizeClass)(["field field-checkbox-list",s.classes])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.element.choices.filter((e=>!1===e.hidden)),((e,l)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,r.normalizeClass)(["checkbox",{card:e.image}]),key:l},[(0,i.wy)((0,i._)("input",{type:"checkbox",id:s.generateId({suffix:l}),value:e.id,name:a.element.inputName,disabled:a.element.state.disabled,"onUpdate:modelValue":t[0]||(t[0]=e=>o.list=e)},null,8,it),[[n.vModelCheckbox,o.list]]),(0,i.Uk)(),(0,i._)("label",{class:(0,r.normalizeClass)(["ljs",{"card-wrap":e.image},{disabled:a.element.state.disabled&&e.image}]),for:s.generateId({suffix:l})},[e.image?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("div",rt,[(0,i._)("div",{class:"card-img-inner",style:(0,r.normalizeStyle)({backgroundImage:"url("+s.getChoiceImage(e.image.src)+")"}),role:"img","aria-label":e.image.alt},null,12,lt),(0,i.Uk)(),ot]),(0,i.Uk)(),(0,i._)("div",st,[(0,i._)("p",null,[(0,i._)("strong",null,(0,r.toDisplayString)(e.text),1)]),(0,i.Uk)(),e.image.caption?((0,i.wg)(),(0,i.iD)("p",dt,(0,r.toDisplayString)(e.image.caption),1)):(0,i.kq)("",!0)])],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,r.toDisplayString)(e.text),1)],64))],10,nt)],2)))),128)),(0,i.Uk)(),s.getProperty("otherChoice",!1)?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,r.normalizeClass)(["checkbox",{card:s.getProperty("allowImageChoices","")}])},[(0,i.wy)((0,i._)("input",{type:"checkbox",value:"other",id:s.generateId({suffix:"other"}),name:a.element.inputName,disabled:a.element.state.disabled,"onUpdate:modelValue":t[1]||(t[1]=e=>o.list=e)},null,8,ct),[[n.vModelCheckbox,o.list]]),(0,i.Uk)(),(0,i._)("label",{for:s.generateId({suffix:"other"}),class:(0,r.normalizeClass)(["label-other",{ljs:s.getProperty("otherChoiceLabel","")}])},(0,r.toDisplayString)(s.getProperty("otherChoiceLabel","")||s.t("otherPleaseSpecify")),11,ut),(0,i.Uk)(),(0,i.wy)((0,i._)("div",mt,[(0,i._)("label",{for:s.generateId({suffix:"other-value"}),class:"sr-only"},(0,r.toDisplayString)(s.t("otherValue")),9,pt),(0,i.Uk)(),(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",id:s.generateId({suffix:"other-value"}),name:a.element.inputName+"-other",disabled:a.element.state.disabled,"onUpdate:modelValue":t[2]||(t[2]=e=>s.elementDataOther=e),"aria-invalid":a.isInvalid&&s.isOtherInvalid,"aria-describedby":a.isInvalid&&s.isOtherInvalid?a.id+"-error":null},null,8,ht),[[n.vModelText,s.elementDataOther,void 0,{lazy:!0}]])],512),[[n.vShow,s.displayOtherField]])],2)):(0,i.kq)("",!0),(0,i.Uk)(),void 0===a.element.choices?((0,i.wg)(),(0,i.iD)("div",vt,[(0,i._)("div",ft,(0,r.toDisplayString)(s.t("noChoices")),1)])):(0,i.kq)("",!0)],2)}]]);const yt={class:"ljs"},kt={key:0},wt=["innerHTML"],St=["innerHTML"];var xt={name:"Content",inject:["getProperty"],props:{element:{type:Object,required:!0},id:{type:String,required:!0}},filters:{nl2br:e=>null==e?null:e.replace(/(?:\r\n|\r|\n)/g,"<br/>")}};var Dt=(0,Me.Z)(xt,[["render",function(e,t,a,n,l,o){return(0,i.wg)(),(0,i.iD)("div",yt,["heading"===a.element.type?((0,i.wg)(),(0,i.iD)("h3",kt,(0,r.toDisplayString)(o.getProperty("content")),1)):"paragraph"===a.element.type?((0,i.wg)(),(0,i.iD)("p",{key:1,innerHTML:e.$options.filters.nl2br(o.getProperty("content",""))},null,8,wt)):"richtext"===a.element.type||"html"===a.element.type?((0,i.wg)(),(0,i.iD)("div",{key:2,innerHTML:o.getProperty("content")},null,8,St)):(0,i.kq)("",!0)])}]]);const _t={class:"content-image"};const Ut=["src","alt"],It={key:2},Ct=["innerHTML"];var Ft={name:"ImageFigure",components:{LightboxImage:Pe},props:{src:{type:String,required:!0},alt:{type:String,default:""},width:{type:[String,Number],default:"auto"},alignment:{type:String,default:"center",validator:e=>-1!==["left","center","right"].indexOf(e)},caption:{type:String},lightbox:{type:Boolean,default:!1}},computed:{figureClass(){return"w-"+this.width+" align-"+this.alignment}},methods:{nl2br:e=>null===e?null:e.replace(/(?:\r\n|\r|\n)/g,"<br/>")}},jt=a(96220),Mt={};Mt.styleTagTransform=Ce(),Mt.setAttributes=De(),Mt.insert=Se().bind(null,"head"),Mt.domAPI=ke(),Mt.insertStyleElement=Ue();be()(jt.Z,Mt),jt.Z&&jt.Z.locals&&jt.Z.locals;var Ot=(0,Me.Z)(Ft,[["render",function(e,t,a,n,l,o){const s=(0,i.up)("lightbox-image");return(0,i.wg)(),(0,i.iD)("figure",{class:(0,r.normalizeClass)(["image-figure ljs",o.figureClass])},[a.lightbox?((0,i.wg)(),(0,i.j4)(s,{key:0,thumbnail:a.src,image:a.src,"alt-text":a.alt},null,8,["thumbnail","image","alt-text"])):((0,i.wg)(),(0,i.iD)("img",{key:1,src:a.src,alt:a.alt},null,8,Ut)),(0,i.Uk)(),a.caption?((0,i.wg)(),(0,i.iD)("figcaption",It,[(0,i._)("p",{innerHTML:o.nl2br(a.caption)},null,8,Ct)])):(0,i.kq)("",!0)],2)}],["__scopeId","data-v-73021325"]]),Pt={name:"ContentImage",inject:["getProperty"],components:{ImageFigure:Ot},computed:{imageSource(){const e=this.getProperty("image");return e?e.replace(/^{CCM_FID:(\d+)}$/,CCM_APPLICATION_URL+"/download_file/view_redirect/$1"):null}}};var Et=(0,Me.Z)(Pt,[["render",function(e,t,a,n,r,l){const o=(0,i.up)("image-figure");return(0,i.wg)(),(0,i.iD)("div",_t,[l.imageSource?((0,i.wg)(),(0,i.j4)(o,{key:0,src:l.imageSource,alt:l.getProperty("imageAlt",""),width:l.getProperty("width"),alignment:l.getProperty("alignment"),caption:l.getProperty("caption")},null,8,["src","alt","width","alignment","caption"])):(0,i.kq)("",!0)])}]]);const At={class:"content-video"};const qt=["src"];var Tt={name:"VideoPlayer",inject:["getFormMetadata","emitter"],props:{service:{type:String,required:!0,default:"youtube",validator:e=>-1!==["youtube","vimeo"].indexOf(e)},url:{type:String,required:!0},width:{type:[String,Number],default:"auto"},alignment:{type:String,default:"center",validator:e=>-1!==["left","center","right"].indexOf(e)}},data(){return{videoWidth:640,videoHeight:360}},computed:{formMetadata(){return this.getFormMetadata()},videoBlockClass(){return"w-"+this.width+" align-"+this.alignment},videoID(){return function(e,t){let a="";"youtube"===t?a=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\&\?]*).*/:"vimeo"===t&&(a=/vimeo.com(\/video)?\/(\d+)($|\/)/);if(!a)return"";let i=e.match(a);return i?i[2]:""}(this.url,this.service)},src(){let e=this.url,t=this.videoID;return"youtube"===this.service?t?"https://www.youtube.com/embed/"+t+"?enablejsapi=1&version=3":e:"vimeo"===this.service&&t?"https://player.vimeo.com/video/"+t:e},paddingTop(){return(this.videoHeight/this.videoWidth*100).toFixed(2)+"%"}},watch:{videoID(){this.setVideoSize()}},methods:{setVideoSize(){let e="";"youtube"===this.service?e=`https://www.youtube.com/oembed?url=https://youtube.com/watch?v=${this.videoID}&format=json`:"vimeo"===this.service&&(e=`https://vimeo.com/api/oembed.json?url=https://vimeo.com/${this.videoID}`),m.Z.get(e).then((e=>{e.data&&(e.data.width&&(this.videoWidth=e.data.width),e.data.height&&(this.videoHeight=e.data.height))})).catch((e=>{}))}},created(){this.setVideoSize()},mounted(){this.emitter.on("form-progress",(e=>{e.busId;let t=e.payload;if(this.formMetadata["form-id"]&&t["form-id"]===this.formMetadata["form-id"]){let e="";this.$refs.videoFrame&&("youtube"===this.service?e='{"event":"command","func":"pauseVideo","args":""}':"vimeo"===this.service&&(e='{"method":"pause"}'),e&&this.$refs.videoFrame.contentWindow.postMessage(e,"*"))}}))}};var Lt=a(13132),zt={};zt.styleTagTransform=Ce(),zt.setAttributes=De(),zt.insert=Se().bind(null,"head"),zt.domAPI=ke(),zt.insertStyleElement=Ue();be()(Lt.Z,zt),Lt.Z&&Lt.Z.locals&&Lt.Z.locals;var Zt=(0,Me.Z)(Tt,[["render",function(e,t,a,n,l,o){return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.normalizeClass)(["video-block",o.videoBlockClass])},[(0,i._)("div",{class:"video-container",style:(0,r.normalizeStyle)({paddingTop:o.paddingTop})},[(0,i._)("iframe",{class:"video-player",frameborder:"0",allowfullscreen:"1",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",title:"Video Player",src:o.src,ref:"videoFrame"},"\n            ",8,qt)],4)],2)}],["__scopeId","data-v-6496d0db"]]),Ht={name:"ContentVideo",inject:["getProperty"],components:{VideoPlayer:Zt},computed:{videoUrl(){return this.getProperty("videoUrl")}}};var Nt=(0,Me.Z)(Ht,[["render",function(e,t,a,n,r,l){const o=(0,i.up)("video-player");return(0,i.wg)(),(0,i.iD)("div",At,[l.videoUrl?((0,i.wg)(),(0,i.j4)(o,{key:0,service:l.getProperty("videoService"),url:l.videoUrl,width:l.getProperty("width"),alignment:l.getProperty("alignment")},null,8,["service","url","width","alignment"])):(0,i.kq)("",!0)])}]]);const Vt={class:"content-screen"},$t={key:0,class:"content-screen-heading ljs"},Rt=["innerHTML"],Bt=["innerHTML"];var Yt={name:"ContentScreen",inject:["getProperty"],components:{ImageFigure:Ot,VideoPlayer:Zt},computed:{imageSource(){const e=this.getProperty("image");return e?e.replace(/^{CCM_FID:(\d+)}$/,CCM_APPLICATION_URL+"/download_file/view_redirect/$1"):null},videoUrl(){return this.getProperty("videoUrl")},content(){return this.getProperty("content")},mediaPosition(){return this.getProperty("mediaPosition")}}};var Wt=(0,Me.Z)(Yt,[["render",function(e,t,a,n,l,o){const s=(0,i.up)("image-figure"),d=(0,i.up)("video-player");return(0,i.wg)(),(0,i.iD)("div",Vt,[o.getProperty("heading")?((0,i.wg)(),(0,i.iD)("h3",$t,(0,r.toDisplayString)(o.getProperty("heading")),1)):(0,i.kq)("",!0),(0,i.Uk)(),"above_content"!==o.mediaPosition&&o.content?((0,i.wg)(),(0,i.iD)("div",{key:1,innerHTML:o.content,class:"content-screen-body ljs"},null,8,Rt)):(0,i.kq)("",!0),(0,i.Uk)(),"video"!==o.getProperty("media")&&o.imageSource?((0,i.wg)(),(0,i.j4)(s,{key:2,src:o.imageSource,alt:o.getProperty("imageAlt",""),width:o.getProperty("width"),alignment:o.getProperty("alignment"),caption:o.getProperty("caption"),lightbox:!0,class:"content-screen-image"},null,8,["src","alt","width","alignment","caption"])):(0,i.kq)("",!0),(0,i.Uk)(),"video"===o.getProperty("media")&&o.videoUrl?((0,i.wg)(),(0,i.j4)(d,{key:3,service:o.getProperty("videoService"),url:o.videoUrl,width:o.getProperty("width"),alignment:o.getProperty("alignment")},null,8,["service","url","width","alignment"])):(0,i.kq)("",!0),(0,i.Uk)(),"above_content"===o.mediaPosition&&o.content?((0,i.wg)(),(0,i.iD)("div",{key:4,innerHTML:o.content,class:"content-screen-body ljs"},null,8,Bt)):(0,i.kq)("",!0)])}]]);var Kt=a(30381),Gt=a.n(Kt),Xt=a(76431),Jt=(a(22150),{name:"DateTime",inject:["getElementData","setElementData","getProperty","t","window","useField"],components:{flatPickr:Xt.Z},props:{element:{type:Object,required:!0},id:{type:String,required:!0},isInvalid:{type:Boolean,default:!1}},watch:{date(e){""!==e&&null!==e?"datetime"===this.element.type?this.elementData=Gt()(e,"DD/MM/YYYY h:mm A").utc().locale("en").format("YYYY-MM-DD HH:mm:ss"):this.elementData=Gt()(e,"DD/MM/YYYY").locale("en").format("YYYY-MM-DD"):this.elementData=void 0}},created(){let e=(0,C.Vo)((()=>{let e=(0,C.Z_)();return this.element.state.hidden||this.element.state.required&&(e=e.required()),e}));this.useField(this.element.inputName,e,this.element.validationScope)},mounted(){"now"===this.getProperty("defaultDate",null)&&(this.date=Gt()().locale("en").format("DD/MM/YYYY h:mm A"))},computed:{elementData:{get(){return this.getElementData(this.element.inputName)},set(e){this.setElementData({inputName:this.element.inputName,value:e})}},config(){return{enableTime:"datetime"==this.element.type,dateFormat:"datetime"==this.element.type?"d/m/Y h:i K":"d/m/Y",disableMobile:!!this.element.state.disabled}},placeholder(){return"datetime"==this.element.type?this.t("selectDateTime"):this.t("selectDate")}},data(){return{date:""}}}),Qt=a(40368),ea={};ea.styleTagTransform=Ce(),ea.setAttributes=De(),ea.insert=Se().bind(null,"head"),ea.domAPI=ke(),ea.insertStyleElement=Ue();be()(Qt.Z,ea),Qt.Z&&Qt.Z.locals&&Qt.Z.locals;var ta=(0,Me.Z)(Jt,[["render",function(e,t,a,n,l,o){const s=(0,i.up)("flat-pickr");return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.normalizeClass)(["field","field-input-"+a.element.type])},[(0,i.Wm)(s,{class:"form-control",placeholder:o.placeholder,modelValue:l.date,"onUpdate:modelValue":t[0]||(t[0]=e=>l.date=e),id:a.id,name:a.element.inputName,config:o.config,disabled:a.element.state.disabled,"aria-invalid":a.isInvalid,"aria-describedby":!!a.isInvalid&&a.id+"-error"},null,8,["placeholder","modelValue","id","name","config","disabled","aria-invalid","aria-describedby"])],2)}],["__scopeId","data-v-847a5958"]]);const aa=e=>((0,i.dD)("data-v-9c3292d2"),e=e(),(0,i.Cn)(),e),ia={class:"field field-upload"},na=["name","disabled"],ra=["id","disabled","aria-invalid","aria-describedby"],la=["for"],oa=aa((()=>(0,i._)("svg",{width:"35",height:"26",viewBox:"0 0 35 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,i._)("path",{d:"M22.8571 14C22.8571 13.8333 22.8036 13.6964 22.6964 13.5893L16.4107 7.30357C16.3036 7.19643 16.1667 7.14286 16 7.14286C15.8333 7.14286 15.6964 7.19643 15.5893 7.30357L9.32143 13.5714C9.20238 13.7143 9.14286 13.8571 9.14286 14C9.14286 14.1667 9.19643 14.3036 9.30357 14.4107C9.41071 14.5179 9.54762 14.5714 9.71429 14.5714H13.7143V20.8571C13.7143 21.0119 13.7679 21.1488 13.875 21.2679C13.994 21.375 14.131 21.4286 14.2857 21.4286H17.7143C17.869 21.4286 18 21.375 18.1071 21.2679C18.2262 21.1488 18.2857 21.0119 18.2857 20.8571V14.5714H22.2857C22.4405 14.5714 22.5714 14.5179 22.6786 14.4107C22.7976 14.2917 22.8571 14.1548 22.8571 14ZM34.2857 19.1429C34.2857 21.0357 33.6131 22.6548 32.2679 24C30.9345 25.3333 29.3214 26 27.4286 26H8C5.79762 26 3.91071 25.2202 2.33929 23.6607C0.779762 22.0893 0 20.2024 0 18C0 16.4524 0.416667 15.0238 1.25 13.7143C2.08333 12.4048 3.20238 11.4226 4.60714 10.7679C4.58333 10.4107 4.57143 10.1548 4.57143 10C4.57143 7.47619 5.46429 5.32143 7.25 3.53571C9.03571 1.75 11.1905 0.857141 13.7143 0.857141C15.5714 0.857141 17.2679 1.375 18.8036 2.41071C20.3512 3.44643 21.4762 4.82143 22.1786 6.53571C23.0238 5.79762 24.0119 5.42857 25.1429 5.42857C26.4048 5.42857 27.4821 5.875 28.375 6.76786C29.2679 7.66071 29.7143 8.73809 29.7143 10C29.7143 10.9048 29.4702 11.7262 28.9821 12.4643C30.5298 12.8333 31.7976 13.6429 32.7857 14.8929C33.7857 16.131 34.2857 17.5476 34.2857 19.1429Z"})],-1))),sa={class:"form-file-limits small"},da={key:0},ca={key:1},ua={key:2},ma={class:"file-list"},pa={class:"file-info"},ha={class:"file-name"},va={class:"text-muted"},fa={key:0,class:"active"},ga={key:1,class:"error"},ba=["onClick","title","aria-label"],ya=[aa((()=>(0,i._)("i",{class:"fa fa-close"},null,-1)))];var ka=a(51394),wa={name:"FileUpload",inject:["getFormUrls","getFormStatus","getElementData","setElementData","setElementsState","t","useField"],props:{element:{type:Object,required:!0},id:{type:String,required:!0},isInvalid:{type:Boolean,default:!1}},created(){let e=(0,C.Vo)((()=>{let e=(0,C.IX)().of((0,C.Ry)({file_id:(0,C.Rx)().required(),file_name:(0,C.Z_)().required(),size:(0,C.Rx)().required(),type:(0,C.Z_)().required()}));return this.element.state.hidden||(this.element.state.required&&(e=e.required().min(1)),this.element.props.maxFiles>1&&(e=e.max(this.element.props.maxFiles))),e}));this.useField(this.element.inputName,e,this.element.validationScope)},methods:{onFileChange(e){if(0===e.target.files.length)return;this.files=this.files.filter((e=>e.success));let t=e.target.files[0],a=t.name.slice(2+(t.name.lastIndexOf(".")-1>>>0)).toLowerCase(),i=this.extensionsArray.includes(a),n=t.size<=this.maxFilesize,r=this.files.some((e=>(0,ka.Z)(e,{name:t.name,size:t.size,type:t.type}))),l="";!i||!n||r||this.maxFilesReached?(l=i?l:this.t("fileInvalidExtension",{name:t.name}),l=n?l:this.t("fileInvalidSize",{name:t.name}),l=this.maxFilesReached?this.t("maxFilesReached"):l,l=r?this.t("fileAlreadyUploaded",{name:t.name}):l,HiveAlerts.error({title:this.t("fileUploadError"),message:l}),this.$refs[this.id].value=""):Array.from(e.target.files).map((e=>{this.uploadFile(e)}))},getFileUrl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.base,a=void 0===t?this.formUrls["form-upload"]:t,i=e.url,n=void 0===i?"":i,r=e.search,l=void 0===r?{}:r;a=a||this.formUrls["form-upload"],n=n||"";let o=new URL(n,a);for(const e in l)l.hasOwnProperty(e)&&o.searchParams.append([e],l[e]);return o},uploadFile:async function(e){let t=this,a=new FormData,i=this.files.push({name:e.name,type:e.type,size:e.size,active:!0,success:!1,error:"",progress:null,response:{}})-1;if(a.append("file",e),this.setElementsState({elements:{[this.element.identifier]:{busy:!0}}}),this.isFormPreview){new(h())(m.Z,{delayResponse:Math.min(Math.max(e.size/1048576*1e3,1e3),1e4)}).onPost(this.fileUploadUrl).replyOnce(201,{file_id:1,file_name:e.name,file_type:e.type,size:e.size,delete_token:"abc"}).onAny().passThrough()}return await(0,m.Z)({method:"post",url:this.fileUploadUrl,data:a,headers:{"X-Locale":window.CCM_ACTIVE_LOCALE||"en_US"},onUploadProgress:function(e){t.files[i].progress=Math.round(100*e.loaded/e.total)}}).then((e=>{t.files[i].success=!0,t.files[i].response=e.data,t.files[i].file_id=e.data.file_id,t.elementData=(0,b.Z)(e.data,["delete_token"]),HiveAlerts.success({title:t.t("uploadFile"),message:t.t("fileSaved",{name:t.files[i].name})})})).catch((e=>{t.files[i].success=!1,t.files[i].error=e.response.data.error,t.files[i].response=e.response,t.files[i].file_id=null,HiveAlerts.error({title:t.t("uploadFile"),message:e.response.data.error})})).finally((()=>{t.$refs[t.id].value="",t.files[i].active=!1,this.setElementsState({elements:{[this.element.identifier]:{busy:!1}}})}))},removeFile(e){let t=this;if(e&&e.response&&e.response.file_id&&e.response.delete_token){if(this.isFormPreview){new(h())(m.Z,{delayResponse:250}).onPost(this.fileDeleteUrl).replyOnce(204).onAny().passThrough()}(0,m.Z)({method:"post",url:this.fileDeleteUrl,data:{file_id:e.response.file_id,token:e.response.delete_token},headers:{"X-Locale":window.CCM_ACTIVE_LOCALE||"en_US"}}).then((a=>{t.files=t.files.filter((t=>t.file_id!=e.file_id)),t.elementData=t.elementData.findIndex((t=>t.file_id==e.response.file_id)),HiveAlerts.success({title:t.t("removeUploadedFile"),message:t.t("fileRemoved",{name:e.name})})})).catch((e=>{HiveAlerts.error({title:t.t("removeUploadedFile"),message:e.response.data.error})}))}},formatFilesize(e){return Math.abs(e)<1024?e.toFixed(0)+" bytes":(e/=1024,Math.abs(e)<1024?e.toFixed(2)+" KB":(e/=1024,Math.abs(e)<1024?e.toFixed(2)+" MB":(e/=1024,Math.abs(e)<1024?e.toFixed(2)+" GB":e.toFixed(2)+" TB")))}},watch:{files:function(e){e.length||(this.$refs[this.id].value="")}},computed:{elementData:{get(){return this.getElementData(this.element.inputName)},set(e){this.setElementData({inputName:this.element.inputName,value:e,append:!!e&&isNaN(e),removeIndex:!isNaN(e)})}},formUrls(){return this.getFormUrls()},isFormPreview(){return this.getFormStatus("preview")},fileUploadUrl(){return this.getFileUrl({search:{maxFilesize:[this.maxFilesize],extensions:[this.extensions]}}).href},fileDeleteUrl(){return this.getFileUrl({url:"file/delete"}).href},maxFiles(){return this.element.props.maxFiles?this.element.props.maxFiles:1},multipleAllowed(){return this.maxFiles>1},maxFilesize(){return this.element.props.maxFilesize?this.element.props.maxFilesize:1048576},extensions(){return this.element.props.extensions?this.element.props.extensions:""},extensionsArray(){return this.extensions.toLowerCase().split(",").filter(Boolean)},maxFilesReached(){return this.files.length>=this.maxFiles}},data(){return{files:[]}}},Sa=a(47209),xa={};xa.styleTagTransform=Ce(),xa.setAttributes=De(),xa.insert=Se().bind(null,"head"),xa.domAPI=ke(),xa.insertStyleElement=Ue();be()(Sa.Z,xa),Sa.Z&&Sa.Z.locals&&Sa.Z.locals;var Da=(0,Me.Z)(wa,[["render",function(e,t,a,l,o,s){return(0,i.wg)(),(0,i.iD)("div",ia,[(0,i.wy)((0,i._)("input",{type:"hidden",name:a.element.inputName,disabled:a.element.state.disabled,"onUpdate:modelValue":t[0]||(t[0]=e=>o.files=e)},null,8,na),[[n.vModelText,o.files]]),(0,i.Uk)(),(0,i._)("input",{type:"file",class:"form-file",ref:a.id,id:a.id,disabled:a.element.state.busy||a.element.state.disabled,onChange:t[1]||(t[1]=e=>s.onFileChange(e)),"aria-invalid":a.isInvalid,"aria-describedby":a.isInvalid?a.id+"-error":null},null,40,ra),(0,i.Uk)(),(0,i._)("label",{for:a.id,class:"form-file-button"},[oa,(0,i.Uk)(),(0,i._)("span",null,(0,r.toDisplayString)(s.t("chooseFile")),1)],8,la),(0,i.Uk)(),(0,i._)("div",sa,[s.multipleAllowed?((0,i.wg)(),(0,i.iD)("span",da,[(0,i.Uk)((0,r.toDisplayString)(s.t("maxFiles"))+" ",1),(0,i._)("strong",null,(0,r.toDisplayString)(s.maxFiles),1)])):(0,i.kq)("",!0),(0,i.Uk)(),s.extensions?((0,i.wg)(),(0,i.iD)("span",ca,[(0,i.Uk)((0,r.toDisplayString)(s.t("allowedFileTypes"))+" ",1),(0,i._)("strong",null,(0,r.toDisplayString)(s.extensions),1)])):(0,i.kq)("",!0),(0,i.Uk)(),s.maxFilesize?((0,i.wg)(),(0,i.iD)("span",ua,[(0,i.Uk)((0,r.toDisplayString)(s.t("sizeLimit"))+" ",1),(0,i._)("strong",null,(0,r.toDisplayString)(s.formatFilesize(s.maxFilesize)),1)])):(0,i.kq)("",!0)]),(0,i.Uk)(),(0,i.wy)((0,i._)("ul",ma,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.files,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{key:t,class:(0,r.normalizeClass)([{danger:e.error},{warning:e.active}])},[(0,i._)("span",pa,[(0,i._)("span",ha,(0,r.toDisplayString)(e.name),1),(0,i.Uk)(),(0,i._)("span",va,"("+(0,r.toDisplayString)(s.formatFilesize(e.size))+")",1)]),(0,i.Uk)(),(0,i._)("span",null,[e.active?((0,i.wg)(),(0,i.iD)("span",fa,(0,r.toDisplayString)(s.t("uploading")),1)):(0,i.kq)("",!0),(0,i.Uk)(),e.error?((0,i.wg)(),(0,i.iD)("span",ga,(0,r.toDisplayString)(s.t("error"))+": "+(0,r.toDisplayString)(e.error),1)):(0,i.kq)("",!0),(0,i.Uk)(),e.success?((0,i.wg)(),(0,i.iD)("button",{key:2,type:"button",class:"btn btn-inline btn-link btn-default",onClick:t=>s.removeFile(e),title:s.t("remove"),"aria-label":s.t("remove")},ya,8,ba)):(0,i.kq)("",!0)])],2)))),128))],512),[[n.vShow,o.files.length]])])}],["__scopeId","data-v-9c3292d2"]]);const _a={class:"field field-matrix"},Ua=["data-cols"],Ia={class:"matrix-row matrix-row-first"},Ca=(e=>((0,i.dD)("data-v-45b16f92"),e=e(),(0,i.Cn)(),e))((()=>(0,i._)("div",{class:"matrix-col matrix-col-first"},null,-1))),Fa={class:"sr-only"},ja={class:"matrix-row"},Ma={class:"matrix-col matrix-col-first matrix-row-header"},Oa=["id","name","disabled","checked","value","data-matrix-row","aria-label"],Pa=["for","title"],Ea=["name","disabled"];var Aa={name:"Matrix",inject:["getElementData","setElementData","generateId","getDeviceFeatures","t","useField"],props:{element:{type:Object,required:!0},id:{type:String,required:!0}},data(){return{matrixWidth:null,observer:null}},created(){this.useField(this.element.inputName,this.validationSchema,this.element.validationScope)},mounted(){this.init()},computed:{validationSchema(){return(0,C.Vo)((()=>{let e=(0,C.IX)().of((0,C.Ry)({row:(0,C.Z_)().required(),col:(0,C.Z_)().required()}));return this.element.state.hidden||this.element.state.required&&(e=e.required().length(this.visibleRows.length,(e=>{let t=e.length;return this.t("vee.requiredMatrix",{length:t})}))),e}))},elementData:{get(){return this.getElementData(this.element.inputName)},set(e){this.setElementData({inputName:this.element.inputName,value:e})}},columnText(){return(0,g.Z)(this.visibleColumns,"text")},isMobile(){return!!(this.getDeviceFeatures().isMobile||this.matrixWidth<655)},visibleColumns(){return this.element.choices.filter((e=>!1===e.hidden))},visibleRows(){return this.element.props.rows?this.element.props.rows.filter((e=>!1===e.hidden)):[]}},methods:{init(){this.$nextTick((()=>{this.updateMatrixWidth(),window.addEventListener("resize",this.updateMatrixWidth)}))},isChecked(e,t){return!!this.elementData&&this.elementData.find((a=>a.row==e&&a.col==t))},onChange(){let e=[];Array.from(this.$el.querySelectorAll('input[name^="'+this.element.inputName+'-"]')).forEach((t=>{t.checked&&e.push({row:t.dataset.matrixRow,col:t.value})})),this.elementData=e.length>0?e:void 0},updateMatrixWidth(){if(this.matrixWidth=this.$el.offsetWidth,0===this.matrixWidth){const e={threshold:0};this.observer=new IntersectionObserver((e=>{e[0].isIntersecting&&(this.matrixWidth=this.$el.offsetWidth,this.observer.disconnect())}),e),this.observer.observe(this.$el)}}},beforeDestroy(){window.removeEventListener("resize",this.updateMatrixWidth),this.observer&&this.observer.disconnect&&"function"==typeof this.observer.disconnect&&this.observer.disconnect()}},qa=a(19682),Ta={};Ta.styleTagTransform=Ce(),Ta.setAttributes=De(),Ta.insert=Se().bind(null,"head"),Ta.domAPI=ke(),Ta.insertStyleElement=Ue();be()(qa.Z,Ta),qa.Z&&qa.Z.locals&&qa.Z.locals;const La=(0,Me.Z)(Aa,[["render",function(e,t,a,l,o,s){return(0,i.wg)(),(0,i.iD)("div",_a,[(0,i._)("div",{class:"matrix-wrapper","data-cols":s.visibleColumns.length},[(0,i._)("div",{class:(0,r.normalizeClass)([s.isMobile?"mobile":"desktop","matrix"])},[(0,i._)("div",Ia,[Ca,(0,i.Uk)(),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.columnText,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"matrix-col matrix-col-header ljs",key:e},(0,r.toDisplayString)(e),1)))),128))]),(0,i.Uk)(),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.visibleRows,((e,n)=>((0,i.wg)(),(0,i.iD)("fieldset",{key:n,class:"ljs"},[(0,i._)("legend",Fa,(0,r.toDisplayString)(e.text),1),(0,i.Uk)(),(0,i._)("div",ja,[(0,i._)("div",Ma,(0,r.toDisplayString)(e.text),1),(0,i.Uk)(),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.visibleColumns,((l,o)=>((0,i.wg)(),(0,i.iD)("div",{class:"matrix-col matrix-col-input",key:o},[(0,i._)("input",{type:"radio","data-type":"matrix-cell",id:s.generateId({suffix:n+"-"+o}),name:a.element.inputName+"-"+n,disabled:a.element.state.disabled,checked:s.isChecked(e.id,l.id),value:l.id,"data-matrix-row":e.id,"aria-label":l.text,onChange:t[0]||(t[0]=function(){return s.onChange&&s.onChange(...arguments)})},null,40,Oa),(0,i.Uk)(),(0,i._)("label",{for:s.generateId({suffix:n+"-"+o}),title:l.text},[(0,i._)("span",null,(0,r.toDisplayString)(l.text),1)],8,Pa)])))),128))])])))),128))],2)],8,Ua),(0,i.Uk)(),(0,i.wy)((0,i._)("input",{type:"hidden",name:a.element.inputName,disabled:a.element.state.disabled,"onUpdate:modelValue":t[1]||(t[1]=e=>s.elementData=e)},null,8,Ea),[[n.vModelText,s.elementData,void 0,{lazy:!0}]])])}],["__scopeId","data-v-45b16f92"]]);var za=La;const Za=["id","value","name","disabled"],Ha=["for"],Na={class:"card-img"},Va=["aria-label"],$a=(0,i._)("i",{class:"fa fa-check"},null,-1),Ra={class:"card-main"},Ba={key:0},Ya=["id","name","disabled"],Wa=["for"],Ka={class:"other-value-field"},Ga=["for"],Xa=["id","name","disabled","aria-invalid","aria-describedby"],Ja={key:1},Qa={class:"alert alert-danger"};var ei={name:"Radio",inject:["getElementData","setElementData","generateId","getProperty","getChoiceImage","t","hasError","useField"],props:{element:{type:Object,required:!0},id:{type:String,required:!0},isInvalid:{type:Boolean,default:!1}},created(){let e=this,t=(0,C.Vo)((()=>{let e=(0,C.nK)();return this.element.state.hidden||this.element.state.required&&(e=e.required()),e}));this.useField(this.element.inputName,t,this.element.validationScope),this.element.props.otherChoice&&this.useField(this.element.inputName+"-other",(0,C.Z_)().when(this.element.inputName,{is:e=>"other"===e,then:t=>t.required(e.t("vee.otherValue")),otherwise:e=>e}),this.element.validationScope)},computed:{displayOtherField(){return"other"===this.elementData},elementData:{get(){return this.getElementData(this.element.inputName)},set(e){this.setElementData({inputName:this.element.inputName,value:e})}},elementDataOther:{get(){return this.getElementData(this.element.inputName+"-other")},set(e){this.setElementData({inputName:this.element.inputName+"-other",value:e})}},classes(){return this.getProperty("allowImageChoices",!1)?["cards","cards-"+this.getProperty("imageChoiceSize","small")]:null},isOtherInvalid(){return this.hasError(this.element.inputName+"-other")}}};var ti=(0,Me.Z)(ei,[["render",function(e,t,a,l,o,s){return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.normalizeClass)(["field field-radio",s.classes])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.element.choices.filter((e=>!1===e.hidden)),((e,l)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,r.normalizeClass)(["radio",{card:e.image}]),key:l},[(0,i.wy)((0,i._)("input",{type:"radio",id:s.generateId({suffix:l}),value:e.id,name:a.element.inputName,disabled:a.element.state.disabled,"onUpdate:modelValue":t[0]||(t[0]=e=>s.elementData=e)},null,8,Za),[[n.vModelRadio,s.elementData,void 0,{lazy:!0}]]),(0,i.Uk)(),(0,i._)("label",{class:(0,r.normalizeClass)(["ljs",{"card-wrap":e.image},{disabled:a.element.state.disabled&&e.image}]),for:s.generateId({suffix:l})},[e.image?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("div",Na,[(0,i._)("div",{class:"card-img-inner",style:(0,r.normalizeStyle)({backgroundImage:"url("+s.getChoiceImage(e.image.src)+")"}),role:"img","aria-label":e.image.alt},null,12,Va),(0,i.Uk)(),$a]),(0,i.Uk)(),(0,i._)("div",Ra,[(0,i._)("p",null,[(0,i._)("strong",null,(0,r.toDisplayString)(e.text),1)]),(0,i.Uk)(),e.image.caption?((0,i.wg)(),(0,i.iD)("p",Ba,(0,r.toDisplayString)(e.image.caption),1)):(0,i.kq)("",!0)])],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,r.toDisplayString)(e.text),1)],64))],10,Ha)],2)))),128)),(0,i.Uk)(),s.getProperty("otherChoice",!1)?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,r.normalizeClass)(["radio",{card:s.getProperty("allowImageChoices","")}])},[(0,i.wy)((0,i._)("input",{type:"radio",value:"other",id:s.generateId({suffix:"other"}),name:a.element.inputName,disabled:a.element.state.disabled,"onUpdate:modelValue":t[1]||(t[1]=e=>s.elementData=e)},null,8,Ya),[[n.vModelRadio,s.elementData,void 0,{lazy:!0}]]),(0,i.Uk)(),(0,i._)("label",{for:s.generateId({suffix:"other"}),class:(0,r.normalizeClass)(["label-other",{ljs:s.getProperty("otherChoiceLabel","")}])},(0,r.toDisplayString)(s.getProperty("otherChoiceLabel","")||s.t("otherPleaseSpecify")),11,Wa),(0,i.Uk)(),(0,i.wy)((0,i._)("div",Ka,[(0,i._)("label",{for:s.generateId({suffix:"other-value"}),class:"sr-only"},(0,r.toDisplayString)(s.t("otherValue")),9,Ga),(0,i.Uk)(),(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",id:s.generateId({suffix:"other-value"}),name:a.element.inputName+"-other",disabled:a.element.state.disabled,"onUpdate:modelValue":t[2]||(t[2]=e=>s.elementDataOther=e),"aria-invalid":a.isInvalid&&s.isOtherInvalid,"aria-describedby":a.isInvalid&&s.isOtherInvalid?a.id+"-error":null},null,8,Xa),[[n.vModelText,s.elementDataOther,void 0,{lazy:!0}]])],512),[[n.vShow,s.displayOtherField]])],2)):(0,i.kq)("",!0),(0,i.Uk)(),void 0===a.element.choices?((0,i.wg)(),(0,i.iD)("div",Ja,[(0,i._)("div",Qa,(0,r.toDisplayString)(s.t("noChoices")),1)])):(0,i.kq)("",!0)],2)}]]),ai={name:"MultiChoice",inject:["getElementData","setElementData","getDeviceFeatures"],components:{Radio:ti,CheckboxList:bt},props:{element:{type:Object,required:!0},id:{type:String,required:!0},isInvalid:{type:Boolean,default:!1}},data(){return{choiceWidth:null,observer:null}},mounted(){this.init()},computed:{allowsMultiple(){return!!this.element.props.allowMultiple},isMobile(){return!!(this.getDeviceFeatures().isMobile||this.choiceWidth<655)}},methods:{init(){this.$nextTick((()=>{this.updateChoiceWidth(),window.addEventListener("resize",this.updateChoiceWidth)}))},getChoiceImage:function(e){return e?e.replace(/^{CCM_FID:(\d+)}$/,CCM_APPLICATION_URL+"/download_file/view_redirect/$1"):""},updateChoiceWidth(){if(this.choiceWidth=this.$el.offsetWidth,0===this.choiceWidth){const e={threshold:0};this.observer=new IntersectionObserver((e=>{e[0].isIntersecting&&(this.choiceWidth=this.$el.offsetWidth,this.observer.disconnect())}),e),this.observer.observe(this.$el)}}},beforeDestroy(){window.removeEventListener("resize",this.updateChoiceWidth),this.observer&&this.observer.disconnect&&"function"==typeof this.observer.disconnect&&this.observer.disconnect()},provide(){return{getChoiceImage:this.getChoiceImage}}},ii=a(28576),ni={};ni.styleTagTransform=Ce(),ni.setAttributes=De(),ni.insert=Se().bind(null,"head"),ni.domAPI=ke(),ni.insertStyleElement=Ue();be()(ii.Z,ni),ii.Z&&ii.Z.locals&&ii.Z.locals;var ri=(0,Me.Z)(ai,[["render",function(e,t,a,n,l,o){const s=(0,i.up)("checkbox-list"),d=(0,i.up)("radio");return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.normalizeClass)([o.isMobile?"mobile":"desktop","multi-choice"])},[o.allowsMultiple?((0,i.wg)(),(0,i.j4)(s,{key:0,element:a.element,id:a.id,"is-invalid":a.isInvalid},null,8,["element","id","is-invalid"])):((0,i.wg)(),(0,i.j4)(d,{key:1,element:a.element,id:a.id,"is-invalid":a.isInvalid},null,8,["element","id","is-invalid"]))],2)}],["__scopeId","data-v-ed779cf8"]]);const li=e=>((0,i.dD)("data-v-2748dc6a"),e=e(),(0,i.Cn)(),e),oi={key:0,class:"sr-only"},si={key:1,class:"sr-only"},di={key:2,class:"sr-only"},ci=["tabindex","data-option-key","aria-label","onClick","onKeydown"],ui={class:"well",role:"button"},mi=li((()=>(0,i._)("i",{class:"fa fa-square-o"},null,-1))),pi=li((()=>(0,i._)("i",{class:"fa fa-check-square"},null,-1))),hi=li((()=>(0,i._)("i",{class:"fa fa-square-o"},null,-1))),vi=li((()=>(0,i._)("i",{class:"fa fa-check-square"},null,-1))),fi={class:"rank-text"},gi={class:"rank"},bi={class:"content-container"},yi={class:"ranking-main text ljs"},ki={key:0},wi=["src"],Si={class:"text ljs"},xi=["src"],Di={key:3,class:"sr-only"},_i=["tabindex","data-option-key","aria-label","onClick","onKeydown"],Ui={class:"well",role:"button"},Ii={class:"content-container"},Ci={class:"ranking-main text ljs"},Fi={key:0},ji=["src"],Mi={class:"text ljs"},Oi=["src"],Pi={class:"sr-only"},Ei={class:"slots","aria-hidden":"true"},Ai={class:"well"},qi={class:"content-container"},Ti={class:"ranking-img"},Li=["src","alt"],zi={class:"ranking-main text"},Zi={key:0},Hi=["src"],Ni={class:"text"},Vi=["src"],$i={class:"text"},Ri={key:0,class:"ranking-img invisible"},Bi=["name"];var Yi=a(9980),Wi=a.n(Yi),Ki=a(6991),Gi={name:"Rank",inject:["getElementData","setElementData","generateId","getProperty","getDeviceFeatures","t","useField"],components:{draggable:Wi(),LightboxImage:Pe},props:{element:{type:Object,required:!0},id:{type:String,required:!0}},data(){return{lightboxVisible:!1,ranked:[],unranked:[],ranker:{state:"default",from:"",to:""},rankedMinHeight:null,rankedWidth:null,observer:null}},created(){let e=(0,C.Vo)((()=>{let e=(0,C.IX)().ensure();return this.element.state.hidden||(!this.element.state.required||this.element.props.selectLength||this.element.props.minSelect||(e=e.test("is-required",this.t("vee.minSelectRank",{min:1}),(e=>e.length>0))),this.element.props.selectLength&&(e=e.test("selectLength",this.t("vee.selectLengthRank",{length:this.element.props.selectLength}),(e=>this.element.state.required?e.length===this.element.props.selectLength:0===e.length||e.length===this.element.props.selectLength))),this.element.props.minSelect&&(e=e.test("minSelect",this.t("vee.minSelectRank",{min:this.element.props.minSelect}),(e=>this.element.state.required?e.length>=this.element.props.minSelect:0===e.length||e.length>=this.element.props.minSelect))),this.element.props.maxSelect&&(e=e.test("maxSelect",this.t("vee.maxSelectRank",{max:this.element.props.maxSelect}),(e=>this.element.state.required?e.length<=this.element.props.maxSelect:0===e.length||e.length<=this.element.props.maxSelect)))),e}));this.useField(this.element.inputName,e,this.element.validationScope)},mounted(){this.init()},methods:{init(){this.ranked=[],this.unranked=this.element.choices.filter((e=>!1===e.hidden)),this.$nextTick((()=>{this.updateRankedMinHeight(),this.updateRankedWidth(),window.addEventListener("resize",this.updateRankedWidth)}))},updateRanker(e,t,a){let i=a&&a.target?a.target:void 0;if("default"!=e&&t){this.ranker={state:e,from:"unranked"==t?"ranked":"unranked",to:t},this.$el.querySelector(`ol.${t}`).setAttribute("aria-dropeffect","move"),i&&i.setAttribute("aria-grabbed","true")}else this.ranker={state:e,from:"",to:""},[...this.$el.querySelectorAll('[role="list"]')].map((e=>e.setAttribute("aria-dropeffect","none"))),[...this.$el.querySelectorAll('[aria-grabbed="true"]')].map((e=>e.setAttribute("aria-grabbed","false")))},moveItem(e,t,a,i){if("click"==e.type&&!this.isMobile||this.element.state.disabled)return;if("13"==e.keyCode&&this.isMobile)return;let n=(0,w.Z)(this[i],{id:a}),r="unranked"==i?"ranked":"unranked",l=this[r][t];if(e instanceof KeyboardEvent&&!this.isMobile)return"prepareMove"==this.ranker.state&&(n||this[i].push(l),this[r]=(0,Ki.Z)(this[r],l)),void this.updateRanker("default");this.ranked=(0,Ki.Z)(this.ranked,n),n||this.ranked.push(l)},updateRankedMinHeight(){this.rankedMinHeight=this.$el.querySelector(".unranked").offsetHeight+"px"},updateRankedWidth(){if(this.rankedWidth=this.$el.offsetWidth,0===this.rankedWidth){const e={threshold:0};this.observer=new IntersectionObserver((e=>{e[0].isIntersecting&&(this.rankedWidth=this.$el.offsetWidth,this.observer.disconnect())}),e),this.observer.observe(this.$el)}},toggleLightboxVisible(e){"visible"===e?this.lightboxVisible=!0:"hidden"===e&&(this.lightboxVisible=!1)},getChoiceImage:function(e){return e?e.replace(/^{CCM_FID:(\d+)}$/,CCM_APPLICATION_URL+"/download_file/view_redirect/$1"):""}},beforeDestroy(){window.removeEventListener("resize",this.updateRankedWidth),this.observer&&this.observer.disconnect&&"function"==typeof this.observer.disconnect&&this.observer.disconnect()},provide(){return{getChoiceImage:this.getChoiceImage}},watch:{ranked(e,t){(e.length||t.length)&&(this.elementData=e.map((e=>e.id)))},"element.choices"(){this.init()},elementData(e){void 0===e&&this.init()}},computed:{elementData:{get(){return this.getElementData(this.element.inputName)},set(e){this.setElementData({inputName:this.element.inputName,value:e})}},slots(){let e=this.getProperty("minSelect",null,"number"),t=this.getProperty("maxSelect",null,"number"),a=this.getProperty("selectLength",null,"number"),i=Math.max(t,e,a)||0;return Array.from({length:i},((e,t)=>this.ranked[t]?this.ranked[t]:t+1))||i},isMobile(){return!!(this.getDeviceFeatures().isMobile||this.rankedWidth<655)},isImageChoice(){return!!this.element.props.allowImageChoices},draggableOptions(){return{group:"rank-"+this.id,handle:".rankable",disabled:this.isMobile||this.element.state.disabled||!0===this.lightboxVisible,forceFallback:!0}},lightboxVisibleClass(){return this.slots.length&&!0===this.lightboxVisible?"lightbox-visible":""},imageDisplayClass(){if(this.isImageChoice)return this.element.props.imageChoiceDisplay},validationClass(){const e=this.getProperty("minSelect",null,"number"),t=this.getProperty("maxSelect",null,"number"),a=this.getProperty("selectLength",null,"number"),i=this.ranked.length;this.unranked.length,this.ranked.length;return 0===i?null:e&&t?i>=e&&i<=t?"success":"warning":e?i>=e?"success":"warning":t?i<=t?"success":"warning":a?i===a?"success":"warning":null},handleIconFullPath(){return CCM_APPLICATION_URL+"/packages/the_hive_feedback/images/the_hive_form/handle.svg"}}},Xi=a(58388),Ji={};Ji.styleTagTransform=Ce(),Ji.setAttributes=De(),Ji.insert=Se().bind(null,"head"),Ji.domAPI=ke(),Ji.insertStyleElement=Ue();be()(Xi.Z,Ji),Xi.Z&&Xi.Z.locals&&Xi.Z.locals;var Qi=(0,Me.Z)(Gi,[["render",function(e,t,a,l,o,s){const d=(0,i.up)("lightbox-image"),c=(0,i.up)("draggable");return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.normalizeClass)([{disabled:a.element.state.disabled},{"image-ranking":s.isImageChoice},"field field-ranking"])},[(0,i._)("div",{class:(0,r.normalizeClass)([{touch:s.isMobile},"ranker"])},[s.isMobile?((0,i.wg)(),(0,i.iD)("span",si,(0,r.toDisplayString)(s.t("rankInstructionsMobile")),1)):((0,i.wg)(),(0,i.iD)("span",oi,(0,r.toDisplayString)(s.t("rankInstructionsDesktop")),1)),(0,i.Uk)(),s.isMobile?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("span",di,(0,r.toDisplayString)(s.t("rankListOneTitle")),1)),(0,i.Uk)(),(0,i.Wm)(c,(0,i.dG)({class:[{"col-xs-12":s.isMobile},{"col-xs-6":!s.isMobile},{"has-slots":s.slots.length},"unranked",s.lightboxVisibleClass],modelValue:o.unranked,"onUpdate:modelValue":t[3]||(t[3]=e=>o.unranked=e)},s.draggableOptions,{tag:"ol","component-data":{attrs:{role:"list",ariaDropeffect:"none"}},onStart:s.updateRankedMinHeight,"item-key":"id"}),{item:(0,i.w5)((e=>[(0,i._)("li",{tabindex:!a.element.state.disabled&&0,draggable:"false","aria-grabbed":"false",class:(0,r.normalizeClass)([{ranked:!!s.elementData&&s.elementData.includes(e.element.id)},{"rankable-img":e.element.image},"rankable"]),"data-option-key":e.element.id,"aria-label":e.element.text,onClick:t=>s.moveItem(t,e.index,e.element.id,"ranked"),onKeydown:[(0,n.withKeys)((0,n.withModifiers)((t=>s.isMobile?s.moveItem(t,e.index,e.element.id,"ranked"):s.updateRanker("prepareMove","ranked",t)),["prevent"]),["space"]),(0,n.withKeys)((t=>s.moveItem(t,e.index,e.element.id,"ranked")),["enter"]),t[1]||(t[1]=(0,n.withKeys)((e=>s.updateRanker("default")),["esc"]))],onBlur:t[2]||(t[2]=e=>s.updateRanker("default"))},[(0,i._)("div",ui,[e.element.image?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,r.normalizeClass)([{hidden:!s.isMobile},"check"])},[mi,(0,i.Uk)(),pi],2)),(0,i.Uk)(),e.element.image?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i._)("div",{class:(0,r.normalizeClass)([{hidden:!s.isMobile},"check"])},[hi,(0,i.Uk)(),vi,(0,i.Uk)(),(0,i._)("span",fi,(0,r.toDisplayString)(s.t("rank")),1),(0,i.Uk)(),(0,i._)("span",gi,(0,r.toDisplayString)(s.elementData&&s.elementData.includes(e.element.id)?s.elementData.findIndex((t=>t==e.element.id))+1:"#"),1)],2),(0,i.Uk)(),(0,i._)("div",bi,[(0,i._)("div",{class:(0,r.normalizeClass)(["ranking-img ljs",s.imageDisplayClass]),onClick:t[0]||(t[0]=(0,n.withModifiers)((()=>{}),["stop"]))},[(0,i.Wm)(d,{thumbnail:s.getChoiceImage(e.element.image.src),image:s.getChoiceImage(e.element.image.src),"alt-text":e.element.image.alt||"",onLightboxToggle:s.toggleLightboxVisible},null,8,["thumbnail","image","alt-text","onLightboxToggle"])],2),(0,i.Uk)(),(0,i._)("div",yi,[(0,i._)("p",null,[(0,i._)("strong",null,(0,r.toDisplayString)(e.element.text),1)]),(0,i.Uk)(),e.element.image.caption?((0,i.wg)(),(0,i.iD)("p",ki,(0,r.toDisplayString)(e.element.image.caption),1)):(0,i.kq)("",!0)])]),(0,i.Uk)(),(0,i._)("span",{class:(0,r.normalizeClass)([{hidden:s.isMobile},"handle"])},[(0,i._)("img",{src:s.handleIconFullPath,alt:""},null,8,wi)],2)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:2},[(0,i._)("span",Si,(0,r.toDisplayString)(e.element.text),1),(0,i.Uk)(),(0,i._)("span",{class:(0,r.normalizeClass)([{hidden:s.isMobile},"handle"])},[(0,i._)("img",{src:s.handleIconFullPath,alt:""},null,8,xi)],2)],64)),(0,i.Uk)(),e.element.image?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("span",{key:3,class:(0,r.normalizeClass)([{hidden:!s.isMobile},"rank"])},(0,r.toDisplayString)(s.elementData&&s.elementData.includes(e.element.id)?s.elementData.findIndex((t=>t==e.element.id))+1:"#"),3))])],42,ci)])),_:1},16,["class","modelValue","onStart"]),(0,i.Uk)(),s.isMobile?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("span",Di,(0,r.toDisplayString)(s.t("rankListTwoTitle")),1)),(0,i.Uk)(),(0,i.Wm)(c,(0,i.dG)({class:[{"col-xs-12 hidden":s.isMobile},{"col-xs-6":!s.isMobile},{"has-slots":s.slots.length},"ranked",s.lightboxVisibleClass,s.validationClass],style:{minHeight:o.rankedMinHeight},modelValue:o.ranked,"onUpdate:modelValue":t[8]||(t[8]=e=>o.ranked=e)},s.draggableOptions,{tag:"ol","component-data":{attrs:{role:"list",ariaDropeffect:"none"}},"item-key":"id"}),{item:(0,i.w5)((e=>[(0,i._)("li",{class:(0,r.normalizeClass)([{"rankable-img":e.element.image},"rankable"]),tabindex:!a.element.state.disabled&&0,draggable:"false","aria-grabbed":"false","data-option-key":e.element.id,"aria-label":s.t("objectAtPosition",{object:e.element.text,pos:e.index+1}),onClick:t=>s.moveItem(t,e.index,e.element.id,"unranked"),onKeydown:[t[5]||(t[5]=(0,n.withKeys)((0,n.withModifiers)((e=>s.updateRanker("prepareMove","unranked",e)),["prevent"]),["space"])),(0,n.withKeys)((t=>s.moveItem(t,e.index,e.element.id,"unranked")),["enter"]),t[6]||(t[6]=(0,n.withKeys)((e=>s.updateRanker("default")),["esc"]))],onBlur:t[7]||(t[7]=e=>s.updateRanker("default"))},[(0,i._)("div",Ui,[e.element.image?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("div",Ii,[(0,i._)("div",{class:(0,r.normalizeClass)(["ranking-img ljs",s.imageDisplayClass]),onClick:t[4]||(t[4]=(0,n.withModifiers)((()=>{}),["stop"]))},[(0,i.Wm)(d,{thumbnail:s.getChoiceImage(e.element.image.src),image:s.getChoiceImage(e.element.image.src),"alt-text":e.element.image.alt||"",onLightboxToggle:s.toggleLightboxVisible},null,8,["thumbnail","image","alt-text","onLightboxToggle"])],2),(0,i.Uk)(),(0,i._)("div",Ci,[(0,i._)("p",null,[(0,i._)("strong",null,(0,r.toDisplayString)(e.element.text),1)]),(0,i.Uk)(),e.element.image.caption?((0,i.wg)(),(0,i.iD)("p",Fi,(0,r.toDisplayString)(e.element.image.caption),1)):(0,i.kq)("",!0)])]),(0,i.Uk)(),(0,i._)("span",{class:(0,r.normalizeClass)([{hidden:s.isMobile},"handle"])},[(0,i._)("img",{src:s.handleIconFullPath,alt:""},null,8,ji)],2)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i._)("span",Mi,(0,r.toDisplayString)(e.element.text),1),(0,i.Uk)(),(0,i._)("span",{class:(0,r.normalizeClass)([{hidden:s.isMobile},"handle"])},[(0,i._)("img",{src:s.handleIconFullPath,alt:""},null,8,Oi)],2),(0,i.Uk)(),(0,i._)("span",Pi,(0,r.toDisplayString)(s.t("moveObject",{object:e.element.text})),1)],64))])],42,_i)])),footer:(0,i.w5)((()=>[(0,i._)("ol",Ei,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.slots,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{tabindex:"-1",class:(0,r.normalizeClass)([{"rankable-img":s.isImageChoice},"slot"]),key:t},[(0,i._)("div",Ai,[e.image?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("div",qi,[(0,i._)("div",Ti,[(0,i._)("img",{class:"lightbox-thumbnail",src:s.getChoiceImage(e.image.src),alt:e.image.alt||""},null,8,Li)]),(0,i.Uk)(),(0,i._)("div",zi,[(0,i._)("p",null,[(0,i._)("strong",null,(0,r.toDisplayString)(e.text),1)]),(0,i.Uk)(),e.image.caption?((0,i.wg)(),(0,i.iD)("p",Zi,(0,r.toDisplayString)(e.image.caption),1)):(0,i.kq)("",!0)])]),(0,i.Uk)(),(0,i._)("span",{class:(0,r.normalizeClass)([{hidden:s.isMobile},"handle"])},[(0,i._)("img",{src:s.handleIconFullPath,alt:""},null,8,Hi)],2)],64)):e.text?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i._)("span",Ni,(0,r.toDisplayString)(e.text),1),(0,i.Uk)(),(0,i._)("span",{class:(0,r.normalizeClass)([{hidden:s.isMobile},"handle"])},[(0,i._)("img",{src:s.handleIconFullPath,alt:""},null,8,Vi)],2)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:2},[(0,i._)("span",$i,(0,r.toDisplayString)(e),1),(0,i.Uk)(),s.isImageChoice?((0,i.wg)(),(0,i.iD)("div",Ri)):(0,i.kq)("",!0)],64))])],2)))),128))])])),_:1},16,["class","style","modelValue"]),(0,i.Uk)(),(0,i.wy)((0,i._)("input",{class:"ranker-data",type:"hidden",name:a.element.inputName,"onUpdate:modelValue":t[9]||(t[9]=e=>s.elementData=e)},null,8,Bi),[[n.vModelText,s.elementData]])],2),(0,i.Uk)(),o.ranked.length?((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",class:"btn btn-sm btn-outline btn-default",onClick:t[10]||(t[10]=(0,n.withModifiers)((e=>s.init()),["prevent"]))},(0,r.toDisplayString)(s.t("resetRanking")),1)):(0,i.kq)("",!0)],2)}],["__scopeId","data-v-2748dc6a"]]);const en=["id","name","disabled"],tn=["for"],an={class:"sr-only"},nn=(e=>((0,i.dD)("data-v-38407788"),e=e(),(0,i.Cn)(),e))((()=>(0,i._)("i",{class:"fa fa-minus-circle"},null,-1))),rn=["onMouseover"],ln=["value","id","name","disabled"],on=["for"],sn={class:"sr-only"},dn={class:"caption"},cn={class:"label label-default"};var un={name:"Rate",inject:["getElementData","setElementData","generateId","t","useField"],props:{element:{type:Object,required:!0},id:{type:String,required:!0}},methods:{OnMouseOver:function(e,t){this.rater.forEach((e=>e.hovered=e.step<=t))},OnMouseLeave:function(e){this.rater.forEach((e=>e.hovered=!1))},getGlyph:function(e,t){switch(this.ratingIcon){case"heart":return"heart";case"thumb":return"thumbs-up";case"smile":return"smile-o";default:return"star"}},initRater(e){this.rater=Array.from({length:this.ratingSteps},((e,t)=>t+1)).reduce(((e,t)=>(e.push({step:t,active:!1,hovered:!1}),e)),[])},describe:function(e,t){return null==e?this.t("unrated"):this.t("rateIcon."+t,{count:e})}},computed:{elementData:{get(){return this.getElementData(this.element.inputName)},set(e){this.setElementData({inputName:this.element.inputName,value:e})}},ratingSteps(){return this.element.props.ratingSteps?this.element.props.ratingSteps:5},ratingIcon(){return this.element.props.ratingIcon?this.element.props.ratingIcon:"star"}},watch:{elementData:function(e,t){this.rater.forEach((t=>t.active=t.step<=e))},ratingSteps:function(e,t){this.initRater(e)}},created(){this.initRater(this.ratingSteps);let e=(0,C.Vo)((()=>{let e=(0,C.Rx)().nullable(!0).transform(((e,t)=>t===Number(t)?t:null));return this.element.state.hidden||this.element.state.required&&(e=e.required()),e}));this.useField(this.element.inputName,e,this.element.validationScope)},data(){return{rater:[]}}},mn=a(86756),pn={};pn.styleTagTransform=Ce(),pn.setAttributes=De(),pn.insert=Se().bind(null,"head"),pn.domAPI=ke(),pn.insertStyleElement=Ue();be()(mn.Z,pn),mn.Z&&mn.Z.locals&&mn.Z.locals;var hn=(0,Me.Z)(un,[["render",function(e,t,a,l,o,s){return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.normalizeClass)([{disabled:a.element.state.disabled},"field field-rating"])},[(0,i._)("div",{class:(0,r.normalizeClass)([{active:null===s.elementData},{disabled:a.element.state.disabled},"radio reset"]),onMouseover:t[1]||(t[1]=e=>s.OnMouseOver(e,0)),onMouseleave:t[2]||(t[2]=e=>s.OnMouseLeave(e))},[(0,i.wy)((0,i._)("input",{type:"radio",value:null,id:`${a.element.identifier}-0`,name:a.element.inputName,disabled:a.element.state.disabled,"onUpdate:modelValue":t[0]||(t[0]=e=>s.elementData=e)},null,8,en),[[n.vModelRadio,s.elementData,void 0,{lazy:!0}]]),(0,i.Uk)(),(0,i._)("label",{for:`${a.element.identifier}-0`},[(0,i._)("span",an,(0,r.toDisplayString)(s.describe(0,s.ratingIcon)),1),(0,i.Uk)(),nn],8,tn)],34),(0,i.Uk)(),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.rater,((e,l)=>((0,i.wg)(),(0,i.iD)("div",{key:e.step,class:(0,r.normalizeClass)([{active:o.rater[l].active},{hovered:o.rater[l].hovered},{disabled:a.element.state.disabled},"radio"]),onMouseover:t=>s.OnMouseOver(t,e.step),onMouseleave:t[4]||(t[4]=e=>s.OnMouseLeave(e))},[(0,i.wy)((0,i._)("input",{type:"radio",value:e.step,id:`${a.element.identifier}-${e.step}`,name:a.element.inputName,disabled:a.element.state.disabled,"onUpdate:modelValue":t[3]||(t[3]=e=>s.elementData=e)},null,8,ln),[[n.vModelRadio,s.elementData,void 0,{lazy:!0}]]),(0,i.Uk)(),((0,i.wg)(),(0,i.iD)("label",{for:`${a.element.identifier}-${e.step}`,key:`label-${e.step}`},[(0,i._)("span",sn,(0,r.toDisplayString)(s.describe(e.step,s.ratingIcon)),1),(0,i.Uk)(),(0,i._)("i",{class:(0,r.normalizeClass)(`fa fa-${s.getGlyph(e.hovered,e.active)}`)},null,2)],8,on))],42,rn)))),128)),(0,i.Uk)(),(0,i._)("div",dn,[(0,i._)("span",cn,(0,r.toDisplayString)(s.describe(s.elementData,s.ratingIcon)),1)])],2)}],["__scopeId","data-v-38407788"]]);const vn={class:"field field-select"},fn=["id","name","disabled","aria-invalid","aria-describedby"],gn=(0,i._)("option",{value:void 0},"----",-1),bn=["value"],yn={class:"other-value-field"},kn=["for"],wn=["id","name","disabled","aria-invalid","aria-describedby"];var Sn={name:"Select",inject:["getElementData","setElementData","generateId","getProperty","t","hasError","useField"],props:{element:{type:Object,required:!0},id:{type:String,required:!0},isInvalid:{type:Boolean,default:!1}},computed:{displayOtherField(){return"other"===this.elementData},elementData:{get(){return this.getElementData(this.element.inputName)},set(e){this.setElementData({inputName:this.element.inputName,value:e})}},elementDataOther:{get(){return this.getElementData(this.element.inputName+"-other")},set(e){this.setElementData({inputName:this.element.inputName+"-other",value:e})}},isOtherInvalid(){return this.hasError(this.element.inputName+"-other")}},created(){let e=this,t=(0,C.Vo)((()=>{let e=(0,C.nK)();return this.element.state.hidden||this.element.state.required&&(e=e.required()),e}));this.useField(this.element.inputName,t,this.element.validationScope),this.element.props.otherChoice&&this.useField(this.element.inputName+"-other",(0,C.Z_)().when(this.element.inputName,{is:e=>"other"===e,then:t=>t.required(e.t("vee.otherValue")),otherwise:e=>e}),this.element.validationScope)}};var xn=(0,Me.Z)(Sn,[["render",function(e,t,a,l,o,s){return(0,i.wg)(),(0,i.iD)("div",vn,[(0,i.wy)((0,i._)("select",{class:"form-control",id:s.generateId(),name:a.element.inputName,disabled:a.element.state.disabled,"onUpdate:modelValue":t[0]||(t[0]=e=>s.elementData=e),"aria-invalid":a.isInvalid&&!s.isOtherInvalid,"aria-describedby":a.isInvalid&&!s.isOtherInvalid?a.id+"-error":null},[gn,(0,i.Uk)(),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.element.choices.filter((e=>!1===e.hidden)),(e=>((0,i.wg)(),(0,i.iD)("option",{key:e.id,value:e.id,class:"ljs"},(0,r.toDisplayString)(e.text),9,bn)))),128)),(0,i.Uk)(),s.getProperty("otherChoice",!1)?((0,i.wg)(),(0,i.iD)("option",{key:0,value:"other",class:(0,r.normalizeClass)({ljs:s.getProperty("otherChoiceLabel","")})},(0,r.toDisplayString)(s.getProperty("otherChoiceLabel","")||s.t("otherPleaseSpecify")),3)):(0,i.kq)("",!0)],8,fn),[[n.vModelSelect,s.elementData,void 0,{lazy:!0}]]),(0,i.Uk)(),(0,i.wy)((0,i._)("div",yn,[(0,i._)("label",{for:s.generateId({suffix:"other-value"}),class:"sr-only"},(0,r.toDisplayString)(s.t("otherValue")),9,kn),(0,i.Uk)(),(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",id:s.generateId({suffix:"other-value"}),name:a.element.inputName+"-other",disabled:a.element.state.disabled,"aria-required":!0,"aria-invalid":s.isOtherInvalid,"aria-describedby":s.isOtherInvalid?a.id+"-error":null,"onUpdate:modelValue":t[1]||(t[1]=e=>s.elementDataOther=e)},null,8,wn),[[n.vModelText,s.elementDataOther,void 0,{lazy:!0}]])],512),[[n.vShow,s.displayOtherField]])])}]]);const Dn=["id","disabled","placeholder","name","autocomplete","aria-invalid","aria-describedby"],_n=["id","type","disabled","placeholder","name","aria-invalid","aria-describedby"],Un={key:2,class:"field-character-counter small text-right"};var In=a(99111),Cn=a(87623),Fn={name:"TextInput",inject:["getElementData","setElementData","getProperty","t","useField"],props:{element:{type:Object,required:!0},id:{type:String,required:!0},isInvalid:{type:Boolean,default:!1}},computed:{elementData:{get(){return this.getElementData(this.element.inputName)},set(e){this.setElementData({inputName:this.element.inputName,value:e})}},autocomplete(){return/Chrome/.test(window.navigator.userAgent)?"nope":"off"},placeholder(){return this.getProperty("placeholder",void 0)},maxLength(){return this.getProperty("maxLength",void 0,"number")},hasCharacterCounter(){return!!+this.maxLength},charactersLeft(){return this.hasCharacterCounter&&+this.maxLength&&Number(this.maxLength)-this.value.length},validationSchema(){return(0,C.Vo)((()=>{let e=(0,C.Z_)();return this.element.state.hidden||(this.element.state.required&&(e=e.required()),this.element.props.maxLength&&(e=e.max(this.element.props.maxLength)),"email"===this.element.type&&(e=e.test("is-valid-email",this.t("vee.email"),(e=>null==e||""===e||(0,Cn.Z)(String(e))))),"url"===this.element.type&&(e=e.url())),e}))}},methods:{_syncValue(){this.elementData=this.value},onBlur(){this.debouncedSync.flush()}},watch:{elementData(e){this.value=null==e?"":e},value(){this.debouncedSync()}},created(){this.value=this.elementData||"",this.debouncedSync=(0,In.Z)(this._syncValue,500),this.useField(this.element.inputName,this.validationSchema,this.element.validationScope)},data(){return{value:""}}};const jn=(0,Me.Z)(Fn,[["render",function(e,t,a,l,o,s){return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.normalizeClass)(["field field-input",["field-input-"+a.element.type]])},["textarea"==a.element.type?(0,i.wy)(((0,i.wg)(),(0,i.iD)("textarea",{key:0,id:a.id,disabled:a.element.state.disabled,placeholder:s.placeholder,name:a.element.inputName,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),autocomplete:s.autocomplete,onBlur:t[1]||(t[1]=function(){return s.onBlur&&s.onBlur(...arguments)}),class:"form-control","aria-invalid":a.isInvalid,"aria-describedby":!!a.isInvalid&&a.id+"-error"},null,40,Dn)),[[n.vModelText,o.value,void 0,{trim:!0}]]):(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:1,id:a.id,type:a.element.type,disabled:a.element.state.disabled,placeholder:s.placeholder,name:a.element.inputName,"onUpdate:modelValue":t[2]||(t[2]=e=>o.value=e),onBlur:t[3]||(t[3]=function(){return s.onBlur&&s.onBlur(...arguments)}),class:"form-control",maxlength:"255","aria-invalid":a.isInvalid,"aria-describedby":!!a.isInvalid&&a.id+"-error"},null,40,_n)),[[n.vModelDynamic,o.value,void 0,{trim:!0}]]),(0,i.Uk)(),s.hasCharacterCounter?((0,i.wg)(),(0,i.iD)("div",Un,(0,r.toDisplayString)(s.t("charactersLeft",{chars:s.charactersLeft.toLocaleString()})),1)):(0,i.kq)("",!0)],2)}]]);var Mn=jn;const On={class:"field field-input field-input-number"},Pn={class:"sr-only"},En=["id","disabled","placeholder","min","max","name","aria-invalid","aria-describedby"],An={class:"sr-only"};var qn={name:"Number",inject:["getElementData","setElementData","getProperty","t","useField"],props:{element:{type:Object,required:!0},id:{type:String,required:!0},isInvalid:{type:Boolean,default:!1}},computed:{elementData:{get(){return this.getElementData(this.element.inputName)},set(e){this.setElementData({inputName:this.element.inputName,value:e})}},placeholder(){return this.getProperty("placeholder",void 0)},min(){return this.getProperty("min",!1,"number")},max(){return this.getProperty("max",!1,"number")},showCustomSpinner(){return this.getProperty("showCustomSpinner",!1,"boolean")}},methods:{adjustValueBy(e){let t=this.elementData;if(void 0===t||""===t||null===t){if(!1!==this.min&&0!==this.min)return this.elementData=this.min,void this.$refs.input.focus();t=0}this.min&&t+e<this.min||this.max&&t+e>this.max?this.$refs.input.select():(t+=e,this.elementData=t,this.$refs.input.focus())}},created(){let e=(0,C.Vo)((()=>{let e=(0,C.Rx)().transform((e=>Number.isNaN(e)?null:e)).nullable();return this.element.state.hidden||(this.element.state.required&&(e=e.required()),!1!==this.min&&(e=e.min(this.min)),!1!==this.max&&(e=e.max(this.max))),e}));this.useField(this.element.inputName,e,this.element.validationScope)}},Tn=a(56102),Ln={};Ln.styleTagTransform=Ce(),Ln.setAttributes=De(),Ln.insert=Se().bind(null,"head"),Ln.domAPI=ke(),Ln.insertStyleElement=Ue();be()(Tn.Z,Ln),Tn.Z&&Tn.Z.locals&&Tn.Z.locals;var zn=(0,Me.Z)(qn,[["render",function(e,t,a,l,o,s){return(0,i.wg)(),(0,i.iD)("div",On,[(0,i._)("div",{class:(0,r.normalizeClass)(["number-control",{"number-control-with-spinner":s.showCustomSpinner}])},[s.showCustomSpinner?((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",class:"btn btn-adjust-value",onClick:t[0]||(t[0]=e=>s.adjustValueBy(-1)),tabindex:"-1"},[(0,i.Uk)("\n                -\n                "),(0,i._)("span",Pn,(0,r.toDisplayString)(s.t("minusOne")),1)])):(0,i.kq)("",!0),(0,i.Uk)(),(0,i.wy)((0,i._)("input",{id:a.id,ref:"input",type:"number",disabled:a.element.state.disabled,placeholder:s.placeholder,min:s.min,max:s.max,name:a.element.inputName,"onUpdate:modelValue":t[1]||(t[1]=e=>s.elementData=e),class:"form-control","aria-invalid":a.isInvalid,"aria-describedby":!!a.isInvalid&&a.id+"-error"},null,8,En),[[n.vModelText,s.elementData,void 0,{number:!0}]]),(0,i.Uk)(),s.showCustomSpinner?((0,i.wg)(),(0,i.iD)("button",{key:1,type:"button",class:"btn btn-adjust-value",onClick:t[2]||(t[2]=e=>s.adjustValueBy(1)),tabindex:"-1"},[(0,i.Uk)("\n                +\n                "),(0,i._)("span",An,(0,r.toDisplayString)(s.t("plusOne")),1)])):(0,i.kq)("",!0)],2)])}],["__scopeId","data-v-254cc76c"]]);const Zn={class:"slider-labels ljs"},Hn={key:0,class:"text-left"},Nn={key:1,class:"text-center"},Vn={key:2,class:"text-right"},$n={class:"slider-input"},Rn=["aria-labelledby","name","disabled","aria-invalid","aria-describedby","min","max","step"],Bn=["disabled","aria-label","aria-controls"],Yn=["disabled","aria-label","aria-controls"];var Wn=a(79454),Kn=a.n(Wn);a(69457);function Gn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Xn(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Jn={name:"Slider",inject:["getElementData","setElementData","generateId","getProperty","t","useField"],components:{VueSlider:Kn()},props:{element:{type:Object,required:!0},id:{type:String,required:!0},isInvalid:{type:Boolean,default:!1}},created(){this.value=this.range.start,this.useField(this.element.inputName,this.validationSchema,this.element.validationScope)},methods:{onSliderChange(e){this.elementData=e},onDragEnd(){null!=this.elementData&&""!==this.elementData||(this.elementData=this.value)},reset(){this.elementData=void 0}},computed:{validationSchema(){return(0,C.Vo)((()=>{let e=(0,C.Rx)().integer().transform((e=>Number.isNaN(e)?null:e)).nullable();return this.element.state.hidden||(this.element.state.required&&(e=e.required()),null!==this.range.min&&(e=e.min(this.range.min)),null!==this.range.max&&(e=e.max(this.range.max)),null!==this.range.min&&null!==this.range.max&&null!==this.range.step&&(e=e.test("step-range",this.t("vee.stepRange",{min:this.range.min,max:this.range.max,step:this.range.step}),((e,t)=>isNaN(Number(e))||(Number(this.range.min)+Number(e))%Number(this.range.step)==0)))),e}))},elementData:{get(){return this.getElementData(this.element.inputName)},set(e){this.setElementData({inputName:this.element.inputName,value:e})}},range(){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(a),!0).forEach((function(t){Xn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Gn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({min:0,max:100,step:1,start:0},this.getProperty("sliderRange",{}))},hideInput(){return this.getProperty("sliderHideInput",!1,"boolean")},labels(){const e=this.getProperty("sliderLabels",{});return{left:e.left?e.left:null,center:e.center?e.center:null,right:e.right?e.right:null}},sliderDotSize(){return"large"===this.getProperty("size")?30:20},sliderHeight(){return"large"===this.getProperty("size")?15:10},dir(){return window.i18next&&"rtl"===window.i18next.dir()?"rtl":"ltr"},containerStyles(){const e=.75*this.sliderDotSize+"px";return"rtl"===this.dir?{marginLeft:e}:{marginRight:e}}},watch:{elementData:function(e){null==e||""===e?this.value=this.range.start:e<this.range.min?this.value=this.range.min:e>this.range.max?this.value=this.range.max:this.value=e},"range.start":function(){this.value=this.range.start}},data(){return{value:""}}},Qn=a(31161),er={};er.styleTagTransform=Ce(),er.setAttributes=De(),er.insert=Se().bind(null,"head"),er.domAPI=ke(),er.insertStyleElement=Ue();be()(Qn.Z,er),Qn.Z&&Qn.Z.locals&&Qn.Z.locals;const tr=(0,Me.Z)(Jn,[["render",function(e,t,a,l,o,s){const d=(0,i.up)("vue-slider");return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.normalizeClass)([{disabled:a.element.state.disabled,answered:a.element.state.answered},"field field-slider"])},[(0,i._)("div",{class:"slider-container",style:(0,r.normalizeStyle)(s.containerStyles)},[(0,i.Wm)(d,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),min:s.range.min,max:s.range.max,interval:s.range.step,disabled:a.element.state.disabled,process:!1,lazy:!0,adsorb:!0,"dot-size":s.sliderDotSize,height:s.sliderHeight,"dot-attrs":{id:s.generateId(),"aria-labelledby":s.generateId({suffix:"label"})},direction:s.dir,onChange:s.onSliderChange,onDragEnd:s.onDragEnd},null,8,["modelValue","min","max","interval","disabled","dot-size","height","dot-attrs","direction","onChange","onDragEnd"]),(0,i.Uk)(),(0,i._)("div",Zn,[s.labels.left?((0,i.wg)(),(0,i.iD)("span",Hn,(0,r.toDisplayString)(s.labels.left),1)):(0,i.kq)("",!0),(0,i.Uk)(),s.labels.center?((0,i.wg)(),(0,i.iD)("span",Nn,(0,r.toDisplayString)(s.labels.center),1)):(0,i.kq)("",!0),(0,i.Uk)(),s.labels.right?((0,i.wg)(),(0,i.iD)("span",Vn,(0,r.toDisplayString)(s.labels.right),1)):(0,i.kq)("",!0)])],4),(0,i.Uk)(),(0,i._)("div",$n,[(0,i._)("div",{class:"slider-input-inner",style:(0,r.normalizeStyle)({minHeight:s.sliderDotSize+s.sliderHeight+"px"})},[(0,i.wy)((0,i._)("input",{"aria-labelledby":s.generateId({suffix:"label"}),name:a.element.inputName,disabled:a.element.state.disabled,"onUpdate:modelValue":t[1]||(t[1]=e=>s.elementData=e),"aria-invalid":a.isInvalid,"aria-describedby":!!a.isInvalid&&a.id+"-error",type:"number",min:s.range.min,max:s.range.max,step:s.range.step,autocomplete:"off",class:"form-control"},null,8,Rn),[[n.vModelText,s.elementData,void 0,{number:!0}],[n.vShow,!s.hideInput]]),(0,i.Uk)(),s.hideInput?((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",class:"btn btn-inline btn-link",onClick:t[2]||(t[2]=function(){return s.reset&&s.reset(...arguments)}),disabled:a.element.state.disabled,"aria-label":s.t("resetSliderToStart"),"aria-controls":s.generateId()},(0,r.toDisplayString)(s.t("reset")),9,Bn)):(0,i.kq)("",!0)],4),(0,i.Uk)(),s.hideInput?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",class:"btn btn-inline btn-link",onClick:t[3]||(t[3]=function(){return s.reset&&s.reset(...arguments)}),disabled:a.element.state.disabled,"aria-label":s.t("resetSliderToStart"),"aria-controls":s.generateId()},(0,r.toDisplayString)(s.t("reset")),9,Yn))])],2)}],["__scopeId","data-v-0840cbd2"]]);var ar=tr,ir={name:"StandardForm",inject:["getFormStructure","getFormStatus","getFormConfig","getFormOptions","getFormMetadata","t","emitter"],components:{LightboxImage:Pe,FormSection:qe,FormElement:Ze,Checkmark:We,Checkbox:at,CheckboxList:bt,Content:Dt,ContentImage:Et,ContentVideo:Nt,ContentScreen:Wt,DateTime:ta,FileUpload:Da,Matrix:za,MultiChoice:ri,Radio:ti,Rank:Qi,Rate:hn,Select:xn,TextInput:Mn,Number:zn,Slider:ar},props:{disableInput:{type:Boolean,default:!1}},created(){this.currentArticleId=this.firstArticleId},methods:{getElements:function(e){return e.map((e=>this.formStructure.elements.find((t=>t.id==e))))},isEmptySection:function(e){let t=this.visibleElements.map((e=>e.id));return!(0,W.Z)(e,t).length},questionNumber:function(e){return this.formOptions.questionNumbers?`${e+1}. `:""}},mounted(){this.emitter.on("form-save",(e=>{e.busId;let t=e.payload;t["form-id"]!=this.formMetadata["form-id"]&&t["form-version-id"]!=this.formMetadata["form-version-id"]||this.isFormComplete&&this.$nextTick((()=>{this.$refs.thankYouMessage&&(this.$refs.thankYouMessage.scrollIntoView({behavior:"smooth"}),this.$refs.thankYouMessage.focus({preventScroll:!0}))}))})),$('[data-toggle="tooltip"]').tooltip()},computed:{formStructure(){return this.getFormStructure()},formConfig(){return this.getFormConfig()},formOptions(){return this.getFormOptions()},formMetadata(){return this.getFormMetadata()},isFormComplete(){return this.getFormStatus("completed")},firstArticleId(){const e=this.visibleSections.slice().find((e=>!this.isEmptySection(e.elementIds)));return e?e.id:null},visibleSections(){return this.formStructure.sections.filter((e=>!this.isEmptySection(e.elementIds)))},visibleElements(){return this.formStructure.elements.filter((e=>!e.state.hidden))},visibleInputElements(){return this.formStructure.elements.filter((e=>!e.state.hidden&&"input"==e.category))},activityStatus(){return this.formOptions["activity-status"]?{class:"open",label:this.t("open")}:{class:"closed",label:this.t("closed")}},isSocialMapBlock(){return"the_hive_social_map"===this.formMetadata["block-handle"]}},data(){return{currentArticle:0}}},nr=a(91017),rr={};rr.styleTagTransform=Ce(),rr.setAttributes=De(),rr.insert=Se().bind(null,"head"),rr.domAPI=ke(),rr.insertStyleElement=Ue();be()(nr.Z,rr),nr.Z&&nr.Z.locals&&nr.Z.locals;var lr=(0,Me.Z)(ir,[["render",function(e,t,a,l,o,s){const d=(0,i.up)("lightbox-image"),c=(0,i.up)("form-element"),u=(0,i.up)("form-section"),m=(0,i.up)("portal-target"),p=(0,i.up)("checkmark");return(0,i.wg)(),(0,i.iD)("div",j,[(0,i._)("div",M,[s.formOptions["display-activity-status"]?((0,i.wg)(),(0,i.iD)("div",O,[(0,i._)("span",{class:(0,r.normalizeClass)(s.activityStatus.class)},(0,r.toDisplayString)(s.activityStatus.label),3)])):(0,i.kq)("",!0),(0,i.Uk)(),s.formConfig["activity-title"]&&s.formOptions["display-activity-title"]?((0,i.wg)(),(0,i.iD)("h3",P,(0,r.toDisplayString)(s.formConfig["activity-title"]),1)):(0,i.kq)("",!0),(0,i.Uk)(),s.formConfig["activity-description"]&&s.formOptions["display-activity-description"]?((0,i.wg)(),(0,i.iD)("p",{key:2,class:"lead ljs",innerHTML:s.formConfig["activity-description"]},null,8,E)):(0,i.kq)("",!0)]),(0,i.Uk)(),s.isFormComplete?((0,i.wg)(),(0,i.iD)("div",B,[(0,i.Wm)(p,{class:"checkmark"}),(0,i.Uk)(),(0,i._)("p",{class:(0,r.normalizeClass)(["mod-h4",{ljs:s.formConfig.completedMessage}]),innerHTML:s.formConfig.completedMessage||s.t("thankYouMsg")},null,10,Y)],512)):((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("article",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.visibleSections,((e,t)=>((0,i.wg)(),(0,i.j4)(u,{key:e.id},{default:(0,i.w5)((()=>[e.title?((0,i.wg)(),(0,i.iD)("h4",A,(0,r.toDisplayString)(e.title),1)):(0,i.kq)("",!0),(0,i.Uk)(),e.description?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"lead ljs",innerHTML:e.description},null,8,q)):(0,i.kq)("",!0),(0,i.Uk)(),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.getElements(e.elementIds),(e=>((0,i.wg)(),(0,i.j4)(c,{key:e.id,element:e},{default:(0,i.w5)((e=>{let t=e.element,a=e.isFieldsetElement,l=e.hasLabel,o=e.generateId,c=e.isRequired,u=e.isPublicAnswer,m=e.hasDescription,p=e.hasImage,h=e.hasError,v=e.firstError,f=e.getImage,g=e.getProperty,b=e.getElementComponent,y=e.getQuestionNumber,k=e.elementProps;return[(0,i.wy)((0,i._)("div",{class:(0,r.normalizeClass)([{"has-error":h(t.inputName)},"form-group"])},[((0,i.wg)(),(0,i.j4)((0,i.LL)(a?"fieldset":"div"),null,{default:(0,i.w5)((()=>[l?((0,i.wg)(),(0,i.j4)((0,i.LL)(a?"legend":"label"),{key:0,class:(0,r.normalizeClass)([{"legend-label":a},{"control-label":!a}]),for:!a&&o(),id:o({suffix:"label"})},{default:(0,i.w5)((()=>[s.formOptions.questionNumbers?((0,i.wg)(),(0,i.iD)("span",T,(0,r.toDisplayString)(y(t.id))+".\n                                        ",1)):(0,i.kq)("",!0),(0,i.Uk)(),(0,i._)("span",L,(0,r.toDisplayString)(g("label")),1),(0,i.Uk)(),c?((0,i.wg)(),(0,i.iD)("span",z,(0,r.toDisplayString)(s.t("required")),1)):(0,i.kq)("",!0)])),_:2},1032,["class","for","id"])):(0,i.kq)("",!0),(0,i.Uk)(),m?((0,i.wg)(),(0,i.iD)("span",Z,(0,r.toDisplayString)(g("description")),1)):(0,i.kq)("",!0),(0,i.Uk)(),p?((0,i.wg)(),(0,i.j4)(d,{key:2,class:"question-image",thumbnail:f,image:f,"alt-text":g("imageAlt","")},null,8,["thumbnail","image","alt-text"])):(0,i.kq)("",!0),(0,i.Uk)(),h(t.inputName)?((0,i.wg)(),(0,i.iD)("small",{key:3,class:"error",id:o({suffix:"error"})},(0,r.toDisplayString)(v(t.inputName,t.validationScope)),9,H)):(0,i.kq)("",!0),(0,i.Uk)(),s.isSocialMapBlock&&"content"!==t.category?((0,i.wg)(),(0,i.iD)(i.HY,{key:4},[u?((0,i.wg)(),(0,i.iD)("span",{key:0,class:"privacy-label label label-primary","data-toggle":"tooltip","data-placement":"right",title:s.t("form:properties.publicAnswer.publicTooltip")},(0,r.toDisplayString)(s.t("form:properties.publicAnswer.public")),9,N)):((0,i.wg)(),(0,i.iD)("span",{key:1,class:"privacy-label label label-default","data-toggle":"tooltip","data-placement":"right",title:s.t("form:properties.publicAnswer.privateTooltip")},(0,r.toDisplayString)(s.t("form:properties.publicAnswer.private")),9,V))],64)):(0,i.kq)("",!0),(0,i.Uk)(),((0,i.wg)(),(0,i.j4)((0,i.LL)(b(t.type)),(0,r.normalizeProps)((0,i.F4)(k)),null,16))])),_:2},1024))],2),[[n.vShow,!t.state.hidden]])]})),_:2},1032,["element"])))),128))])),_:2},1024)))),128)),(0,i.Uk)(),(0,i.Wm)(m,{name:"privacyConsent"+s.formMetadata["form-id"]},null,8,["name"]),(0,i.Uk)(),(0,i.Wm)(m,{name:"antiSpam"+s.formMetadata["form-id"]},null,8,["name"])]),(0,i.Uk)(),(0,i.Wm)(m,{name:"formServerErrors"+s.formMetadata["form-id"]},null,8,["name"]),(0,i.Uk)(),(0,i._)("div",R,[(0,i.Wm)(m,{name:"formSubmitButton"+s.formMetadata["form-id"]},null,8,["name"])])],64))])}],["__scopeId","data-v-bee6f824"]]);const or={class:"hive-form-renderer hive-form-renderer-paginated"},sr={class:"intro"},dr={key:0,class:"intro-status"},cr={key:1,class:"intro-title ljs"},ur=["innerHTML"],mr={key:0,class:"progress"},pr=["aria-valuenow"],hr={class:"sr-only"},vr=["tabindex"],fr={key:0,class:"section-title"},gr={class:"title ljs"},br={key:0,class:"step"},yr=["innerHTML"],kr={key:0,class:"element-number"},wr={class:"element-label-text ljs"},Sr={key:1,class:"text-muted small"},xr={key:1,class:"help-block help-text ljs"},Dr=["id"],_r=["tabindex"],Ur={class:"form-action"},Ir=["disabled"],Cr=["disabled"],Fr={key:1,class:"thank-you-message",tabindex:"-1"};const jr=["id"],Mr={key:0,class:"review-form-section-title ljs"},Or={class:"ljs"},Pr={key:0},Er={key:1},Ar={class:"ljs"},qr={class:"ljs"},Tr={class:"ljs"},Lr={key:1,class:"ljs"},zr={key:3,class:"ljs"},Zr=["innerHTML"],Hr={class:"ljs"},Nr={key:3,class:"ljs"};var Vr={name:"FormReview",inject:["getFormStructure","getElementData","getFormOptions","t"],props:{id:{type:String,required:!0},questionNumbers:{type:Boolean,default:!1}},mounted(){},computed:{formStructure(){return this.getFormStructure()},formOptions(){return this.getFormOptions()},visibleSections(){return this.formStructure.sections.filter((e=>!this.isEmptySection(e.id,e.elementIds,"content")))},visibleInputElements(){return this.formStructure.elements.filter((e=>!e.state.hidden&&"input"==e.category))},answeredElements(){return this.formStructure.elements.filter((e=>"input"==e.category&&!!this.getAnswer(e)))}},methods:{getElements:function(e,t){return this.formStructure.elements.filter((a=>t?e.includes(a.id)&&!!t.state&&Object.entries(t.state).every((e=>e[1]==a.state[e[0]])):e.includes(a.id)))},getQuestionNumber:function(e){return this.visibleInputElements.findIndex((t=>t.id==e))+1},getAnswer:function(e){let t,a=this.getElementData(e.inputName);t=void 0===a||""===a||null===a?this.t("noAnswer"):a;let i=e.type;switch("multichoice"===i&&(i=e.props.allowMultiple?"checkboxlist":"radio"),i){case"textarea":t=a?a.replace(/\r\n|\r|\n/g,"<br>"):t;break;case"checkboxlist":case"rank":t=a?a.map((t=>{var a;return"other"===t?this.getElementData(e.inputName+"-other"):null===(a=e.choices.find((e=>e.id==t)))||void 0===a?void 0:a.text})):t;break;case"radio":case"select":var n;if(a&&"other"===a)t=this.getElementData(e.inputName+"-other");else t=null===(n=e.choices.find((e=>e.id==a)))||void 0===n?void 0:n.text;break;case"rate":t=Number.isInteger(a)&&a>0?this.t("rateAnswer."+this.getProperty({name:"ratingIcon",element:e}),{selected:a,steps:this.getProperty({name:"ratingSteps",element:e})}):t;break;case"matrix":t=a?a.map((t=>({col:e.choices.find((e=>e.id==t.col)).text,row:this.getProperty({name:"rows",element:e}).find((e=>e.id==t.row)).text}))):t;break;case"fileupload":t=a?a.map((e=>({file_name:e.file_name,size:e.size}))):t;break;case"date":t=a?Gt()(a,"YYYY-MM-DD").locale("en").format("DD/MM/YYYY"):t;break;case"datetime":t=a?Gt().utc(a,"YYYY-MM-DD HH:mm:ss").local().locale("en").format("DD/MM/YYYY h:mm A"):t;break;case"checkbox":t=a?this.t("yes"):this.t("no")}return t},getProperty(e){let t=e.name,a=e.defaultValue,i=e.type,n=e.element,r=n.props[t]?n.props[t]:void 0;switch(i){case"number":r=Number(r);break;case"string":r=String(r);break;case"boolean":r=Boolean(r)}return r||a},isEmptySection:function(e,t,a,i){a&&(t=this.formStructure.elements.map((i=>{if(i.sectionId==e&&t.includes(i.id)&&i.category!=a)return i.id})));let n=this.visibleInputElements.map((e=>e.id)),r=this.answeredElements.map((e=>e.id));return i?!(0,W.Z)(t,n,r).length:!(0,W.Z)(t,n).length}},filters:{formatFilesize:e=>Math.abs(e)<1024?e.toFixed(0)+" bytes":(e/=1024,Math.abs(e)<1024?e.toFixed(2)+" KB":(e/=1024,Math.abs(e)<1024?e.toFixed(2)+" MB":(e/=1024,Math.abs(e)<1024?e.toFixed(2)+" GB":e.toFixed(2)+" TB")))}},$r=a(51861),Rr={};Rr.styleTagTransform=Ce(),Rr.setAttributes=De(),Rr.insert=Se().bind(null,"head"),Rr.domAPI=ke(),Rr.insertStyleElement=Ue();be()($r.Z,Rr),$r.Z&&$r.Z.locals&&$r.Z.locals;var Br=(0,Me.Z)(Vr,[["render",function(e,t,a,n,l,o){return(0,i.wg)(),(0,i.iD)("div",{id:a.id,class:"review-form"},[(0,i._)("h4",null,(0,r.toDisplayString)(o.t("reviewAndSubmit")),1),(0,i.Uk)(),(0,i._)("p",null,(0,r.toDisplayString)(o.t("reviewAndSubmitDesc")),1),(0,i.Uk)(),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.visibleSections,(t=>((0,i.wg)(),(0,i.iD)("div",{key:t.id,class:"review-form-section"},[t.title?((0,i.wg)(),(0,i.iD)("h5",Mr,(0,r.toDisplayString)(t.title),1)):(0,i.kq)("",!0),(0,i.Uk)(),(0,i._)("dl",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.getElements(t.elementIds,{state:{hidden:!1}}),(t=>((0,i.wg)(),(0,i.iD)(i.HY,null,["input"==t.category?((0,i.wg)(),(0,i.iD)("div",{key:t.id},[(0,i._)("dt",null,[a.questionNumbers?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Uk)((0,r.toDisplayString)(o.getQuestionNumber(t.id))+".",1)],64)):(0,i.kq)("",!0),(0,i.Uk)(),(0,i._)("span",Or,(0,r.toDisplayString)(o.getProperty({name:"label",element:t})),1)]),(0,i.Uk)(),(0,i._)("dd",null,[Array.isArray(o.getAnswer(t))?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},["rank"===t.type?((0,i.wg)(),(0,i.iD)("ol",Pr,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.getAnswer(t),((e,a)=>((0,i.wg)(),(0,i.iD)("li",{key:`${t.id}-review-${a}`,class:(0,r.normalizeClass)([t.type,"ljs"])},(0,r.toDisplayString)(e),3)))),128))])):((0,i.wg)(),(0,i.iD)("ul",Er,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.getAnswer(t),((a,n)=>((0,i.wg)(),(0,i.iD)("li",{key:`${t.id}-review-${n}`,class:(0,r.normalizeClass)(t.type)},["matrix"==t.type?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("span",Ar,(0,r.toDisplayString)(a.row),1),(0,i.Uk)(" = "),(0,i._)("span",qr,(0,r.toDisplayString)(a.col),1)],64)):"fileupload"==t.type?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,r.toDisplayString)(a.file_name)+" ("+(0,r.toDisplayString)(a.size|e.formatFilesize)+")",1)],64)):["checkboxlist","radio","select","multichoice"].includes(t.type)?((0,i.wg)(),(0,i.iD)(i.HY,{key:2},["object"==typeof a?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(a,((e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("span",Tr,(0,r.toDisplayString)(t),1),(0,i.Uk)(": "+(0,r.toDisplayString)(e),1)],64)))),256)):((0,i.wg)(),(0,i.iD)("span",Lr,(0,r.toDisplayString)(a),1))],64)):((0,i.wg)(),(0,i.iD)("span",zr,(0,r.toDisplayString)(a),1))],2)))),128))]))],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[["date","datetime"].includes(t.type)?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Uk)((0,r.toDisplayString)(o.getAnswer(t)),1)],64)):"textarea"===t.type?((0,i.wg)(),(0,i.iD)("span",{key:1,innerHTML:o.getAnswer(t)},null,8,Zr)):"object"==typeof o.getAnswer(t)?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:2},(0,i.Ko)(o.getAnswer(t),((e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("span",Hr,(0,r.toDisplayString)(t),1),(0,i.Uk)(": "+(0,r.toDisplayString)(e),1)],64)))),256)):["radio","select","multichoice"].includes(t.type)?((0,i.wg)(),(0,i.iD)("span",Nr,(0,r.toDisplayString)(o.getAnswer(t)),1)):((0,i.wg)(),(0,i.iD)(i.HY,{key:4},[(0,i.Uk)((0,r.toDisplayString)(o.getAnswer(t)),1)],64))],64))])])):(0,i.kq)("",!0)],64)))),256))])])))),128))],8,jr)}],["__scopeId","data-v-b816f18c"]]);function Yr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Wr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(a),!0).forEach((function(t){Kr(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Yr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Kr(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Gr={name:"PaginatedForm",inject:["getFormMetadata","getFormStatus","setFormStatus","getFormConfig","getFormOptions","getFormStructure","doClientValidation","doReviewForm","t","emitter"],components:{LightboxImage:Pe,FormSection:qe,FormElement:Ze,FormReview:Br,Checkmark:We,Checkbox:at,CheckboxList:bt,Content:Dt,ContentImage:Et,ContentVideo:Nt,ContentScreen:Wt,DateTime:ta,FileUpload:Da,Matrix:za,MultiChoice:ri,Radio:ti,Rank:Qi,Rate:hn,Select:xn,TextInput:Mn,Number:zn,Slider:ar},props:{disableInput:{type:Boolean,default:!1}},methods:{getElements:function(e){return e.map((e=>this.formStructure.elements.find((t=>t.id==e))))},goToPreviousArticle:function(e){this.currentArticleId==this.lastArticleId&&this.formReviewEnabled&&this.formReviewStatus&&!this.isFormComplete?this.formReviewStatus=!1:this.currentArticleId=this.previousArticleId,this.focusActiveArticle(),this.emitter.emit("form-progress",Wr({},this.formMetadata)),_paq.push(["trackEvent","the_hive_form","click_prev",this.formMetadata["b-id"]+";"+this.formMetadata["ft-id"]])},goToNextArticle:function(e){this.doClientValidation([""+this.currentArticleId]).then((t=>{t&&(this.currentArticleId==this.lastArticleId&&this.formReviewEnabled&&!this.formReviewStatus?this.doReviewForm(e).then((()=>{this.focusActiveArticle(),this.emitter.emit("form-progress",Wr({},this.formMetadata))})).catch((()=>{})):(this.currentArticleId=this.nextArticleId,this.focusActiveArticle(),this.emitter.emit("form-progress",Wr({},this.formMetadata))))})),_paq.push(["trackEvent","the_hive_form","click_next",this.formMetadata["b-id"]+";"+this.formMetadata["ft-id"]])},focusActiveArticle:function(){this.$nextTick((()=>{const e=this.$el.querySelector('article[tabindex="-1"]');e&&(e.scrollIntoView({behavior:"smooth"}),e.focus({preventScroll:!0}))}))},isEmptySection:function(e){let t=this.visibleElements.map((e=>e.id));return!(0,W.Z)(e,t).length}},created(){this.currentArticleId=this.firstArticleId},mounted(){this.emitter.on("form-save",(e=>{e.busId;let t=e.payload;t["form-id"]!=this.formMetadata["form-id"]&&t["form-version-id"]!=this.formMetadata["form-version-id"]||this.isFormComplete&&this.focusActiveArticle()})),this.emitter.on("form-reset",(e=>{e.busId;let t=e.payload;t["form-id"]!=this.formMetadata["form-id"]&&t["form-version-id"]!=this.formMetadata["form-version-id"]||(this.currentArticleId=this.firstArticleId)}))},computed:{formStructure(){return this.getFormStructure()},formMetadata(){return this.getFormMetadata()},formOptions(){return this.getFormOptions()},formConfig(){return this.getFormConfig()},formReviewEnabled(){return this.formOptions.reviewAnswers},formReviewStatus:{get:function(){return this.getFormStatus("review")},set:function(e){this.setFormStatus({statusName:"review",value:e})}},isFormComplete(){return this.getFormStatus("completed")},currentSectionId(){return this.currentArticleId},currentArticleIndex(){return this.visibleSections.findIndex((e=>e.id==this.currentArticleId))},previousArticleId(){let e=this.visibleSections.slice(0,this.currentArticleIndex).reverse().find((e=>!this.isEmptySection(e.elementIds)));return e?e.id:this.currentArticleId},nextArticleId(){let e=this.visibleSections.slice(this.currentArticleIndex+1).find((e=>!this.isEmptySection(e.elementIds)));return e?e.id:this.currentArticleId},firstArticleId(){const e=this.visibleSections.slice().find((e=>!this.isEmptySection(e.elementIds)));return e?e.id:null},lastArticleId(){const e=this.visibleSections.slice().reverse().find((e=>!this.isEmptySection(e.elementIds)));return e?e.id:null},visibleSections(){return this.formStructure.sections.filter((e=>!this.isEmptySection(e.elementIds)))},visibleElements(){return this.formStructure.elements.filter((e=>!e.state.hidden))},visibleInputElements(){return this.formStructure.elements.filter((e=>!e.state.hidden&&"input"==e.category))},articles(){return this.visibleSections},progress(){return this.formReviewStatus?100:Math.round(this.currentArticleIndex/this.articles.length*100)},activityStatus(){return this.formOptions["activity-status"]?{class:"open",label:this.t("open")}:{class:"closed",label:this.t("closed")}},elementBusy(){return this.formStructure.elements.some((e=>!!e.state.busy))}},data(){return{currentArticleId:0}}},Xr=a(94951),Jr={};Jr.styleTagTransform=Ce(),Jr.setAttributes=De(),Jr.insert=Se().bind(null,"head"),Jr.domAPI=ke(),Jr.insertStyleElement=Ue();be()(Xr.Z,Jr),Xr.Z&&Xr.Z.locals&&Xr.Z.locals;var Qr=(0,Me.Z)(Gr,[["render",function(e,t,a,l,o,s){const d=(0,i.up)("lightbox-image"),c=(0,i.up)("form-element"),u=(0,i.up)("form-section"),m=(0,i.up)("form-review"),p=(0,i.up)("portal-target"),h=(0,i.up)("checkmark");return(0,i.wg)(),(0,i.iD)("div",or,[(0,i._)("div",sr,[s.formOptions["display-activity-status"]?((0,i.wg)(),(0,i.iD)("div",dr,[(0,i._)("span",{class:(0,r.normalizeClass)(s.activityStatus.class)},(0,r.toDisplayString)(s.activityStatus.label),3)])):(0,i.kq)("",!0),(0,i.Uk)(),s.formConfig["activity-title"]&&s.formOptions["display-activity-title"]?((0,i.wg)(),(0,i.iD)("h3",cr,(0,r.toDisplayString)(s.formConfig["activity-title"]),1)):(0,i.kq)("",!0),(0,i.Uk)(),s.formConfig["activity-description"]&&s.formOptions["display-activity-description"]?((0,i.wg)(),(0,i.iD)("p",{key:2,class:"lead ljs",innerHTML:s.formConfig["activity-description"]},null,8,ur)):(0,i.kq)("",!0)]),(0,i.Uk)(),s.isFormComplete?((0,i.wg)(),(0,i.iD)("article",Fr,[(0,i.Wm)(h,{class:"checkmark"}),(0,i.Uk)(),(0,i._)("p",{class:(0,r.normalizeClass)(["mod-h4",{ljs:s.formConfig.completedMessage}])},(0,r.toDisplayString)(s.formConfig.completedMessage||s.t("thankYouMsg")),3)])):((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[s.formOptions.progressBar&&s.articles.length>1?((0,i.wg)(),(0,i.iD)("div",mr,[(0,i._)("div",{class:"progress-bar progress-bar-success",role:"progressbar","aria-valuenow":s.progress,"aria-valuemin":"0","aria-valuemax":"100",style:(0,r.normalizeStyle)({width:s.progress+"%"})},[(0,i._)("span",hr,(0,r.toDisplayString)(s.t("progressDesc",{percentage:s.progress})),1)],12,pr)])):(0,i.kq)("",!0),(0,i.Uk)(),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.visibleSections,(e=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("article",{key:e.id,tabindex:!(o.currentArticleId!==e.id||(!s.formReviewEnabled||s.formReviewStatus)&&s.formReviewEnabled)&&-1},[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[e.title?((0,i.wg)(),(0,i.iD)("h4",fr,[(0,i._)("span",gr,(0,r.toDisplayString)(e.title),1),(0,i.Uk)(),s.formOptions.pageNumbers?((0,i.wg)(),(0,i.iD)("span",br,(0,r.toDisplayString)(s.t("currentStep",{current:s.currentArticleIndex+1,total:s.visibleSections.length})),1)):(0,i.kq)("",!0)])):(0,i.kq)("",!0),(0,i.Uk)(),e.description?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"lead ljs",innerHTML:e.description},null,8,yr)):(0,i.kq)("",!0),(0,i.Uk)(),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.getElements(e.elementIds),(e=>((0,i.wg)(),(0,i.j4)(c,{key:e.id,element:e},{default:(0,i.w5)((e=>{let t=e.element,a=e.isFieldsetElement,l=e.hasLabel,o=e.generateId,c=e.isRequired,u=e.hasDescription,m=e.hasImage,p=e.hasError,h=e.firstError,v=e.getImage,f=e.getProperty,g=e.getElementComponent,b=e.getQuestionNumber,y=e.elementProps;return[(0,i.wy)((0,i._)("div",{class:(0,r.normalizeClass)([{"has-error":p(t.inputName)},"form-group"])},[((0,i.wg)(),(0,i.j4)((0,i.LL)(a?"fieldset":"div"),{class:"element-label"},{default:(0,i.w5)((()=>[l?((0,i.wg)(),(0,i.j4)((0,i.LL)(a?"legend":"label"),{key:0,class:(0,r.normalizeClass)([{"legend-label":a},{"control-label":!a}]),for:!a&&o(),id:o({suffix:"label"})},{default:(0,i.w5)((()=>[s.formOptions.questionNumbers?((0,i.wg)(),(0,i.iD)("span",kr,(0,r.toDisplayString)(b(t.id))+".",1)):(0,i.kq)("",!0),(0,i.Uk)(),(0,i._)("span",wr,(0,r.toDisplayString)(f("label")),1),(0,i.Uk)(),c?((0,i.wg)(),(0,i.iD)("span",Sr,(0,r.toDisplayString)(s.t("required")),1)):(0,i.kq)("",!0)])),_:2},1032,["class","for","id"])):(0,i.kq)("",!0),(0,i.Uk)(),u?((0,i.wg)(),(0,i.iD)("span",xr,(0,r.toDisplayString)(f("description")),1)):(0,i.kq)("",!0),(0,i.Uk)(),m?((0,i.wg)(),(0,i.j4)(d,{key:2,class:"question-image",thumbnail:v,image:v,"alt-text":f("imageAlt","")},null,8,["thumbnail","image","alt-text"])):(0,i.kq)("",!0),(0,i.Uk)(),p(t.inputName)?((0,i.wg)(),(0,i.iD)("small",{key:3,class:"error",id:o({suffix:"error"})},(0,r.toDisplayString)(h(t.inputName,t.validationScope)),9,Dr)):(0,i.kq)("",!0),(0,i.Uk)(),((0,i.wg)(),(0,i.j4)((0,i.LL)(g(t.type)),(0,r.normalizeProps)((0,i.F4)(y)),null,16))])),_:2},1024))],2),[[n.vShow,!t.state.hidden]])]})),_:2},1032,["element"])))),128))])),_:2},1024)],8,vr)),[[n.vShow,o.currentArticleId===e.id&&(!!s.formReviewEnabled&&!s.formReviewStatus||!s.formReviewEnabled)]]))),128)),(0,i.Uk)(),s.formReviewEnabled?(0,i.wy)(((0,i.wg)(),(0,i.iD)("article",{key:1,tabindex:!!s.formReviewStatus&&-1},[s.formReviewStatus?((0,i.wg)(),(0,i.j4)(m,{key:0,id:`review-form-${s.formMetadata["form-id"]}`,"question-numbers":s.formOptions.questionNumbers},null,8,["id","question-numbers"])):(0,i.kq)("",!0)],8,_r)),[[n.vShow,!!s.formReviewStatus]]):(0,i.kq)("",!0),(0,i.Uk)(),(0,i.wy)((0,i._)("div",null,[(0,i.Wm)(p,{name:"privacyConsent"+s.formMetadata["form-id"]},null,8,["name"]),(0,i.Uk)(),(0,i.Wm)(p,{name:"antiSpam"+s.formMetadata["form-id"]},null,8,["name"]),(0,i.Uk)(),(0,i.Wm)(p,{name:"formServerErrors"+s.formMetadata["form-id"]},null,8,["name"])],512),[[n.vShow,!s.isFormComplete&&(!s.formReviewEnabled&&o.currentArticleId==s.lastArticleId||!!s.formReviewEnabled&&!!s.formReviewStatus)]]),(0,i.Uk)(),(0,i._)("div",Ur,[(0,i.wy)((0,i._)("button",{type:"button",class:(0,r.normalizeClass)(["btn btn-default btn-outline btn-prev",{ljs:s.formConfig.prevButtonLabel}]),onClick:t[0]||(t[0]=(0,n.withModifiers)((e=>s.goToPreviousArticle(e)),["prevent"])),onKeydown:t[1]||(t[1]=(0,n.withKeys)((0,n.withModifiers)((e=>s.goToPreviousArticle(e)),["prevent"]),["enter"])),disabled:a.disableInput||s.elementBusy},(0,r.toDisplayString)(s.formConfig.prevButtonLabel||s.t("previous")),43,Ir),[[n.vShow,o.currentArticleId!=s.previousArticleId||o.currentArticleId==s.lastArticleId&&!!s.formReviewEnabled&&!!s.formReviewStatus]]),(0,i.Uk)(),(0,i.wy)((0,i._)("button",{type:"button",class:(0,r.normalizeClass)(["btn btn-primary btn-next",{ljs:s.formConfig.nextButtonLabel}]),onClick:t[2]||(t[2]=(0,n.withModifiers)((e=>s.goToNextArticle(e)),["prevent"])),onKeydown:t[3]||(t[3]=(0,n.withKeys)((0,n.withModifiers)((e=>s.goToNextArticle(e)),["prevent"]),["enter"])),disabled:a.disableInput||s.elementBusy},(0,r.toDisplayString)(s.formConfig.nextButtonLabel||s.t("next")),43,Cr),[[n.vShow,!s.formReviewEnabled&&o.currentArticleId!=s.lastArticleId||!!s.formReviewEnabled&&!s.formReviewStatus]]),(0,i.Uk)(),(0,i.wy)((0,i._)("span",null,[(0,i.Wm)(p,{name:"formSubmitButton"+s.formMetadata["form-id"]},null,8,["name"])],512),[[n.vShow,!s.isFormComplete&&(!s.formReviewEnabled&&o.currentArticleId==s.lastArticleId||!!s.formReviewEnabled&&!!s.formReviewStatus)]])])],64))])}],["__scopeId","data-v-7314e31e"]]);const el=e=>((0,i.dD)("data-v-a6bce834"),e=e(),(0,i.Cn)(),e),tl={class:"hive-form-renderer hive-form-renderer-freeflow fullscreen"},al={class:"intro"},il={class:"intro-content"},nl={key:0,class:"intro-status"},rl={key:1,class:"intro-title ljs"},ll=["innerHTML"],ol=["data-modalid","disabled"],sl=["id","aria-labelledby"],dl={class:"modal-dialog",role:"document"},cl={class:"modal-content"},ul={class:"modal-body-header"},ml=["id"],pl={key:0,class:"section-title"},hl={class:"ljs"},vl=[el((()=>(0,i._)("i",{class:"fa fa-close"},null,-1)))],fl={class:"lead"},gl={class:"container-fluid mod-narrow"},bl=["tabindex"],yl={class:"section-title ljs"},kl=["innerHTML"],wl={class:"form-element",style:{position:"relative"}},Sl={key:0,class:"element-label-fixed"},xl={class:"container-fluid mod-narrow"},Dl={class:"element-label-fixed-inner"},_l={key:0,class:"element-number"},Ul={class:"ljs"},Il={class:"form-group-inner"},Cl={key:0,class:"error-container"},Fl=["id"],jl={key:0,class:"element-number"},Ml={class:"ljs"},Ol={key:1,class:"badge badge-required"},Pl={key:1,class:"help-block help-text ljs"},El={class:"form-action"},Al={class:"welcome ljs"},ql={key:0},Tl=["innerHTML"],Ll={key:4,class:"thank-you-message"},zl={type:"button",class:"btn btn-primary","data-dismiss":"modal"},Zl={key:0,class:"modal-footer"},Hl={class:"container-fluid mod-narrow"},Nl={class:"progress-container"},Vl={key:0,class:"progress"},$l=["aria-valuenow"],Rl={class:"sr-only"},Bl={class:"slide-navigation"},Yl=["disabled","title","aria-label"],Wl=[el((()=>(0,i._)("span",{class:"glyphicon glyphicon-chevron-up","aria-hidden":"true"},null,-1)))],Kl=["disabled","title","aria-label"],Gl=[el((()=>(0,i._)("span",{class:"glyphicon glyphicon-chevron-down","aria-hidden":"true"},null,-1)))];const Xl=["aria-label"],Jl={class:"prompt-dialog",role:"document"},Ql={class:"prompt-dialog-header"},eo={class:"prompt-dialog-body"},to={class:"prompt-dialog-buttons"};var ao={name:"ClosePrompt",inject:["t"],props:{visible:{type:Boolean,default:!1},title:{type:String,required:!0}},watch:{visible(){this.visible?this.show():this.hide()}},methods:{ok(){this.$emit("ok")},cancel(){this.$emit("cancel")},show(){this.triggerEl=document.activeElement;const e=pe().query.firstTabbable({context:this.$refs.dialog,defaultToContext:!0});e&&e.focus(),this.disabledHandle=pe().maintain.disabled({filter:this.$refs.dialog}),this.hiddenHandle=pe().maintain.hidden({filter:this.$refs.dialog}),this.tabHandle=pe().maintain.tabFocus({filter:this.$refs.dialog}),this.keyHandle=pe().when.key({escape:this.cancel})},hide(){this.keyHandle.disengage(),this.tabHandle.disengage(),this.hiddenHandle.disengage(),this.disabledHandle.disengage(),this.triggerEl&&(this.triggerEl.focus(),this.triggerEl=null)}}},io=a(24558),no={};no.styleTagTransform=Ce(),no.setAttributes=De(),no.insert=Se().bind(null,"head"),no.domAPI=ke(),no.insertStyleElement=Ue();be()(io.Z,no),io.Z&&io.Z.locals&&io.Z.locals;const ro=(0,Me.Z)(ao,[["render",function(e,t,a,l,o,s){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(n.Transition,{name:"fade"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",{class:"prompt",role:"dialog",tabindex:"-1",ref:"dialog","aria-label":a.title},[(0,i._)("div",Jl,[(0,i._)("div",Ql,[(0,i._)("h1",null,(0,r.toDisplayString)(a.title),1)]),(0,i.Uk)(),(0,i._)("div",eo,[(0,i.WI)(e.$slots,"default",{},void 0,!0)]),(0,i.Uk)(),(0,i._)("div",to,[(0,i._)("button",{type:"button",class:"btn btn-success",onClick:t[0]||(t[0]=function(){return s.ok&&s.ok(...arguments)})},(0,r.toDisplayString)(s.t("confirm")),1),(0,i.Uk)(),(0,i._)("button",{type:"button",class:"btn btn-danger",onClick:t[1]||(t[1]=function(){return s.cancel&&s.cancel(...arguments)})},(0,r.toDisplayString)(s.t("cancel")),1)])])],8,Xl),[[n.vShow,a.visible]])])),_:3})])}],["__scopeId","data-v-f15d5cf2"]]);var lo=ro;const oo={class:"slide-actions"},so={class:"slide-next-button"},co=["disabled"];var uo={name:"SlideActions",props:{nextButtonLabel:{type:String,default:"Next",required:!0},disabled:{type:Boolean,default:!1}},methods:{goToNext(){this.$emit("next")}}},mo=a(38950),po={};po.styleTagTransform=Ce(),po.setAttributes=De(),po.insert=Se().bind(null,"head"),po.domAPI=ke(),po.insertStyleElement=Ue();be()(mo.Z,po),mo.Z&&mo.Z.locals&&mo.Z.locals;const ho=(0,Me.Z)(uo,[["render",function(e,t,a,l,o,s){return(0,i.wg)(),(0,i.iD)("div",oo,[(0,i._)("div",so,[(0,i._)("button",{type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=(0,n.withModifiers)((function(){return s.goToNext&&s.goToNext(...arguments)}),["prevent"])),onKeydown:t[1]||(t[1]=(0,n.withKeys)((0,n.withModifiers)((function(){return s.goToNext&&s.goToNext(...arguments)}),["prevent"]),["enter"])),disabled:a.disabled},(0,r.toDisplayString)(a.nextButtonLabel),41,co)])])}],["__scopeId","data-v-0320bd56"]]);function vo(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function fo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?vo(Object(a),!0).forEach((function(t){go(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vo(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function go(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var bo={name:"FreeflowForm",inject:["getFormMetadata","getFormStatus","setFormStatus","getFormOptions","getFormConfig","getFormStructure","doClientValidation","doReviewForm","doFocusField","t","emitter"],components:{Checkmark:We,ClosePrompt:lo,SlideActions:ho,LightboxImage:Pe,FormSection:qe,FormElement:Ze,FormReview:Br,Checkbox:at,CheckboxList:bt,Content:Dt,ContentImage:Et,ContentVideo:Nt,ContentScreen:Wt,DateTime:ta,FileUpload:Da,Matrix:za,MultiChoice:ri,Radio:ti,Rank:Qi,Rate:hn,Select:xn,TextInput:Mn,Number:zn,Slider:ar},props:{disableInput:{type:Boolean,default:!1}},created(){this.currentSlideHandle=this.firstSlideHandle},mounted(){$("#"+this.modalID).on("shown.bs.modal",(()=>{this.$refs.modalBodyContent.querySelector('article[tabindex="-1"]')&&this.$refs.modalBodyContent.querySelector('article[tabindex="-1"]').focus()})),$("#"+this.modalID).on("hidden.bs.modal",(()=>{this.$el.querySelector(`[data-modalid="${this.modalID}"]`).focus()})),this.emitter.on("form-save",(e=>{e.busId;let t=e.payload;t["form-id"]!=this.formMetadata["form-id"]&&t["form-version-id"]!=this.formMetadata["form-version-id"]||this.isFormComplete&&(this.slideTransitionActive=!0,this.currentSlideHandle="thank-you")})),this.emitter.on("form-reset",(e=>{e.busId;let t=e.payload;t["form-id"]!=this.formMetadata["form-id"]&&t["form-version-id"]!=this.formMetadata["form-version-id"]||(this.currentSlideHandle=this.firstSlideHandle)}))},beforeDestroy:function(){$("#"+this.modalID).off("shown.bs.modal"),$("#"+this.modalID).off("hidden.bs.modal")},methods:{onModalScroll:function(e){const t=e.target,a=this.$refs.elementLabels.filter((e=>e.clientWidth>0&&e.clientHeight>0));if(a.length){const e=a[0];this.displayFixedLabel=!this.isInView(t,e)}},isInView:function(e,t){const a=e.scrollTop,i=t.getBoundingClientRect().top+a,n=a,r=a+e.clientHeight,l=i,o=i+t.clientHeight;return o>=n&&o<=r||l<=r&&l>=n},requestModalClose(){this.isFormComplete?$("#"+this.modalID).modal("hide"):this.showClosePrompt()},showClosePrompt(){this.showPrompt=!0},hideClosePrompt(){this.showPrompt=!1},closeModal(){this.hideClosePrompt(),this.emitter.emit("form-reset",fo({},this.formMetadata)),this.emitter.emit("form-progress",fo({},this.formMetadata)),this.$nextTick((()=>{$("#"+this.modalID).modal("hide")}))},getElements:function(e,t){return this.formStructure.elements.filter((a=>t?e.includes(a.id)&&a.state.hidden==!!t.state.hidden&&a.state.disabled==!!t.state.disabled&&a.state.required==!!t.state.required:e.includes(a.id)))},isEmptySection:function(e){let t=this.visibleElements.map((e=>e.id));return!(0,W.Z)(e,t).length},showModal:function(e){$("#"+this.modalID).modal({show:!0,keyboard:!1,backdrop:!1}),_paq.push(["trackEvent","the_hive_form","start",this.formMetadata["b-id"]+";"+this.formMetadata["ft-id"]])},goToPreviousSlide(e){this.direction="prev",this.currentSlideHandle==this.lastSlideHandle&&this.formReviewEnabled&&this.formReviewStatus&&!this.isFormComplete&&(this.formReviewStatus=!1),this.slideTransitionActive=!0,this.currentSlideHandle=this.previousSlideHandle,this.displayFixedLabel=!1,this.$refs.modalBody.scrollTop=0,this.emitter.emit("form-progress",fo({},this.formMetadata)),_paq.push(["trackEvent","the_hive_form","click_prev",this.formMetadata["b-id"]+";"+this.formMetadata["ft-id"]])},async goToNextSlide(e){this.direction="next";let t=!0;if(this.currentSlide&&"element"===this.currentSlide.type){await this.doClientValidation([""+this.currentSlide.id])||(t=!1)}t&&this.currentSlideHandle==this.lastElementSlideHandle&&this.formReviewEnabled&&!this.formReviewStatus&&await this.doReviewForm(e).then((()=>{t=!0}),(()=>{t=!1})),t&&(this.slideTransitionActive=!0,this.currentSlideHandle=this.nextSlideHandle,this.displayFixedLabel=!1,this.$refs.modalBody.scrollTop=0,this.emitter.emit("form-progress",fo({},this.formMetadata))),_paq.push(["trackEvent","the_hive_form","click_next",this.formMetadata["b-id"]+";"+this.formMetadata["ft-id"]])},slideTransitionComplete(){this.slideTransitionActive=!1,this.$refs.modalBodyContent.querySelector('article[tabindex="-1"]')&&(this.$refs.modalBodyContent.querySelector('article[tabindex="-1"]').focus({preventScroll:!0}),setTimeout((()=>{this.$refs.modalBody.scrollTop=0}),1))},getElementById(e){return this.formStructure.elements.find((t=>t.id==e))},getSectionById(e){return this.formStructure.sections.find((t=>t.id==e))}},computed:{formStructure(){let e=this.getFormStructure();return e.elements.forEach((e=>{switch(e.type){case"text":case"textarea":case"email":case"color":case"month":case"password":case"range":case"search":case"tel":case"telephone":case"time":case"url":case"week":e.props=fo({placeholder:this.t("typeYourAnswerHere")},e.props);break;case"number":e.props=fo({placeholder:this.t("typeYourAnswerHere"),showCustomSpinner:!0},e.props);break;case"slider":e.props=fo({size:"large"},e.props)}})),e},formMetadata(){return this.getFormMetadata()},formConfig(){return this.getFormConfig()},formOptions(){return this.getFormOptions()},formReviewEnabled(){return this.formOptions.reviewAnswers},formReviewStatus:{get:function(){return this.getFormStatus("review")},set:function(e){this.setFormStatus({statusName:"review",value:e})}},visibleSections(){return this.formStructure.sections.filter((e=>!this.isEmptySection(e.elementIds)))},visibleElements(){return this.formStructure.elements.filter((e=>!e.state.hidden))},visibleInputElements(){return this.formStructure.elements.filter((e=>!e.state.hidden&&"input"==e.category))},progress(){return Math.round(this.currentSlideIndex/(this.progressSlideCount-1)*100)},modalID(){return`bsmodal-form-${this.formMetadata["form-id"]}`},isFormComplete(){return this.getFormStatus("completed")},introImage(){let e=this.formConfig.introImage;return e?e.replace(/^{CCM_FID:(\d+)}$/,CCM_APPLICATION_URL+"/download_file/view_redirect/$1"):""},activityStatus(){return this.formOptions["activity-status"]?{class:"open",label:this.t("open")}:{class:"closed",label:this.t("closed")}},slideTransitionName(){return this.slideTransitionActive?"prev"===this.direction?"slide-prev":"slide-next":null},slides(){let e=[];return(this.formConfig.welcomeTitle||this.formConfig.welcomeDescription)&&e.push({type:"welcome",handle:"welcome"}),this.visibleSections.forEach((t=>{(t.title&&""!==t.title||t.description&&""!==t.description)&&e.push({type:"section",handle:"section-"+t.id,id:t.id}),t.elementIds.forEach((t=>{const a=this.formStructure.elements.find((e=>e.id==t));a&&!a.state.hidden&&e.push({type:"element",handle:"element-"+a.id,id:a.id})}))})),this.formReviewEnabled&&e.push({type:"review",handle:"review"}),e.push({type:"thank-you",handle:"thank-you"}),e},progressSlideCount(){return this.slides.filter((e=>!!e&&"thank-you"!==e.type)).length},currentSlide(){return this.slides.find((e=>e.handle==this.currentSlideHandle))},currentSlideIndex(){return this.slides.findIndex((e=>e.handle==this.currentSlideHandle))},previousSlideHandle(){let e=this.slides.slice(0,this.currentSlideIndex).reverse().find((e=>!!e));return e?e.handle:this.currentSlideHandle},nextSlideHandle(){let e=this.slides.slice(this.currentSlideIndex+1).find((e=>!!e));return e?e.handle:this.currentSlideHandle},firstSlideHandle(){const e=this.slides.slice().find((e=>!!e));return e?e.handle:null},lastSlideHandle(){const e=this.slides.slice().reverse().find((e=>!!e&&"thank-you"!==e.type));return e?e.handle:null},lastElementSlideHandle(){const e=this.slides.slice().reverse().find((e=>!!e&&["section","element"].includes(e.type)));return e?e.handle:null},currentSlideTitle(){switch(this.currentSlide.type){case"section":const e=this.getSectionById(this.currentSlide.id);if(e&&e.title&&""!==e.title)return e.title;break;case"element":const t=this.getElementById(this.currentSlide.id);if(t){const e=this.getSectionById(t.sectionId);if(e&&e.title&&""!==e.title)return e.title}break;case"review":return this.t("reviewAndSubmit")}return null},elementBusy(){return this.formStructure.elements.some((e=>!!e.state.busy))}},data(){return{currentSlideHandle:null,displayFixedLabel:!1,direction:"next",slideTransitionActive:!1,showPrompt:!1}}},yo=a(68195),ko={};ko.styleTagTransform=Ce(),ko.setAttributes=De(),ko.insert=Se().bind(null,"head"),ko.domAPI=ke(),ko.insertStyleElement=Ue();be()(yo.Z,ko),yo.Z&&yo.Z.locals&&yo.Z.locals;const wo=(0,Me.Z)(bo,[["render",function(e,t,a,l,o,s){const d=(0,i.up)("close-prompt"),c=(0,i.up)("form-section"),u=(0,i.up)("slide-actions"),m=(0,i.up)("lightbox-image"),p=(0,i.up)("form-element"),h=(0,i.up)("form-review"),v=(0,i.up)("portal-target"),f=(0,i.up)("checkmark");return(0,i.wg)(),(0,i.iD)("div",tl,[(0,i._)("div",al,[s.introImage?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"intro-image",style:(0,r.normalizeStyle)({backgroundImage:"url("+s.introImage+")"})},null,4)):(0,i.kq)("",!0),(0,i.Uk)(),(0,i._)("div",il,[s.formOptions["display-activity-status"]?((0,i.wg)(),(0,i.iD)("div",nl,[(0,i._)("span",{class:(0,r.normalizeClass)(s.activityStatus.class)},(0,r.toDisplayString)(s.activityStatus.label),3)])):(0,i.kq)("",!0),(0,i.Uk)(),s.formConfig["activity-title"]&&s.formOptions["display-activity-title"]?((0,i.wg)(),(0,i.iD)("div",rl,(0,r.toDisplayString)(s.formConfig["activity-title"]),1)):(0,i.kq)("",!0),(0,i.Uk)(),s.formConfig["activity-description"]&&s.formOptions["display-activity-description"]?((0,i.wg)(),(0,i.iD)("div",{key:2,class:"intro-description ljs",innerHTML:s.formConfig["activity-description"]},null,8,ll)):(0,i.kq)("",!0),(0,i.Uk)(),(0,i._)("button",{type:"button",class:(0,r.normalizeClass)(["btn btn-primary",{ljs:s.formConfig.introButton}]),"data-modalid":s.modalID,disabled:a.disableInput,onClick:t[0]||(t[0]=(0,n.withModifiers)((e=>s.showModal(e)),["prevent"]))},(0,r.toDisplayString)(s.formConfig.introButton||s.t("start")),11,ol)])]),(0,i.Uk)(),(0,i._)("div",{id:s.modalID,role:"dialog","aria-modal":"true","aria-labelledby":`modal-form-${s.formMetadata["form-id"]}`,tabindex:"-1",class:"freeflow modal fade"},[(0,i._)("div",dl,[(0,i._)("div",cl,[(0,i._)("div",{class:"modal-body",onScrollPassive:t[2]||(t[2]=e=>s.onModalScroll(e)),ref:"modalBody"},[(0,i._)("div",ul,[(0,i._)("h1",{class:"modal-title",id:`modal-form-${s.formMetadata["form-id"]}`},[(0,i._)("span",{class:(0,r.normalizeClass)(["form-title",{ljs:s.formConfig.title}])},(0,r.toDisplayString)(s.formConfig.title||s.t("untitledForm")),3),(0,i.Uk)(),s.currentSlideTitle?((0,i.wg)(),(0,i.iD)("span",pl,[(0,i.Uk)("\n                                    - "),(0,i._)("span",hl,(0,r.toDisplayString)(s.currentSlideTitle),1)])):(0,i.kq)("",!0)],8,ml),(0,i.Uk)(),(0,i._)("button",{type:"button",class:"btn btn-close",onClick:t[1]||(t[1]=function(){return s.requestModalClose&&s.requestModalClose(...arguments)}),"aria-label":"Close survey"},vl),(0,i.Uk)(),(0,i.Wm)(d,{title:s.t("leaveSurvey"),visible:o.showPrompt,onOk:s.closeModal,onCancel:s.hideClosePrompt},{default:(0,i.w5)((()=>[(0,i._)("p",fl,(0,r.toDisplayString)(s.t("exitPrompt")),1)])),_:1},8,["title","visible","onOk","onCancel"])]),(0,i.Uk)(),(0,i._)("div",{class:(0,r.normalizeClass)(["modal-body-content",{"prompt-open":o.showPrompt}]),ref:"modalBodyContent"},[(0,i._)("div",gl,[(0,i.Wm)(n.TransitionGroup,{tag:"div",class:"slide-wrapper",style:{position:"relative"},name:s.slideTransitionName,onAfterEnter:s.slideTransitionComplete},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.slides,(e=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("article",{class:"slide",key:e.handle,tabindex:o.currentSlideHandle===e.handle&&-1},["section"===e.type?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i._)("h2",yl,(0,r.toDisplayString)(s.getSectionById(e.id).title),1),(0,i.Uk)(),(0,i._)("div",{class:"lead ljs",innerHTML:s.getSectionById(e.id).description},null,8,kl)])),_:2},1024),(0,i.Uk)(),(0,i.Wm)(u,{class:(0,r.normalizeClass)(["slide-actions",{ljs:s.formConfig.nextButtonLabel}]),"next-button-label":s.formConfig.nextButtonLabel||s.t("next"),disabled:s.elementBusy,onNext:s.goToNextSlide},null,8,["class","next-button-label","disabled","onNext"])],64)):"element"===e.type?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i._)("div",wl,[(0,i.Wm)(p,{element:s.getElementById(e.id)},{default:(0,i.w5)((e=>{let t=e.element,a=e.isFieldsetElement,l=e.hasLabel,d=e.generateId,c=e.isRequired,u=e.hasDescription,p=e.hasImage,h=e.hasError,v=e.firstError,f=e.getImage,g=e.getProperty,b=e.getElementComponent,y=e.getQuestionNumber,k=e.elementProps;return[(0,i._)("div",{class:(0,r.normalizeClass)([{"has-error":h(t.inputName)},"form-group"])},[(0,i.Wm)(n.Transition,{name:"slide-fade"},{default:(0,i.w5)((()=>[l?(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",Sl,[(0,i._)("div",xl,[(0,i._)("div",Dl,[s.formOptions.questionNumbers?((0,i.wg)(),(0,i.iD)("span",_l,(0,r.toDisplayString)(y(t.id))+".\n                                                                            ",1)):(0,i.kq)("",!0),(0,i.Uk)(),(0,i._)("span",Ul,(0,r.toDisplayString)(g("label")),1)])])],512)),[[n.vShow,o.displayFixedLabel]]):(0,i.kq)("",!0)])),_:2},1024),(0,i.Uk)(),(0,i._)("div",Il,[((0,i.wg)(),(0,i.j4)((0,i.LL)(a?"fieldset":"div"),null,{default:(0,i.w5)((()=>[(0,i.Wm)(n.Transition,{name:"error-fade"},{default:(0,i.w5)((()=>[h(t.inputName)?((0,i.wg)(),(0,i.iD)("div",Cl,[(0,i._)("small",{class:"error",id:d({suffix:"error"})},(0,r.toDisplayString)(v(t.inputName,t.validationScope)),9,Fl)])):(0,i.kq)("",!0)])),_:2},1024),(0,i.Uk)(),l?((0,i.wg)(),(0,i.j4)((0,i.LL)(a?"legend":"label"),{key:0,class:(0,r.normalizeClass)([{"legend-label":a},{"control-label":!a}]),for:!a&&d(),id:d({suffix:"label"}),ref_for:!0,ref:"elementLabels"},{default:(0,i.w5)((()=>[s.formOptions.questionNumbers?((0,i.wg)(),(0,i.iD)("span",jl,(0,r.toDisplayString)(y(t.id))+".\n                                                                        ",1)):(0,i.kq)("",!0),(0,i.Uk)(),(0,i._)("span",Ml,(0,r.toDisplayString)(g("label")),1),(0,i.Uk)(),c?((0,i.wg)(),(0,i.iD)("span",Ol,(0,r.toDisplayString)(s.t("required")),1)):(0,i.kq)("",!0)])),_:2},1032,["class","for","id"])):(0,i.kq)("",!0),(0,i.Uk)(),u?((0,i.wg)(),(0,i.iD)("span",Pl,(0,r.toDisplayString)(g("description")),1)):(0,i.kq)("",!0),(0,i.Uk)(),p?((0,i.wg)(),(0,i.j4)(m,{key:2,class:"question-image",thumbnail:f,image:f,"alt-text":g("imageAlt","")},null,8,["thumbnail","image","alt-text"])):(0,i.kq)("",!0),(0,i.Uk)(),((0,i.wg)(),(0,i.j4)((0,i.LL)(b(t.type)),(0,r.normalizeProps)((0,i.F4)(k)),null,16))])),_:2},1024))])],2)]})),_:2},1032,["element"])]),(0,i.Uk)(),(0,i.Wm)(u,{class:(0,r.normalizeClass)(["slide-actions",{ljs:s.formConfig.nextButtonLabel}]),"next-button-label":s.formConfig.nextButtonLabel||s.t("next"),onNext:s.goToNextSlide,disabled:s.elementBusy},null,8,["class","next-button-label","onNext","disabled"])],64)):"review"===e.type?((0,i.wg)(),(0,i.iD)(i.HY,{key:2},[(0,i.Wm)(h,{id:`review-form-${s.formMetadata["form-id"]}`,"question-numbers":s.formOptions.questionNumbers},null,8,["id","question-numbers"]),(0,i.Uk)(),(0,i.Wm)(v,{name:"privacyConsent"+s.formMetadata["form-id"]},null,8,["name"]),(0,i.Uk)(),(0,i.Wm)(v,{name:"antiSpam"+s.formMetadata["form-id"]},null,8,["name"]),(0,i.Uk)(),(0,i.Wm)(v,{name:"formServerErrors"+s.formMetadata["form-id"]},null,8,["name"]),(0,i.Uk)(),(0,i._)("div",El,[(0,i.Wm)(v,{name:"formSubmitButton"+s.formMetadata["form-id"]},null,8,["name"])])],64)):"welcome"===e.type?((0,i.wg)(),(0,i.iD)(i.HY,{key:3},[(0,i._)("div",Al,[s.formConfig.welcomeTitle?((0,i.wg)(),(0,i.iD)("h2",ql,(0,r.toDisplayString)(s.formConfig.welcomeTitle),1)):(0,i.kq)("",!0),(0,i.Uk)(),s.formConfig.welcomeDescription?((0,i.wg)(),(0,i.iD)("div",{key:1,innerHTML:s.formConfig.welcomeDescription},null,8,Tl)):(0,i.kq)("",!0)]),(0,i.Uk)(),(0,i.Wm)(u,{class:(0,r.normalizeClass)(["slide-actions",{ljs:s.formConfig.nextButtonLabel}]),"next-button-label":s.formConfig.nextButtonLabel||s.t("next"),onNext:s.goToNextSlide,disabled:s.elementBusy},null,8,["class","next-button-label","onNext","disabled"])],64)):"thank-you"===e.type?((0,i.wg)(),(0,i.iD)("div",Ll,[(0,i.Wm)(f,{class:"checkmark"}),(0,i.Uk)(),(0,i._)("p",{class:(0,r.normalizeClass)(["mod-h2",{ljs:s.formConfig.completedMessage}])},(0,r.toDisplayString)(s.formConfig.completedMessage||s.t("thankYouMsg")),3),(0,i.Uk)(),(0,i._)("button",zl,(0,r.toDisplayString)(s.t("returnToWebsite")),1)])):(0,i.kq)("",!0)],8,bl)),[[n.vShow,o.currentSlideHandle===e.handle]]))),128))])),_:1},8,["name","onAfterEnter"])])],2)],544),(0,i.Uk)(),s.isFormComplete?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",Zl,[(0,i._)("div",Hl,[(0,i._)("div",Nl,[(0,i._)("span",null,(0,r.toDisplayString)(s.t("currentSlide",{current:s.currentSlideIndex+1,total:s.progressSlideCount})),1),(0,i.Uk)(),s.progressSlideCount>1?((0,i.wg)(),(0,i.iD)("div",Vl,[(0,i._)("div",{class:"progress-bar progress-bar-success",role:"progressbar","aria-valuenow":s.progress,"aria-valuemin":"0","aria-valuemax":"100",style:(0,r.normalizeStyle)({width:s.progress+"%"})},[(0,i._)("span",Rl,(0,r.toDisplayString)(s.t("progressDesc",{percentage:s.progress})),1)],12,$l)])):(0,i.kq)("",!0)]),(0,i.Uk)(),(0,i._)("div",Bl,[(0,i._)("button",{type:"button",class:"btn btn-prev",onClick:t[3]||(t[3]=(0,n.withModifiers)((e=>s.goToPreviousSlide(e)),["prevent"])),onKeydown:t[4]||(t[4]=(0,n.withKeys)((0,n.withModifiers)((e=>s.goToPreviousSlide(e)),["prevent"]),["enter"])),disabled:s.isFormComplete||o.currentSlideHandle==s.firstSlideHandle||s.elementBusy,title:s.t("previous"),"aria-label":s.t("previous")},Wl,40,Yl),(0,i.Uk)(),(0,i._)("button",{type:"button",class:"btn btn-next",onClick:t[5]||(t[5]=(0,n.withModifiers)((e=>s.goToNextSlide(e)),["prevent"])),onKeydown:t[6]||(t[6]=(0,n.withKeys)((0,n.withModifiers)((e=>s.goToNextSlide(e)),["prevent"]),["enter"])),disabled:s.isFormComplete||o.currentSlideHandle==s.lastSlideHandle||s.elementBusy,title:s.t("next"),"aria-label":s.t("next")},Gl,40,Kl)])])]))])])],8,sl)])}],["__scopeId","data-v-a6bce834"]]);var So=wo;const xo={style:{display:"none",visibility:"hidden"}},Do=["for"],_o=["id","autocomplete"],Uo=["for"],Io=["id","autocomplete"],Co=["for"],Fo=["id","autocomplete"];var jo=a(80676),Mo={name:"Honeypot",inject:["setElementData","getFormMetadata","getFormStatus","setFormStatus","t","emitter"],computed:{id(){return(0,jo.Z)(1e7)},formMetadata(){return this.getFormMetadata()},formSpamStatus:{get:function(){return this.getFormStatus("spam")},set:function(e){this.setFormStatus({statusName:"spam",value:e})}},autocomplete(){return/Chrome/.test(window.navigator.userAgent)?"nope":"off"}},methods:{onActivity(e){this.formSpamStatus=!0,this.setElementData({inputName:e.target.name,value:e.target.value})}},mounted(){this.emitter.on("antispam-reset",(e=>{e.busId;let t=e.payload;t["form-id"]!=this.formMetadata["form-id"]&&t["form-version-id"]!=this.formMetadata["form-version-id"]||(["insert-your-email","sweeter-input","sweeter-text-area"].map((e=>this.setElementData({inputName:e,value:""}))),this.formSpamStatus=!1)}))}};var Oo=(0,Me.Z)(Mo,[["render",function(e,t,a,n,l,o){return(0,i.wg)(),(0,i.iD)("div",xo,[(0,i._)("label",{for:"insert-your-email-"+o.id},(0,r.toDisplayString)(o.t("honeypotLabel")),9,Do),(0,i.Uk)(),(0,i._)("input",{type:"email",name:"insert-your-email",id:"insert-your-email-"+o.id,class:"form-control",autocomplete:o.autocomplete,onFocus:t[0]||(t[0]=e=>o.onActivity(e)),onBlur:t[1]||(t[1]=e=>o.onActivity(e)),onInput:t[2]||(t[2]=e=>o.onActivity(e))},null,40,_o),(0,i.Uk)(),(0,i._)("label",{for:"sweeter-input-"+o.id},(0,r.toDisplayString)(o.t("honeypotLabel")),9,Uo),(0,i.Uk)(),(0,i._)("input",{type:"text",name:"sweeter-input",id:"sweeter-input-"+o.id,class:"form-control",autocomplete:o.autocomplete,onFocus:t[3]||(t[3]=e=>o.onActivity(e)),onBlur:t[4]||(t[4]=e=>o.onActivity(e)),onInput:t[5]||(t[5]=e=>o.onActivity(e))},null,40,Io),(0,i.Uk)(),(0,i._)("label",{for:"sweeter-text-area-"+o.id},(0,r.toDisplayString)(o.t("honeypotLabel")),9,Co),(0,i.Uk)(),(0,i._)("textarea",{name:"sweeter-text-area",id:"sweeter-text-area-"+o.id,class:"form-control",autocomplete:o.autocomplete,onFocus:t[6]||(t[6]=e=>o.onActivity(e)),onBlur:t[7]||(t[7]=e=>o.onActivity(e)),onInput:t[8]||(t[8]=e=>o.onActivity(e))},"\n        ",40,Fo)])}]]);const Po=["id"];function Eo(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Ao(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(a),!0).forEach((function(t){qo(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Eo(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function qo(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var To={inject:["getFormMetadata","getFormConfig","getElementData","setElementData","getFormStatus","setFormStatus","emitter"],mounted(){this.isRecaptchaApiLoaded()?this.render():(window.recaptchaWidgetsToRender=window.recaptchaWidgetsToRender||[],window.recaptchaWidgetsToRender.push(this.render),window.onRecaptchaApiLoaded=this.renderRecaptchaWidgets,this.loadRecaptchaApi()),this.emitter.on("antispam-reset",(e=>{e.busId;let t=e.payload;t["form-id"]!=this.formMetadata["form-id"]&&t["form-version-id"]!=this.formMetadata["form-version-id"]||(this.elementData="",this.formSpamStatus=!0,this.reset())}))},computed:{id(){return(0,jo.Z)(1e7)},formMetadata(){return this.getFormMetadata()},formConfig(){return this.getFormConfig()},elementData:{get(){return this.getElementData("g-recaptcha-response")},set(e){this.setElementData({inputName:"g-recaptcha-response",value:e})}},formSpamStatus:{get:function(){return this.getFormStatus("spam")},set:function(e){this.setFormStatus({statusName:"spam",value:e})}},options(){return{}}},watch:{elementData:function(e){this.notSpam(e)}},methods:{notSpam(e){this.formSpamStatus=!e},isRecaptchaApiLoaded(){return void 0!==window.grecaptcha&&window.grecaptcha.hasOwnProperty("render")},loadRecaptchaApi(){const e=document.getElementsByTagName("head")[0],t="https://www.google.com/recaptcha/api.js?onload=onRecaptchaApiLoaded&amp;render=explicit";if(null!==e.querySelector('script[src="'+t+'"]'))return;const a=document.createElement("script");a.type="text/javascript",a.async=!0,a.defer=!0,a.src=t,e.appendChild(a)},renderRecaptchaWidgets(){if(window.recaptchaWidgetsToRender&&Array.isArray(window.recaptchaWidgetsToRender)){let e;for(;e=window.recaptchaWidgetsToRender.shift();)"function"==typeof e&&e()}},render(){if(null!==this.widgetId)return;const e=this.$el,t=Ao(Ao({},this.options),{},{callback:this.verified,"expired-callback":this.expired});this.widgetId=window.grecaptcha.render(e,t),this.formSpamStatus=!0},reset(){null!==this.widgetId&&window.grecaptcha.reset(this.widgetId)},verified(){},expired(){}},data(){return{widgetId:null}}},Lo={name:"GoogleRecaptchaCheckbox",mixins:[To],computed:{options(){return{sitekey:this.formConfig.antispam.recaptcha2checkbox.site_key,language:"auto",theme:"light"}}},methods:{verified(e){this.elementData=e},expired(){this.elementData=void 0}}};var zo=(0,Me.Z)(Lo,[["render",function(e,t,a,n,r,l){return(0,i.wg)(),(0,i.iD)("div",{id:"g-recaptcha-"+e.id},null,8,Po)}]]);const Zo=["id"];var Ho={name:"GoogleRecaptchaInvisible",mixins:[To],setup(){return{emitter:(0,i.f3)("emitter")}},computed:{options(){return{size:"invisible",sitekey:this.formConfig.antispam.recaptcha2invisible.site_key,language:this.formConfig.antispam.recaptcha2invisible.language||"auto",badge:this.formConfig.antispam.recaptcha2invisible.badge||"bottomright"}}},methods:{execute(){window.grecaptcha.execute(this.widgetId)},verified(e){this.elementData=e,this.$nextTick((()=>{this.emitter.emit("verified",e)}))},expired(){this.elementData=void 0,this.$nextTick((()=>{this.emitter.emit("expired")}))}}};var No=(0,Me.Z)(Ho,[["render",function(e,t,a,n,r,l){return(0,i.wg)(),(0,i.iD)("div",{id:"g-recaptcha-"+e.id},null,8,Zo)}]]);const Vo=["innerHTML"],$o={class:"checkbox checkbox-single"},Ro=["id","name","disabled"],Bo=["for"],Yo=["innerHTML"],Wo={key:0,class:"text-muted small"},Ko={key:0,class:"help-text text-muted ljs"};var Go=a(3514),Xo={name:"PrivacyConsent",inject:["getElementData","setElementData","t","getFieldValidationErrors"],props:{label:{type:String,required:!0},description:{type:String},inputName:{type:String,default:"privacy-consent"},validationScope:{},state:{type:Object}},created(){this.id=(0,Go.fX)()},computed:{elementData:{get(){return this.getElementData(this.inputName)},set(e){this.setElementData({inputName:this.inputName,value:e})}}},methods:{hasError(e){const t=this.getFieldValidationErrors();return!(void 0===t[e]||!Array.isArray(t[e]))&&0!==t[e].length},firstError(e,t){var a;const i=this.getFieldValidationErrors();return i[e]&&i[e].length?null===(a=i[e][0])||void 0===a?void 0:a.message:null}}};const Jo=["g-recaptcha-response","insert-your-email","sweeter-input","sweeter-text-area"];function Qo(e,t){if(null==e)return{};var a,i,n=function(e,t){if(null==e)return{};var a,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function es(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function ts(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?es(Object(a),!0).forEach((function(t){as(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):es(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function as(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function is(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i,n,r,l,o=[],s=!0,d=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;s=!1}else for(;!(s=(i=r.call(a)).done)&&(o.push(i.value),o.length!==t);s=!0);}catch(e){d=!0,n=e}finally{try{if(!s&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ns(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ns(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}var rs={name:"TheForm",components:{StandardForm:lr,PaginatedForm:Qr,FreeflowForm:So,Honeypot:Oo,GoogleRecaptchaCheckbox:zo,GoogleRecaptchaInvisible:No,PrivacyConsent:(0,Me.Z)(Xo,[["render",function(e,t,a,l,o,s){return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.normalizeClass)([{"has-error":s.hasError(a.inputName)},"form-group privacy-consent"])},[s.hasError(a.inputName)?((0,i.wg)(),(0,i.iD)("small",{key:0,class:"error",innerHTML:s.firstError(a.inputName)},null,8,Vo)):(0,i.kq)("",!0),(0,i.Uk)(),(0,i._)("div",$o,[(0,i.wy)((0,i._)("input",{type:"checkbox",value:"1",id:e.id,name:a.inputName,"onUpdate:modelValue":t[0]||(t[0]=e=>s.elementData=e),disabled:a.state.disabled},null,8,Ro),[[n.vModelCheckbox,s.elementData]]),(0,i.Uk)(),(0,i._)("label",{for:e.id},[(0,i._)("span",null,[(0,i._)("span",{class:"ljs",innerHTML:a.label},null,8,Yo),(0,i.Uk)(),a.state.required?((0,i.wg)(),(0,i.iD)("span",Wo,(0,r.toDisplayString)(s.t("required")),1)):(0,i.kq)("",!0)])],8,Bo),(0,i.Uk)(),a.description?((0,i.wg)(),(0,i.iD)("p",Ko,(0,r.toDisplayString)(a.description),1)):(0,i.kq)("",!0)])],2)}]])},setup(){return{formToken:(0,i.f3)("formToken"),formState:(0,i.f3)("formState"),t:(0,i.f3)("t"),emitter:(0,i.f3)("emitter")}},props:{user:{type:Object},formObject:{type:Object},previewMode:{type:Boolean,default:!1},mode:String},computed:{uID(){var e;return Number((null===(e=this.user)||void 0===e?void 0:e.uID)||0)},formID(){return this.formState.metadata["form-id"]||this.metadata["form-id"]},formVersionID(){return this.formState.metadata["form-version-id"]||this.metadata["form-version-id"]},formUrl(){return`/collector/api/forms/${this.formState.metadata["form-id"]}/versions/${this.formState.metadata["form-version-id"]}`},formRenderer(){switch(this.options.renderer){case"standard":return"StandardForm";case"paginated":return"PaginatedForm";case"flow":case"free_flow":return"FreeflowForm";default:return!1}},formAntispam(){if(!this.config.antispam)return!1;if(1===this.options.antispam||2===this.options.antispam&&this.config.antispam.default)switch(this.config.antispam.library){case"recaptcha2checkbox":return"GoogleRecaptchaCheckbox";case"recaptcha2invisible":return"GoogleRecaptchaInvisible"}return!1},disableInput(){return!this.options["activity-status"]||!!this.options["requires-registration"]&&!this.uID},elementBusy(){return this.formStructure.elements.some((e=>!!e.state.busy))},formValidatorUrl(){return`${this.urls["form-builder"]}/validator/api/forms/${this.metadata["form-id"]}/versions/${this.metadata["form-version-id"]}/validator`},privacyConsentProps(){return{"input-name":"privacy-consent",label:this.config["privacy-consent"].label?this.config["privacy-consent"].label:"I agree with the privacy policy",description:this.config["privacy-consent"].help?this.config["privacy-consent"].help:null,"validation-scope":""+this.metadata["form-id"],state:{disabled:this.isSubmitBtnLoading||this.disableInput||this.elementBusy,required:!0}}},requiresPrivacyConsent(){let e=!1;if(!this.config["privacy-consent"])return e;if(this.config["privacy-consent"].enabled)if(this.config["privacy-consent"].overridable)switch(this.options.privacy_consent){case 0:e=!1;break;case 1:e=!0;break;default:e=this.config["privacy-consent"].default}else e=this.config["privacy-consent"].default;return e},serverErrors(){let e=[];return this.errors.forEach((t=>{"string"==typeof t?e.push(t):Object.entries(t).forEach((t=>{let a=is(t,2),i=a[0];a[1].forEach((t=>{if(t.includes(i)){const e=this.formStructure.elements.find((e=>e.inputName===i));if(e){const a=e.props.label;a&&(t=t.replace(i,'"'+a+'"'))}}e.push(t)}))}))})),e},formElementIds(){return this.formStructure.elements.map((e=>e.inputName))}},created(){C.i_({mixed:{required:this.t("vee.required")},string:{min:e=>{let t=e.min;return this.t("vee.min",{length:t})},max:e=>{let t=e.max;return this.t("vee.max",{length:t})},email:this.t("vee.email"),url:this.t("vee.url")},number:{min:e=>{let t=e.min;return this.t("vee.minValue",{min:t})},max:e=>{let t=e.max;return this.t("vee.maxValue",{max:t})},integer:this.t("vee.integer")}}),hiveUtils.attributeObserver(document.documentElement,["class"],this.detectDeviceFeatures,0),document.documentElement.classList.add("vue")},mounted(){(0,f.Z)(this.formObject)&&this.formID&&this.formVersionID?this.fetchForm(this.formUrl):(0,f.Z)(this.formObject)||this.setupForm(this.prepareForm(this.formObject)),this.previewMode&&(this.formStatus.preview=!0),this.emitter.on("callFunction",(e=>{e.busId;let t=e.payload;t.formID==this.metadata["form-id"]&&this[t.functionName](t.args)})),this.emitter.on("form-reset",(e=>{e.busId;let t=e.payload;t["form-id"]!=this.metadata["form-id"]&&t["form-version-id"]!=this.metadata["form-version-id"]||this.resetForm()}))},destroyed(){if(Object.keys(this.observers).length)for(let t of Object.entries(this.observers)){var e=is(t,2);e[0];let a=e[1];a instanceof MutationObserver&&a.disconnect()}},watch:{user:{handler:function(e){this.populateAttributeFields(e),this.setElementsState({elements:{all:{disabled:this.disableInput}}})},immediate:!0,deep:!0},formState:{handler:function(){this.setupForm(this.prepareForm(this.formObject))},deep:!0},"formState.urls":{handler:function(e){this.urls=e},deep:!0},formStatus:{handler:function(e){this.emitter.emit("form-status",{status:e,formID:this.metadata["form-id"]})},deep:!0},formObject:{handler:function(){this.setupForm(this.prepareForm(this.formObject))}}},methods:{prepareForm(e){let t=this,a=(0,g.Z)(e.sections,(e=>(0,b.Z)(ts(ts({},e),{},{elementIds:(0,g.Z)(e.elements,"id")}),"elements"))),i=(0,g.Z)((0,y.Z)((0,g.Z)(e.sections,"elements")),(i=>{let n=a.find((e=>e.elementIds.includes(i.id))),r=n.id;const l=!!i.properties.find((e=>"randomiseChoices"===e.name&&!0===e.value))||!1;return ts(ts({},i),{},{choices:i.choices?l?(0,k.Z)(i.choices):i.choices:null,identifier:[...Array(10)].map((e=>(~~(36*Math.random())).toString(36))).join(""),sectionId:r,dependencies:[...n.dependencies,...i.dependencies],validationScope:function(t){switch(t){case"paginated":return""+r;case"flow":case"free_flow":return""+i.id;default:return"input"==i.category?""+e.form_id:null}}(e.renderer),state:{busy:!1,answered:!1,hidden:!1,disabled:!t.formState.options["activity-status"]||!(!t.formState.options["requires-registration"]||t.uID)||!1,required:!!(0,w.Z)(i.properties,(e=>"required"==e.name&&1==e.value))||!1},props:i.properties.reduce(((e,t)=>(e[t.name]=t.value,e)),{})})})),n={metadata:t.formState.metadata,sections:a,elements:i,config:ts(ts(ts({},t.formState.config),(0,x.Z)(e,["title","renderer"])),(0,x.Z)(e.renderer_settings,["completedMessage","submitButtonLabel","prevButtonLabel","nextButtonLabel","introImage","introButton","welcomeTitle","welcomeDescription"])),options:ts(ts(ts(ts({},t.formState.options),(0,x.Z)(e,["renderer","antispam","privacy_consent",""])),(0,x.Z)(e.renderer_settings,["pageNumbers","questionNumbers","progressBar"])),{},{reviewAnswers:!0}),urls:t.formState.urls,formData:(0,S.Z)((0,g.Z)((0,D.Z)(i,{category:"input"}),"inputName"),((e,t)=>(e[t]=void 0,e)),ts({"privacy-consent":void 0,"insert-your-email":"","sweeter-input":"","sweeter-text-area":""},t.formState.config.antispam.library&&(1===e.antispam||2===e.antispam&&t.formState.config.antispam.default)?{"g-recaptcha-response":""}:{}))};return this.formStatus.loading=!1,n},setupForm(e){Object.keys(e).map((t=>["elements","sections"].includes(t)?this.formStructure[t]=e[t]:this[t]=e[t]));let t={};if(this.requiresPrivacyConsent){let e=C.O7();e=this.config["privacy-consent"]&&void 0!==this.config["privacy-consent"].error?e.required(this.config["privacy-consent"].error).oneOf([!0],this.config["privacy-consent"].error):e.required().oneOf([!0],this.t("vee.required")),t["privacy-consent"]=e}t=C.Ry(t),this.formValidation.schema=(0,F.Xl)(t),this.user&&this.populateAttributeFields(this.user),Object.keys(t.fields).forEach((e=>{this.$watch("formData."+e,(function(){this.fieldValidation(e)}))})),this.$watch("formData",(function(e,t){this.formStatus.dirty=!0,e!=t&&this.evaluateDependencies()}),{deep:!0,immediate:!0})},useField(e,t,a){this.formData[e]=this.formData[e]||void 0,this.formValidation.fields[e]={dirty:!1,validated:!1,scope:a||null};let i={};i[e]=t,this.formValidation.schema=(0,F.Xl)(this.formValidation.schema.shape(i)),this.$watch("formData."+e,(function(){this.formElementIds.includes(e)&&(this.formValidation.fields[e].dirty=!0,this.fieldValidation(e),this.getDependentValidatedFields(e).forEach((e=>{this.fieldValidation(e)})))}))},updateFieldSchema(e,t){let a={};a[e]=t,this.formValidation.schema=(0,F.Xl)(this.formValidation.schema.shape(a))},getDependentFields(e){return Object.keys(this.formValidation.fields).filter((t=>t.startsWith(e+"-")))},getDependentDirtyFields(e){return this.getDependentFields(e).filter((e=>!0===this.formValidation.fields[e].dirty))},getDependentValidatedFields(e){return this.getDependentFields(e).filter((e=>!0===this.formValidation.fields[e].validated))},b64DecodeUnicode(e){return decodeURIComponent(Array.prototype.map.call(atob(e),(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join(""))},async getToken(){const e=JSON.parse(this.b64DecodeUnicode(this.formToken.split(".")[1].replace("-","+").replace("_","/")));return e.exp&&e.exp<Math.floor(Date.now()/1e3)&&await m.Z.post(this.formState.urls.token,{bID:this.formState.metadata["b-id"],cID:this.formState.metadata["c-id"],cvID:this.formState.metadata["cv-id"],arHandle:this.formState.metadata["ar-handle"]},{headers:{"X-Locale":window.CCM_ACTIVE_LOCALE||"en_US"}}).then((e=>{e.data.token&&(this.formToken=e.data.token)})).catch((e=>{console.error("Unable to retrieve new token",e)})),this.formToken},async fetchForm(e){let t=this;const a=await this.getToken();m.Z.get(e,{baseURL:t.formState.urls["form-builder"],responseType:"json",transformResponse:[].concat(m.Z.defaults.transformResponse,(function(e){return t.prepareForm(e.data)})),headers:{Authorization:"Bearer "+a}}).then((e=>{t.setupForm(e.data)})).catch((e=>{let a=t.t("retrievalError.generic");switch(e.status){case 401:a+=" "+t.t("retrievalError.401");break;case 403:a+=" "+t.t("retrievalError.403");break;case 404:a+=" "+t.t("retrievalError.404")}HiveAlerts.error({title:t.t("error"),message:a})})).finally((()=>{this.formStatus.loading=!1}))},focusField(e,t){if(!e&&!t)return;let a=this.formStructure.elements.find((t=>t.inputName==e));switch(a&&this.getElementComponent(a.type)){case"Radio":case"CheckboxList":t=t||this.$el.querySelector(`[name="${e}"]:first-child`);break;case"Rank":t=t||this.$el.querySelector(`[name="${e}"]`).closest(".ranker").querySelector("ol.unranked li.rankable:first-child");break;case"Matrix":t=t||this.$el.querySelector(`[name="${e}-0"]`);break;case"Date":case"DateTime":t=t||this.$el.querySelector(`[name="${e}"]`).closest(".field-input-date, .field-input-datetime").querySelector("input.flatpickr-input");break;case"Rate":t=t||this.$el.querySelector(`[name="${e}"]`).closest(".field-rating").querySelector("label");break;case"Slider":t=t||this.$el.querySelector(`[name="${e}"]`).closest(".field-slider").querySelector("[role='slider']");break;default:t=t||this.$el.querySelector(`[name="${e}"]`)}document.body.contains(t)&&((t.closest(".form-group")||t).scrollIntoView({behavior:"smooth"}),t.focus())},populateAttributeFields(e){null!=e&&e.attributes instanceof Array&&this.formStructure.elements.filter((e=>e.meta&&e.meta.attribute)).map((t=>{let a=e.attributes.find((e=>e.akHandle==t.meta.attribute));if(a){if(null===a.displayValue)return;if(t.choices&&t.choices.length){const e=t.choices.find((e=>!e.hidden&&e.text===a.displayValue));e&&this.setElementData({inputName:t.inputName,value:e.id})}else this.setElementData({inputName:t.inputName,value:a.displayValue})}}))},isFormUnanswered(){let e=this.formData,t=(e["g-recaptcha-response"],e["insert-your-email"],e["sweeter-input"],e["sweeter-text-area"],Qo(e,Jo));return Object.values(t).every((e=>null==e||""===e))},async onSubmit(e){let t=this.formStructure.elements.filter((e=>e.state.hidden||e.state.disabled));for(const e of t)this.setElementData({inputName:e.inputName,value:void 0});if(await this.clientValidation()){if(this.isFormUnanswered())return HiveAlerts.error({title:this.t("noResponse"),message:this.t("noResponseDesc")}),!1;try{this.isSubmitBtnLoading=!0;const e=await this.serverValidation();if(null!=e&&e.signed){this.formValidationToken=e.signed;const t=await this.saveContribution(e.signed);var a,i;if(t.success)this.answerSetID=(null===(a=t.feedback)||void 0===a?void 0:a.feedbackID)||(null===(i=t.feedback)||void 0===i?void 0:i.answerSetID),this.formStatus.completed=!0,this.formStatus.dirty=!1,this.emitter.emit("form-save",ts({},this.metadata)),this.emitter.emit("form-progress",ts({},this.metadata)),_paq.push(["trackEvent","the_hive_form","submit",this.metadata["b-id"]+";"+this.metadata["ft-id"]]),$(window).trigger($.Event("feedback.hive",{bID:this.metadata["b-id"],ftID:this.metadata["ft-id"]}))}}catch(e){console.error(e)}finally{this.isSubmitBtnLoading=!1}}else this.formStatus.review=!1},reviewForm(e){return new Promise(((e,t)=>{if(this.isFormUnanswered())return HiveAlerts.error({title:this.t("noResponse"),message:this.t("noResponseDesc")}),void t();this.formStatus.review=!0,e()}))},resetForm(){this.formStatus.review=!1,this.formStatus.completed=!1,Object.keys(this.formData).forEach((e=>{this.formData[e]=void 0})),this.emitter.emit("antispam-reset",ts({},this.metadata)),this.setElementsState({elements:{all:{answered:!1}}}),this.formValidation.errors=[]},clientValidation(e){let t=this.formValidation.schema;if(Array.isArray(e)){const a=Object.entries(this.formValidation.fields).filter((t=>{let a=is(t,2),i=(a[0],a[1]);return-1!==e.indexOf(i.scope)})).map((e=>{let t=is(e,2),a=t[0];t[1];return a}));t=t.pick(a)}return new Promise((async e=>{const a=Object.keys(t.fields);try{await t.validate(this.formData,{abortEarly:!1});this.setFieldValidationErrors(a,[]),e(!0)}catch(t){if(!(t instanceof C.p8))throw t;this.setFieldValidationErrors(a,t.inner),t.inner.length&&this.focusField(t.inner[0].path),e(!1)}finally{a.forEach((e=>{void 0!==this.formValidation.fields[e]&&(this.formValidation.fields[e].validated=!0)}))}}))},async fieldValidation(e){try{await this.formValidation.schema.validateAt(e,this.formData,{abortEarly:!1});this.setFieldValidationErrors([e],[])}catch(t){if(!(t instanceof C.p8))throw t;this.setFieldValidationErrors([e],t.inner)}finally{void 0!==this.formValidation.fields[e]&&(this.formValidation.fields[e].validated=!0)}},getFieldValidationErrors(){return this.formValidation.errors},setFieldValidationErrors(e,t){e.forEach((e=>{void 0!==this.formValidation.errors[e]&&(this.formValidation.errors[e]=[])})),t.forEach((e=>{this.formValidation.errors[e.path]=this.formValidation.errors[e.path]||[],this.formValidation.errors[e.path].push({type:e.type,message:e.message})}))},async serverValidation(){if(this.formStatus.spam&&!1!==this.formAntispam){if("GoogleRecaptchaInvisible"===this.formAntispam){const e=this,t=this.$refs.antispam;return new Promise(((a,i)=>{e.emitter.once("verified",(async t=>{const i=await e.serverValidation();a(i)})),t.execute()}))}return void HiveAlerts.error({title:this.t("antispam"),message:this.t("noRobots")})}this.errors=[];let e,t=ts({},this.formData);if(Object.keys(t).forEach((e=>{if(e.endsWith("-other")){const a=e.replace(/-other$/,"");if(void 0!==t[a]){const i={other:t[e]};if(Array.isArray(t[a])){const e=t[a].findIndex((e=>"other"===e));-1!==e&&(t[a][e]=i)}else"other"===t[a]&&(t[a]=i)}delete t[e]}})),this.formStatus.preview){new(h())(m.Z,{delayResponse:500}).onPost(this.formValidatorUrl).replyOnce(200,{result:"success",signed:"abc"}).onAny().passThrough()}else e=await this.getToken();try{const t=(await m.Z.post(this.formValidatorUrl,this.formData,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}})).data;if("success"===t.result&&void 0!==t.signed)return t;throw new Error("Server validation failed")}catch(e){if(void 0!==e.response&&void 0!==e.response.data&&void 0!==e.response.data.result&&"fail"===e.response.data.result)for(let t=0;t<e.response.data.errors.length;t++)this.errors.push(e.response.data.errors[t]);return e.response.data}},async saveContribution(e){const t={metadata:{bID:Number(this.metadata["b-id"]),ftID:Number(this.metadata["ft-id"])},token:e,formID:Number(this.metadata["form-id"]),formVersionID:Number(this.metadata["form-version-id"]),data:this.formData};if(this.formStatus.preview){new(h())(m.Z).onPost(this.urls.submit).replyOnce(201,{success:!0,feedback:{feedbackID:123,answerSetID:456}}).onAny().passThrough()}return await m.Z.post(this.urls.submit,t,{headers:{"X-Locale":window.CCM_ACTIVE_LOCALE||"en_US","X-Requested-With":"XMLHttpRequest"}}).then((e=>e.data)).catch((e=>{if(e.response){const t=e.response.data;if(void 0===t||void 0===t.errors)throw Error("Unexpected response format");t.errors.forEach((e=>{let t=this.t("submitError.generic");if(void 0!==e.code)switch(e.code){case 2001:t=this.t("submitError.2001");break;case 2002:t=this.t("submitError.2002");break;case 3001:t=this.t("submitError.3001");const a={sessionExpired:!0,tokens:e.payload.tokens};$(window).trigger($.Event("signedout.hive",a));break;default:t=e.title}HiveAlerts.error({title:this.t("error"),message:t}),this.errors.push(t)}))}else this.errors.push(this.t("submitError.noResponse"));return console.error(e),!1})).finally((()=>{this.isSubmitBtnLoading=!1}))},getProperty(e,t,a,i){let n=(i=i||this.elementObject).props[e]?i.props[e]:void 0;switch(a){case"number":n=Number(n);break;case"string":n=String(n);break;case"boolean":n=Boolean(n)}return n||t},evaluateDependencies(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.formStructure.elements;e.length&&e.forEach(((e,t)=>{if(e.dependencies.length){let t=[],a={};e.dependencies.forEach(((e,i)=>{e.conditions.length&&(a[e.action]=a[e.action]||[],a[e.action].push(i),t[i]={conditions:(0,S.Z)(e.conditions,((e,t)=>{let a=v(this.formData["form-"+t.element],t.operator,t.value);return e[t.id]=a,e}),{})})})),Object.entries(a).forEach((a=>{let i=is(a,2),n=i[0],r=i[1],l=this.getProperty(n,"required"!=n,"boolean",e);(0,_.Z)(r.map((function(a){return"and"==e.dependencies[a].logic_gate&&(0,_.Z)((0,U.Z)(t[a].conditions))||"or"==e.dependencies[a].logic_gate&&(0,I.Z)((0,U.Z)(t[a].conditions))})))&&(l=this.getProperty(n,"required"==n,"boolean",e)),this.executeAction(e.identifier,n,l)}))}}))},executeAction(e,t,a){switch(t){case"showhide":this.setElementsState({elements:{[e]:{hidden:a}}});break;case"disabled":this.disableInput||this.setElementsState({elements:{[e]:{disabled:!a}}});break;case"required":this.setElementsState({elements:{[e]:{required:a}}})}},detectDeviceFeatures(e,t){this.observers.deviceFeaturesObserver=t;let a=[].slice.call(document.documentElement.classList);this.deviceFeatures.isMobile=["mq-extraSmall","mq-small"].some((e=>a.includes(e))),this.deviceFeatures.isTablet=["mq-medium","mq-large"].some((e=>a.includes(e))),this.deviceFeatures.isTouch=a.includes("touch"),this.deviceFeatures.isHighDensity=a.includes("mq-highdensity"),this.deviceFeatures.isLandscape=a.includes("mq-landscape"),this.deviceFeatures.isGeolocationCapable=a.includes("geolocation")},getDeviceFeatures:function(){return this.deviceFeatures},getFormMetadata:function(){return this.metadata},getFormStatus:function(e){return this.formStatus[e]},setFormStatus:function(e){let t=e.statusName,a=e.value;this.formStatus[t]=a},getFormConfig:function(){return this.config},getFormOptions:function(){return this.options},getFormUrls:function(){return this.urls},getElementComponent(e){let t="input";switch(e){case"text":case"textarea":case"email":case"color":case"month":case"password":case"range":case"search":case"tel":case"telephone":case"time":case"url":case"week":t="TextInput";break;case"number":t="Number";break;case"heading":case"paragraph":case"richtext":case"html":t="Content";break;case"image":t="ContentImage";break;case"video":t="ContentVideo";break;case"contentscreen":t="ContentScreen";break;case"date":case"datetime":t="DateTime";break;case"matrix":t="Matrix";break;case"rank":t="Rank";break;case"rate":t="Rate";break;case"slider":t="Slider";break;case"fileupload":t="FileUpload";break;case"checkboxlist":t="CheckboxList";break;case"select":t="Select";break;case"checkbox":t="Checkbox";break;case"radio":t="Radio";break;case"multichoice":t="MultiChoice"}return t},getElementData:function(e){return this.formData[e]},setElementData:function(e){let t=e.inputName,a=e.value,i=e.append,n=e.removeIndex,r=ts({},this.formData);if(n&&r[t].length&&r[t][a])return void r[t].splice(a,1);i?(Array.isArray(r[t])||(r[t]=[]),r[t].push(a)):r[t]=a,this.formData=r;const l=this.formStructure.elements.find((e=>e.inputName===t));l&&this.setElementsState({elements:{[l.identifier]:{answered:""!==a&&null!=a}}})},setElementsState:function(e){let t=e.elements,a=[...this.formStructure.elements];if(t.all){for(let e in a)a[e].state=Object.assign({},a[e].state,t.all);this.formStructure.elements=a}else a=a.map((e=>("object"==typeof e&&Object.keys(t).includes(e.identifier)&&(e.state=Object.assign({},e.state,t[e.identifier])),e))),this.formStructure.elements=a},getFormStructure:function(){return this.formStructure},processInputValue(e){return"string"===typeof e?e.trim():e}},data(){return{errors:[],isSubmitBtnLoading:!1,metadata:{},config:{},urls:{},options:{},formStatus:{loading:!0,review:!1,completed:!1,spam:!1,dirty:!1,preview:!1},formStructure:{sections:[],elements:[]},formData:{},observers:{},deviceFeatures:{isMobile:null,isTablet:null,isTouch:null,isHighDensity:null,isLandscape:null,isGeolocationCapable:null},formValidation:{schema:null,fields:{},errors:{}},formValidationToken:null,answerSetID:null}},provide(){return{getDeviceFeatures:this.getDeviceFeatures,getFormStructure:this.getFormStructure,getFormStatus:this.getFormStatus,setFormStatus:this.setFormStatus,getElementData:this.getElementData,setElementData:this.setElementData,setElementsState:this.setElementsState,getElementComponent:this.getElementComponent,getFormMetadata:this.getFormMetadata,getFormConfig:this.getFormConfig,getFormOptions:this.getFormOptions,getFormUrls:this.getFormUrls,doClientValidation:this.clientValidation,doReviewForm:this.reviewForm,doFocusField:this.focusField,getFieldValidationErrors:this.getFieldValidationErrors,useField:this.useField,updateFieldSchema:this.updateFieldSchema}}};var ls=(0,Me.Z)(rs,[["render",function(e,t,a,m,p,h){const v=(0,i.up)("privacy-consent"),f=(0,i.up)("portal"),g=(0,i.up)("honeypot");return(0,i.wg)(),(0,i.iD)("form",l,[(0,i.WI)(e.$slots,"beforeForm",{},(()=>[(0,i.wy)((0,i._)("div",o,null,512),[[n.vShow,p.formStatus.loading]])])),(0,i.Uk)(),(0,i._)("input",{type:"hidden",name:"formID",value:h.formID},null,8,s),(0,i.Uk)(),(0,i._)("input",{type:"hidden",name:"formVersionID",value:h.formVersionID},null,8,d),(0,i.Uk)(),h.formRenderer?((0,i.wg)(),(0,i.j4)((0,i.LL)(h.formRenderer),{key:0,"disable-input":h.disableInput},null,8,["disable-input"])):(0,i.kq)("",!0),(0,i.Uk)(),(0,i.WI)(e.$slots,"afterForm",{},(()=>[p.formStatus.loading||p.formStatus.completed?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Wm)(f,{to:"privacyConsent"+p.metadata["form-id"]},{default:(0,i.w5)((()=>[h.requiresPrivacyConsent?((0,i.wg)(),(0,i.j4)(v,(0,r.normalizeProps)((0,i.dG)({key:0},h.privacyConsentProps)),null,16)):(0,i.kq)("",!0)])),_:1},8,["to"]),(0,i.Uk)(),(0,i.Wm)(f,{to:"antiSpam"+p.metadata["form-id"]},{default:(0,i.w5)((()=>[(0,i.Wm)(g),(0,i.Uk)(),h.formAntispam?((0,i.wg)(),(0,i.j4)((0,i.LL)(h.formAntispam),{key:0,ref:"antispam"},null,512)):(0,i.kq)("",!0)])),_:1},8,["to"]),(0,i.Uk)(),(0,i.Wm)(f,{to:"formSubmitButton"+p.metadata["form-id"]},{default:(0,i.w5)((()=>[(0,i._)("button",{type:"button",class:(0,r.normalizeClass)([{"is-loading":p.isSubmitBtnLoading},"btn btn-primary btn-submit",{ljs:p.config.submitButtonLabel}]),disabled:p.isSubmitBtnLoading||h.disableInput||h.elementBusy,onClick:t[0]||(t[0]=e=>h.onSubmit(e))},(0,r.toDisplayString)(p.config.submitButtonLabel||m.t("submit")),11,c)])),_:1},8,["to"]),(0,i.Uk)(),(0,i.Wm)(f,{to:"formServerErrors"+p.metadata["form-id"]},{default:(0,i.w5)((()=>[h.serverErrors.length?((0,i.wg)(),(0,i.iD)("div",u,[(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(h.serverErrors,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{key:t,class:"ljs"},(0,r.toDisplayString)(e),1)))),128))])])):(0,i.kq)("",!0)])),_:1},8,["to"])],64))]))])}]])},58107:function(e,t,a){"use strict";a.d(t,{Z:function(){return Ul}});var i=a(66252),n=a(3577),r=a(2262),l=a(49963),o=a(66309),s=a(47475);const d=(0,o.ach)("screen and (max-width: 575px)"),c=(0,o.ach)("screen and (min-width: 576px) and (max-width: 767px)"),u=(0,o.ach)("screen and (min-width: 768px) and (max-width: 991px)"),m=(0,o.ach)("screen and (min-width: 992px) and (max-width: 1199px)"),p=(0,o.ach)("screen and (min-width: 1200px)"),h=(0,o.ach)("(orientation: landscape)"),v=(0,o.ach)("(orientation: portrait)"),f=(0,o.ach)("screen and (-webkit-min-device-pixel-ratio: 1.5), screen and (min--moz-device-pixel-ratio: 1.5), screen and (-o-min-device-pixel-ratio: 3/2), screen and (min-device-pixel-ratio: 1.5)"),g=(0,o.ach)("(hover: none) and (pointer: coarse)"),b=(0,o.ach)("(hover: none) and (pointer: fine)"),y=(0,o.ach)("(hover: hover) and (pointer: fine)"),k=(0,o.HUE)((()=>navigator&&"geolocation"in navigator)),w=(0,i.Fl)((()=>c.value||d.value)),S=(0,i.Fl)((()=>u.value||m.value)),x=(0,i.Fl)((()=>g.value||b.value||y.value)),D=(0,i.Fl)((()=>f.value)),_=(0,i.Fl)((()=>h.value));function U(){return{extraSmall:d,small:c,medium:u,large:m,extraLarge:p,landscape:h,portrait:v,highDensity:f,touchscreen:g,stylus:b,touchpad:y,isGeolocationCapable:k,isMobile:w,isTablet:S,isTouch:x,isHighDensity:D,isLandscape:_}}var I=a(71257),C=a(96245),F=a(19668),j=a(79697),M=a(50576),O=a(16841),P=a(19651),E=a.n(P),A=(a(14731),a(54274),a(2369)),q=a.n(A),T=(a(67444),a(747),a(41099),a(26320),a(20876),a(76791),a(40019),a(92343),a(51096),a(4314),a(23346),a(64984),a(64078),a(79003)),L=a.n(T),z=a(45082),Z=a(49168),H=a(68652),N=a(85815),V=a(50670);function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i,n,r,l,o=[],s=!0,d=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;s=!1}else for(;!(s=(i=r.call(a)).done)&&(o.push(i.value),o.length!==t);s=!0);}catch(e){d=!0,n=e}finally{try{if(!s&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(a),!0).forEach((function(t){K(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function K(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const G=new Map,X=(0,r.OT)({MapboxStreets:"streets-v12",MapboxOutdoors:"outdoors-v12",MapboxLight:"light-v11",MapboxDark:"dark-v11",MapboxSatellite:"satellite-v9",MapboxHybrid:"satellite-streets-v12",StamenToner:"https://tiles.stadiamaps.com/styles/stamen_toner.json",OSMStandard:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png","https://c.tile.openstreetmap.org/{z}/{x}/{y}.png"],GoogleRoadmap:["https://mt0.google.com/vt/lyrs=m&hl=en&x={x}&y={y}&z={z}&s=Ga"],GoogleSatellite:["https://mt0.google.com/vt/lyrs=s&hl=en&x={x}&y={y}&z={z}&s=Ga"],GoogleHybrid:["https://mt0.google.com/vt/lyrs=y&hl=en&x={x}&y={y}&z={z}&s=Ga"],WMS:[]});function J(e){if("image"===e.layerType)return"raster";switch(e.geometry){case"Point":case"MultiPoint":return e.markerID||e.markerURL?"symbol":"circle";case"LineString":case"MultiLineString":return"line";case"Polygon":case"MultiPolygon":return"fill"}}function Q(e,t){const a={};switch(t=t||J(e)){case"symbol":a["icon-allow-overlap"]=!0,a["icon-anchor"]=["coalesce",["get","icon-anchor"],"bottom"],a["icon-ignore-placement"]=!0,a["icon-image"]=["coalesce",["get","icon-image"],e.markerID?`hive-layer-${e.markerID}`:"hive-marker-default"],a["icon-offset"]=["coalesce",["get","icon-offset"],["literal",[0,7]]],a["icon-optional"]=!1,a["icon-padding"]=2,a["icon-pitch-alignment"]="auto",a["icon-rotate"]=0,a["icon-rotation-alignment"]="auto",a["icon-size"]=1,a["icon-text-fit"]="none",a["symbol-avoid-edges"]=!1,a["symbol-placement"]="point",a["symbol-z-order"]="auto",a.visibility="visible";break;case"circle":case"fill":a.visibility="visible";break;case"line":a["line-cap"]="butt",a["line-join"]="miter",a["line-miter-limit"]=2,a["line-round-limit"]=1.05,a.visibility="visible"}return a}function ee(e,t){var a,i;const n={};switch(t=t||J(e)){case"symbol":n["icon-color"]="#000000",n["icon-halo-blur"]=0,n["icon-halo-color"]="rgba(0, 0, 0, 0)",n["icon-halo-width"]=0,n["icon-opacity"]=1,n["icon-translate"]=[0,0],n["icon-translate-anchor"]="map";break;case"circle":n["circle-blur"]=0,n["circle-color"]=["coalesce",["get","circle-color"],e.fillColor,"#ffffff"],n["circle-opacity"]=["coalesce",["get","circle-opacity"],parseFloat(e.fillOpacity),1],n["circle-pitch-alignment"]="viewport",n["circle-pitch-scale"]="map",n["circle-radius"]=["coalesce",["get","circle-radius"],parseInt(e.pointSize),5],n["circle-stroke-color"]=["coalesce",["get","circle-stroke-color"],e.strokeColor,"#000000"],n["circle-stroke-opacity"]=["coalesce",["get","circle-stroke-opacity"],parseFloat(e.strokeOpacity),1],n["circle-stroke-width"]=["coalesce",["get","circle-stroke-width"],parseInt(e.strokeWidth),1],n["circle-translate"]=[0,0],n["circle-translate-anchor"]="map";break;case"line":n["line-blur"]=0,n["line-color"]=["coalesce",["get","line-color"],e.strokeColor,"#000000"],n["line-dasharray"]=["coalesce",["get","line-dasharray"],["literal",null===(a=e.dashArray)||void 0===a||null===(i=a.split(","))||void 0===i?void 0:i.map(Number)],["literal",[1,0]]],n["line-gap-width"]=0,n["line-offset"]=["coalesce",["get","line-offset"],-parseInt(e.strokeWidth)/2,0],n["line-opacity"]=["coalesce",["get","line-opacity"],parseFloat(e.strokeOpacity),1],n["line-translate"]=[0,0],n["line-translate-anchor"]="map",n["line-width"]=["coalesce",["get","line-width"],parseInt(e.strokeWidth),1];break;case"fill":n["fill-antialias"]=!0,n["fill-color"]=["coalesce",["get","fill-color"],e.fillColor],n["fill-opacity"]=["coalesce",["get","fill-opacity"],parseFloat(e.fillOpacity)],n["fill-translate"]=[0,0],n["fill-translate-anchor"]="map"}return n}async function te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.hiveLayers,e.hiveFeedbackCold,e.mapOptions),a=e.clusterOptions,i=e.basemapOptions,n=((0,Z.deepUnref)(t)||{}).accessToken,l=(0,Z.deepUnref)(i)||{},o=l.basemapId,s=l.basemapConfig,d=(0,Z.deepUnref)(s)||{},c=d.username,u=void 0===c?"mapbox":c,m=d.styleID,p=void 0===m?"streets-v8":m,h=d.accessToken,v=d.url,f=(0,Z.deepUnref)(a),g=(f.cluster,f.clusterRadius,f.clusterMaxZoom,f.clusterMinPoints,{version:8,name:"",metadata:{},sources:{},sprite:`mapbox://sprites/${(0,r.SU)(u)}/${(0,r.SU)(p)}`,glyphs:`mapbox://fonts/${(0,r.SU)(u)}/{fontstack}/{range}.pbf`,layers:[],created:"1970-01-01T00:00:00.000Z",id:`${(0,r.SU)(p)}`,modified:"1970-01-01T00:00:00.000Z",owner:"unknown",visibility:"public",protected:!1,draft:!1});if("None"===(0,r.SU)(o))g.sources={},g.layers=[];else if("MapboxCustom"===(0,r.SU)(o)&&(0,r.SU)(u)&&(0,r.SU)(p)&&(0,r.SU)(h)){const e=`https://api.mapbox.com/styles/v1/${(0,r.SU)(u)}/${(0,r.SU)(p)}?access_token=${(0,r.SU)(h)}`,t=await fetch(e);g=await t.json()}else if((0,r.SU)(o).startsWith("Mapbox")&&(p=X[(0,r.SU)(o)])){const e=`https://api.mapbox.com/styles/v1/${(0,r.SU)(u)}/${(0,r.SU)(p)}?access_token=${(0,r.SU)(n)}&optimize=true`,t=await fetch(e);g=await t.json()}else if("StamenToner"===(0,r.SU)(o)){const e=`${X[(0,r.SU)(o)]}?api_key=${t.value.stadia_api_key}`,a=await fetch(e);g=await a.json()}else if(p=X[(0,r.SU)(o)]){const e=`hive-basemap-${(0,r.SU)(o)}`;g.id=e,g.name=e,g.sources[e]={type:"raster",tileSize:256,tiles:"WMS"===o?[(0,r.SU)(v)]:(0,r.SU)(p)},g.layers.push({id:e,type:"raster",source:e})}const b=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hiveLayers,a=e.hiveFeedbackCold,i=e.mapOptions,n=e.clusterOptions;const l={},o=(0,Z.deepUnref)(n),s=o.cluster,d=o.clusterRadius,c=o.clusterMaxZoom,u=o.clusterMinPoints,m=(0,Z.deepUnref)(i),p=m.center;m.zoom,m.bearing,m.pitch,l["hive-home"]={type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:p}}]}},l["hive-feedback-markers-hot"]=W({type:"geojson",data:{type:"FeatureCollection",features:[]},promoteId:"submissionID"},s&&{cluster:!0,clusterMinPoints:Number(u),clusterMaxZoom:Number(c),clusterRadius:Number(d)}),l["hive-feedback-markers-cold"]=W({type:"geojson",data:(0,r.SU)(a),promoteId:"submissionID"},s&&{cluster:!0,clusterMinPoints:Number(u),clusterMaxZoom:Number(c),clusterRadius:Number(d)});for(const e of(0,r.SU)(t)){const t=`hive-${e.layerType}-${e.layerID}`,a=e.file,i=null==a?void 0:a.split(".").pop().toLowerCase(),n=e.layerData?JSON.parse(e.layerData):null;if(!a&&!n){console.error("No file or data for layer",e);continue}let r;if(n)r={type:"geojson",data:n,generateId:!0};else if("geojson"===i)r={type:"geojson",data:a,generateId:!0};else if("zip"===i)try{r={type:"geojson",data:await L()(a),generateId:!0}}catch(e){console.error(e)}else{if(!/gif|jpe?g|tiff?|png|webp|bmp/i.test(i)){r=null,console.error("Unable to prepare source",e);continue}{const t=parseFloat(e.Lat2),i=parseFloat(e.Lat1),n=parseFloat(e.Lon1),l=parseFloat(e.Lon2);r={type:"image",url:`${a}?js`,coordinates:[[l,t],[n,t],[n,i],[l,i]]}}}if("mask"===e.layerType){var h;let t;if("string"==typeof r.data&&r.data.startsWith("http")){const e=await fetch(r.data);t=await e.json()}else{if("FeatureCollection"!==(null===(h=r.data)||void 0===h?void 0:h.type)){console.error("Unable to prepare mask source",e);continue}t=r.data}r.data=+e.styleInvert?t:(0,z.Z)(t)}r&&(l[t]=r)}return l}(...arguments),y=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hiveLayers,a=e.clusterOptions,i=[];const n=(0,Z.deepUnref)(a),l=n.cluster;n.clusterRadius,n.clusterMaxZoom,n.clusterMinPoints,i.push({type:"symbol",id:"hive-home",source:"hive-home",layout:{"icon-image":"hive-marker-home","text-allow-overlap":!0,"icon-allow-overlap":!0,"text-ignore-placement":!0,"icon-ignore-placement":!0,"icon-anchor":"bottom","icon-offset":[0,7],visibility:"none"}}),i.push({type:"symbol",id:"hive-feedback-markers-hot",source:"hive-feedback-markers-hot",layout:{"icon-image":["coalesce",["get","categoryImageID"],"hive-marker-default"],"text-allow-overlap":!0,"icon-allow-overlap":!0,"text-ignore-placement":!0,"icon-ignore-placement":!0,"icon-anchor":"bottom","icon-offset":[0,7]}}),i.push(W({type:"symbol",id:"hive-feedback-markers-cold",source:"hive-feedback-markers-cold",layout:{"icon-image":["coalesce",["get","categoryImageID"],"hive-marker-default"],"text-allow-overlap":!0,"icon-allow-overlap":!0,"text-ignore-placement":!0,"icon-ignore-placement":!0,"icon-anchor":"bottom","icon-offset":[0,7]}},l&&{filter:["!has","point_count"]})),l&&i.push({type:"circle",id:"hive-feedback-markers-cold-clusters",source:"hive-feedback-markers-cold",filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#99cc00",25,"#ffcc00",50,"#ff9900"],"circle-radius":["step",["get","point_count"],20,25,30,50,40],"circle-opacity":.9}},{type:"symbol",id:"hive-feedback-markers-cold-cluster-count",source:"hive-feedback-markers-cold",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-size":12}});for(const e of(0,r.SU)(t)){const t=`hive-${e.layerType}-${e.layerID}`;if("carto"===e.layerType){console.warn("Carto layers have been decommissioned");continue}if("kml"===e.layerType){console.warn("KML layers have been decommissioned");continue}const a=e.geometry,n=e.layerOrder,r=e.layerType,l=e.markerID,o=e.markerURL,s=e.strokeWidth,d=e.strokeOpacity,c=e.markerInsideLayer,u=e.styleInvert,m=J(e),p=W({id:t,source:t,metadata:{geometry:a,layerOrder:n,layerType:r,markerID:l,markerURL:o,markerInsideLayer:c,styleInvert:u},type:m,layout:Q(e,m),paint:ee(e,m)},e.layerFilter?{filter:e.layerFilter}:{});if(i.push(p),["Polygon","MultiPolygon"].includes(a)&&+s&&+d){const a=(0,H.Z)(e),n=(0,H.Z)(p);n.id=`_${t}-stroke`,n.type="line",n.paint=ee(a,"line"),n.layout=Q(a,"line"),i.push(n)}}let o=R((0,N.Z)(i,(e=>e.id.includes("hive-"))),2),s=o[0],d=o[1],c=s.filter((e=>e.id.includes("hive-home"))),u=s.filter((e=>e.id.includes("hive-feedback-markers-hot"))),m=s.filter((e=>e.id.includes("hive-feedback-markers-cold"))),p=s.filter((e=>{var t;return null===(t=e.id)||void 0===t?void 0:t.includes("hive-basemap")})),h=s.filter((e=>["hive-home","hive-feedback-markers-hot","hive-feedback-markers-cold","hive-basemap"].every((t=>!e.id.includes(t)))));return h=(0,V.Z)(h,(e=>+e.layerOrder),["desc"]),s=[].concat(p,h,c,m,u),i=[].concat(d,s),i}(...arguments);return g.sources=(0,O.Z)(g.sources,b),g.layers=g.layers.concat(y),g}const ae=new Map;async function ie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:90;try{const i=new Image(t,a);return i.crossOrigin="Anonymous",i.src=e,await i.decode(),i}catch(e){console.error(e)}}function ne(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id;e.hiveLayers,e.hiveCategories;ae.has(t)||ae.set(t,{images:(0,r.iH)(null),evaluating:(0,r.iH)(!1)});const a=ae.get(t),n=a.images,l=a.evaluating,o=arguments[0];async function s(){try{l.value=!0;const e=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hiveLayers,a=e.hiveCategories;const i=[];i.includes("hive-marker-home")||i.push({id:"hive-marker-home",image:await ie("/application/images/the_hive_social_map/home_marker.png"),options:{pixelRatio:2}}),i.includes("hive-marker-default")||i.push({id:"hive-marker-default",image:await ie("/application/images/the_hive_social_map/default_marker.png"),options:{pixelRatio:2}});for(const e of(0,r.SU)(a)){const t=`hive-marker-category-${e.scID}`;e.markerURL&&i.push({id:t,image:await ie(e.markerURL),options:{pixelRatio:2}})}const n=(0,r.SU)(t).filter((e=>e.markerURL));for(const e of n){const t=`hive-layer-${e.markerID}`;e.markerURL&&i.push({id:t,image:await ie(e.markerURL),options:{pixelRatio:2}})}return i}(o);n.value=e}catch(e){console.error(e)}finally{l.value=!1}}return null===n.value&&s.apply(this,o),(0,i.Ah)((()=>{ae.delete(t)})),{images:n,evaluating:l,execute:s}}var re=a(40830);const le=new Map,oe=e=>(le.has(e)||le.set(e,function(e){return(0,re.Q_)(`SocialMap/${e}`,(()=>{const t=e,a=(0,r.iH)({}),i=(0,r.iH)({}),n=(0,r.iH)({}),l=(0,r.iH)({}),o=(0,r.iH)({}),s=(0,r.iH)({}),d=(0,r.iH)({}),c=(0,r.iH)({}),u=(0,r.iH)({}),m=(0,r.iH)(null),p=(0,r.iH)(!1),h=(0,r.iH)(!1),v=(0,r.iH)(!1),f=(0,r.iH)(!1),g=(0,r.iH)(!1),b=(0,r.iH)(!1),y=(0,r.iH)(!1),k=(0,r.iH)(!1);function w(e){Object.keys(e).forEach((t=>{t in this&&(this[t]=e[t])}))}const S=()=>{let e=[].slice.call(document.documentElement.classList);v.value=["mq-extraSmall","mq-small"].some((t=>e.includes(t))),f.value=["mq-medium","mq-large"].some((t=>e.includes(t))),g.value=e.includes("touch"),b.value=e.includes("mq-highdensity"),y.value=e.includes("mq-landscape"),k.value=e.includes("geolocation")},x=function(e){var t,a,s;let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"final",c=arguments.length>2?arguments[2]:void 0;const u=(0,r.SU)(o)[e],m=null===(t=(0,r.SU)(n))||void 0===t?void 0:t[e],p=null===(a=(0,r.SU)(l))||void 0===a?void 0:a[e],h=null===(s=(0,r.SU)(i))||void 0===s?void 0:s[e],v=h??p??m??u;let f;switch(d){case"default":f=u;break;case"data":f=m;break;case"set":f=p;break;case"override":f=h;break;case"final":f=v;break;case"all":return{defaultValue:u,dataValue:m,setValue:p,overrideValue:h,finalValue:v}}if(c&&void 0!==f)switch(c){case"boolean":return Boolean(f);case"number":return Number(f);case"string":return String(f)}return f};function D(e,t){if(!(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&!i.value[e])return console.warn(`${e} does not exist. Use upsert to create it.`);i.value[e]=t}const _=(e,t)=>{a.value[e]=t};return{id:t,user:d,userAttributes:u,userProfile:c,http:m,syncState:w,isReady:p,isPreview:h,blockMeta:a,blockOverrides:i,blockData:n,blockSets:l,blockDefaults:o,blockUrls:s,isMobile:v,isTablet:f,isTouch:g,isHighDensity:b,isLandscape:y,isGeolocationCapable:k,getDeviceFeatures:S,getFieldValue:x,setFieldValue:D,getUrl:e=>(0,r.SU)(s)[e],getMeta:e=>(0,r.SU)(a)[e],setMeta:_}}))}(e)),le.get(e));const se=e=>oe((0,r.SU)(e))();var de=a(45830);const ce={class:"map-container mapboxgl-wrapper"},ue=["id"],me={class:"controls-container"},pe={class:"popup-container"};const he=["mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","preclick","click","dblclick","contextmenu","touchstart","touchend","touchcancel","wheel","resize","remove","touchmove","movestart","move","moveend","dragstart","drag","dragend","zoomstart","zoom","zoomend","rotatestart","rotate","rotateend","pitchstart","pitch","pitchend","boxzoomstart","boxzoomend","boxzoomcancel","webglcontextlost","webglcontextrestored","load","render","idle","error","data","styledata","sourcedata","dataloading","styledataloading","sourcedataloading","styleimagemissing","draw.create","draw.delete","draw.update","draw.selectionchange","draw.modechange","draw.render","draw.combine","draw.uncombine","draw.actionable"];var ve=(0,i.aZ)({name:"Mapbox",props:{id:{type:String,required:!0},options:{type:Object,required:!0}},emits:[...he.map((e=>e.replace(/[^a-zA-Z0-9]/g,"-"))),"map-stylechange"],setup(e,t){t.attrs,t.slots;let a=t.emit;t.expose;const n=(0,r.BK)(e),l=n.id,o=n.options,d=(0,de.V)(l.value),c=(0,i.Fl)((()=>d.isEvaluating)),u=(0,i.Fl)((()=>d.mapImages)),m=(0,i.Fl)((()=>d.mapStyle)),p=(0,r.XI)((0,O.Z)({container:`mapbox-${l.value}`,center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},o.value)),h=(0,i.Fl)({get:()=>d.map,set:e=>d.map=e}),v=(0,i.Fl)({get:()=>d.mapContainer,set:e=>d.mapContainer=e}),f=(0,i.Fl)({get:()=>d.isLoaded,set:e=>d.isLoaded=e});return(0,i.bv)((async()=>{try{h.value||(h.value=new mapboxgl.Map(p.value),(e=>{he.forEach((t=>{const i=t.replace(/[^a-zA-Z0-9]/g,"-");e.on(t,(e=>a(i,e)))}))})(h.value),h.value.once("load",(()=>{v.value=h.value.getContainer(),f.value=!0})),(0,s.B_)(m,(async()=>{m.value&&d.setStyle(m)}),{debounce:1e3,maxWait:1e3,immediate:!0}),h.value.on("styleimagemissing",(e=>{var t;const a=null===(t=u.value)||void 0===t?void 0:t.find((t=>t.id===e.id));if(!a)return console.warn(`Image ${e.id} not available`);h.value.hasImage(a.id)?h.value.updateImage(a.id,a.image):h.value.addImage(a.id,a.image,a.options)})))}catch(e){return void console.error(e)}})),{id:l,map:h,isEvaluating:c}}}),fe=a(93379),ge=a.n(fe),be=a(7795),ye=a.n(be),ke=a(90569),we=a.n(ke),Se=a(3565),xe=a.n(Se),De=a(19216),_e=a.n(De),Ue=a(44589),Ie=a.n(Ue),Ce=a(81373),Fe={};Fe.styleTagTransform=Ie(),Fe.setAttributes=xe(),Fe.insert=we().bind(null,"head"),Fe.domAPI=ye(),Fe.insertStyleElement=_e();ge()(Ce.Z,Fe),Ce.Z&&Ce.Z.locals&&Ce.Z.locals;var je=a(81769),Me={};Me.styleTagTransform=Ie(),Me.setAttributes=xe(),Me.insert=we().bind(null,"head"),Me.domAPI=ye(),Me.insertStyleElement=_e();ge()(je.Z,Me),je.Z&&je.Z.locals&&je.Z.locals;var Oe=a(83744);var Pe=(0,Oe.Z)(ve,[["render",function(e,t,a,n,r,l){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",ce,[(0,i._)("div",{id:`mapbox-${e.id}`,class:"map"},null,8,ue)]),(0,i.Uk)(),(0,i._)("div",me,[(0,i.WI)(e.$slots,"IControls",{},void 0,!0)]),(0,i.Uk)(),(0,i._)("div",pe,[(0,i.WI)(e.$slots,"Popups",{},void 0,!0)])],64)}],["__scopeId","data-v-0bc6c846"]]);function Ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(a),!0).forEach((function(t){qe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function qe(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Te=["id"],Le={class:"table table-bordered"};var ze={__name:"MapboxPopup",props:{id:{type:String,default:`mapbox-popup-${Math.random()}`},mapboxId:{type:String,required:!0},point:Object,lngLat:Object,feature:Object,options:Object,templateId:String},emits:["open","close"],setup(e,t){var a,l;let o=t.emit;const s=e,d=o,c=(0,r.BK)(s),u=c.id,m=c.mapboxId,p=(c.point,c.lngLat),h=c.feature,v=c.options,f=(c.templateId,null===(a=h.value)||void 0===a||null===(l=a.properties)||void 0===l?void 0:l.hiveFeatureMedia);Number.isInteger(f)&&(h.value.properties.hiveFeatureMedia=`${window.CCM_APPLICATION_URL}/download_file/view_inline/${f}`);const g={closeButton:!0,closeOnClick:!0,className:"hive-popup",maxWidth:"320px"},b=(0,de.V)(m.value),y=(0,i.Fl)((()=>b.map)),k=(0,r.iH)(null),w=(0,r.XI)(null),S=()=>{y.value?(w.value&&(w.value.remove(),w.value=null),w.value=new mapboxgl.Popup(Ae(Ae({},g),v.value)),w.value.setLngLat(p.value).setDOMContent(k.value),w.value.on("close",(()=>{d("close",{id:(0,r.SU)(u),popupInstance:(0,r.SU)(w)})})),w.value.addTo(y.value)):console.warn("Map not found")};return(0,i.bv)((()=>{S()})),(0,i.Xn)((()=>{S()})),(0,i.Ah)((()=>{w.value&&(w.value.remove(),w.value=null)})),(e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"mapbox-popup",id:s.id,ref_key:"popupElement",ref:k},[(0,i.WI)(e.$slots,"default",(0,n.normalizeProps)((0,i.F4)(s)),(()=>[(0,r.SU)(j.Z)(e.data)?(0,i.kq)("",!0):((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(e.data,((e,t)=>((0,i.wg)(),(0,i.iD)("table",Le,[(0,i._)("tr",null,[(0,i._)("th",null,(0,n.toDisplayString)(t),1),(0,i.Uk)(),(0,i._)("td",null,(0,n.toDisplayString)(e),1)])])))),256))]))],8,Te))}};var Ze=ze,He=a(58350),Ne=a(31810),Ve=a(80676),$e=a(99111);const Re=["aggregate"];function Be(e,t){if(null==e)return{};var a,i,n=function(e,t){if(null==e)return{};var a,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Ye(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function We(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(a),!0).forEach((function(t){Ke(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ye(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ke(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Ge={class:"voting-rating-wrapper"},Xe={class:"loader-container"},Je=[(e=>((0,i.dD)("data-v-1276fe90"),e=e(),(0,i.Cn)(),e))((()=>(0,i._)("span",{class:"loader",style:{display:"block"}},null,-1)))],Qe=["id"],et={key:0,class:"ljs"},tt=["id","name","readonly"],at=["id","name","value","readonly","checked","onFocus","onChange"],it=["for","onClick","onMouseover"],nt={"aria-hidden":"true",class:"unselected"},rt=["src"],lt={"aria-hidden":"true",class:"selected"},ot=["src"],st={class:"sr-only"},dt=["id"],ct={key:0,class:"rating-actions text-center"},ut={class:"input-hover-feedback text-center"},mt={class:"select-rating"},pt={key:0,class:"rating-actions text-center"};var ht={__name:"VotingRatingInput",props:{uniqueId:{type:String,default(){return`voting-rating-${(0,Ve.Z)(1e7)}`}},name:{type:String,default(){return`voting-rating-input-${(0,Ve.Z)(1e7)}`}},bID:{type:Number,required:!0},ftID:{type:Number,required:!0},feedbackID:{type:Number,required:!0},scoreModel:{type:Object,required:!0},scoreSetID:{type:Number,required:!0},scoreExpiryInterval:{type:Number,default:60},label:{type:String,required:!0},inputSize:{type:Number,default:24},user:{type:Object,default:null},getUserScoresUrl:{type:String,required:!0},addUserScoreUrl:{type:String,required:!0},cancelUserScoreUrl:{type:String,required:!0},isAuthor:{type:Boolean},isLoaded:{type:Boolean,default:!1}},emits:["error","score-added","score-updated","score-canceled","update:isLoaded"],setup(e,t){const a=t.emit,s=e,d=(0,r.BK)(s),c=(d.uniqueid,d.scoreModel),u=d.ftID,m=d.bID,p=d.feedbackID,h=d.scoreSetID,v=d.label,f=d.name,g=d.user,b=(0,i.f3)("t"),y=(0,o.y$C)(`voting-rating-${u.value}`,[],localStorage,{mergeDefaults:!0}),k=((0,i.f3)("instanceId"),(0,i.f3)("uniqueId")),w=se((0,r.SU)(k)),S=((0,i.Fl)((()=>w.getFieldValue("displayScores"))),(0,i.Fl)((()=>{var e,t;return null===(e=c.value)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.scoreMethodHandle})),(0,i.Fl)((()=>{var e,t;return null===(e=c.value)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.scoreScale}))),x=(0,i.Fl)((()=>{var e,t;return null===(e=c.value)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.scoreDataType})),D=(0,i.Fl)((()=>{var e;return null===(e=c.value)||void 0===e?void 0:e.map((e=>e.scoreDataPointName))})),_=(0,i.Fl)((()=>{var e;return null===(e=c.value)||void 0===e?void 0:e.map((e=>e.scoreDataPointValue))})),U=(0,i.Fl)((()=>{var e;return null===(e=c.value)||void 0===e?void 0:e.map((e=>({selected:e.scoreDataPointIconSelectedUrl,unselected:e.scoreDataPointIconUnselectedUrl})))})),C=((0,i.Fl)((()=>"count"===x.value||"dichotomous"===S.value?"voting":"rating")),(0,i.Fl)((()=>{var e;return(null===(e=g.value)||void 0===e?void 0:e.uID)||0}))),F=(0,i.Fl)((()=>{var e;return null===(e=O.value)||void 0===e?void 0:e.find((e=>e.feedbackID==p.value&&e.scoreSetID==h.value&&e.uID==C.value))})),M=(0,i.Fl)((()=>{if(!F.value)return!0;const e=new Date(F.value.datetime);return e.setMinutes(e.getMinutes()+s.scoreExpiryInterval)>Date.now()})),O=(0,r.iH)([]),P=async()=>{var e;let t;if(null!==(e=g.value)&&void 0!==e&&e.isLoggedIn&&C.value){let e=decodeURI(s.getUserScoresUrl);e=e.replace("{ftID}",u.value,e),e=e.replace("{uID}",C.value,e);let a={bID:m.value};try{let i=await I.Z.post(e,a);i.status&&(t=i.data.scores)}catch(e){console.error(e)}}else y.value&&Array.isArray(y.value)&&(t=y.value.filter((e=>e.ttl>Date.now()&&0==e.uID&&e.scoreSetID==h.value)));return t},E=(0,r.iH)(b("socialmap:selectRating")),A=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scoreID,a=e.generatedID;if(!t)return;let i=decodeURI(s.cancelUserScoreUrl);i=i.replace("{ftID}",u.value,i),i=i.replace("{feedbackID}",p.value,i),i=i.replace("{scoreID}",t,i);let n={bID:m.value,generatedID:a};try{return await I.Z.post(i,n)}catch(e){throw e}},q=(0,r.iH)(!1),T=(0,$e.Z)((async e=>{if(!M.value)return void HiveAlerts.error({title:b("socialmap:votingRating.cannotChangeVote"),message:b("socialmap:votingRating.cannotChangeVoteMessage")});let t,i;q.value=!0;try{var n,r,l,o,d,c,h;if(0==e||(null===(n=F.value)||void 0===n?void 0:n.scoreDataPointValue)==e)t=await A(We({scoreID:null===(r=F.value)||void 0===r?void 0:r.scoreID},(null===(l=F.value)||void 0===l?void 0:l.generatedID)&&{generatedID:null===(o=F.value)||void 0===o?void 0:o.generatedID})),t&&(e=null,a("score-canceled",t));else t=await A(We({scoreID:null===(d=F.value)||void 0===d?void 0:d.scoreID},(null===(c=F.value)||void 0===c?void 0:c.generatedID)&&{generatedID:null===(h=F.value)||void 0===h?void 0:h.generatedID})),i=await(async e=>{if(!e)return;let t=decodeURI(s.addUserScoreUrl);t=t.replace("{ftID}",u.value,t),t=t.replace("{feedbackID}",p.value,t);let a={bID:m.value,scoreDataPointValue:e};try{return await I.Z.post(t,a)}catch(e){throw e}})(e),t&&i?a("score-updated",{cancelResult:t,addResult:i}):i&&a("score-added",i);if(!C.value){if(i){const e=i.data,t=(e.aggregate,Be(e,Re));t.datetime=new Date,t.ttl=Date.now()+60*s.scoreExpiryInterval*1e3,y.value=y.value.concat(t)}t&&(y.value=y.value.filter((e=>e.scoreID!=t.data.scoreID)))}return O.value=await P(),L.value=e,q.value=!1,{cancelResult:t,addResult:i}}catch(e){var v;console.error(e),a("error",e),L.value=(null===(v=F.value)||void 0===v?void 0:v.scoreDataPointValue)||0,q.value=!1}}),1e3),L=(0,r.iH)(0);return(0,i.bv)((async()=>{var e;a("update:isLoaded",!0),O.value=await P(),L.value=(null===(e=F.value)||void 0===e?void 0:e.scoreDataPointValue)||0,(0,i.YP)(g,P)})),(t,a)=>((0,i.wg)(),(0,i.iD)("div",Ge,[(0,i.wy)((0,i._)("div",Xe,Je,512),[[l.vShow,q.value]]),(0,i.Uk)(),(0,i.wy)((0,i._)("fieldset",{id:(0,r.SU)(k)},[(0,r.SU)(v)?((0,i.wg)(),(0,i.iD)("legend",et,(0,n.toDisplayString)((0,r.SU)(v)),1)):(0,i.kq)("",!0),(0,i.Uk)(),(0,i._)("div",{class:(0,n.normalizeClass)([S.value,"voting-rating"]),style:(0,n.normalizeStyle)(`min-height:${e.inputSize}px;`)},[(0,i._)("input",{type:"radio",class:"input-no-rate","aria-label":"No rating",id:`${(0,r.SU)(f)}-x`,ref:`${(0,r.SU)(f)}-x`,name:(0,r.SU)(f),value:0,readonly:!M.value},null,8,tt),(0,i.Uk)(),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(_.value,((t,l)=>((0,i.wg)(),(0,i.iD)(i.HY,{key:`input-${l}-${(0,r.SU)(k)}`},[(0,i._)("input",{type:"radio",id:`${(0,r.SU)(f)}-${l}`,ref_for:!0,ref:`${(0,r.SU)(f)}-${l}`,name:(0,r.SU)(f),value:t,readonly:!M.value,checked:L.value==t,onFocus:e=>E.value=D.value[l],onBlur:a[0]||(a[0]=e=>E.value=(0,r.SU)(b)("socialmap:selectRating")),onChange:e=>(0,r.SU)(T)(t)},null,40,at),(0,i.Uk)(),(0,i._)("label",{for:`${(0,r.SU)(f)}-${l}`,style:(0,n.normalizeStyle)(`min-width:${e.inputSize}px;min-height:${e.inputSize}px`),onClick:e=>(0,r.SU)(T)(t),onMouseover:e=>E.value=D.value[l],onMouseleave:a[1]||(a[1]=e=>E.value=(0,r.SU)(b)("socialmap:selectRating"))},[(0,i._)("span",nt,[(0,i._)("img",{src:U.value[l].unselected,height:"24"},null,8,rt)]),(0,i.Uk)(),(0,i._)("span",lt,[(0,i._)("img",{src:U.value[l].selected,height:"24"},null,8,ot)]),(0,i.Uk)(),(0,i._)("span",st,(0,n.toDisplayString)(D.value[l]),1)],44,it)],64)))),128)),(0,i.Uk)(),(0,i._)("span",{class:"voting-rating-focus-ring",style:(0,n.normalizeStyle)(`height:${e.inputSize}px`)},null,4)],6),(0,i.Uk)(),(0,i._)("div",{id:`voting-button-container-${(0,r.SU)(m)}`,class:"voting-button-container"},[e.isAuthor?(0,i.kq)("",!0):(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",ct,[(0,i._)("button",{class:"btn btn-default btn-sm btn-outline clear-rating",onClick:a[2]||(a[2]=e=>(0,r.SU)(T)(0))},(0,n.toDisplayString)((0,r.SU)(b)("socialmap:clearRating")),1)],512)),[[l.vShow,!(0,r.SU)(j.Z)(F.value)&&M.value]]),(0,i.Uk)(),(0,i.wy)((0,i._)("div",ut,[(0,i._)("p",mt,(0,n.toDisplayString)(E.value),1)],512),[[l.vShow,(0,r.SU)(j.Z)(F.value)]])],8,dt)],8,Qe),[[l.vShow,!q.value]]),(0,i.Uk)(),e.isAuthor?((0,i.wg)(),(0,i.iD)("div",pt,[(0,i.wy)((0,i._)("button",{class:"btn btn-default btn-sm btn-outline clear-rating",onClick:a[3]||(a[3]=e=>(0,r.SU)(T)(0))},(0,n.toDisplayString)((0,r.SU)(b)("socialmap:clearRating")),513),[[l.vShow,!(0,r.SU)(j.Z)(F.value)&&M.value]])])):(0,i.kq)("",!0)]))}},vt=a(22031),ft={};ft.styleTagTransform=Ie(),ft.setAttributes=xe(),ft.insert=we().bind(null,"head"),ft.domAPI=ye(),ft.insertStyleElement=_e();ge()(vt.Z,ft),vt.Z&&vt.Z.locals&&vt.Z.locals;var gt=(0,Oe.Z)(ht,[["__scopeId","data-v-1276fe90"]]),bt=a(17928);const yt={class:"c-voting-rating-display"},kt={key:0,class:"voting-rating-summary"},wt={class:"voting-rating-container"},St={key:0,class:"icon"},xt=["src"],Dt={key:1,class:"icon"},_t=["src"],Ut={key:2,class:"icon"},It=["src"],Ct={key:0,class:"central-tendancy"},Ft={key:1,class:"central-tendancy"},jt={class:"totalScores"},Mt={key:0,class:"central-tendancy"},Ot={key:1,class:"central-tendancy"},Pt={class:"totalScores"},Et={key:1,class:"voting-rating-table"},At={class:"rating-actions text-center"},qt={key:1,class:"rating-actions text-center"},Tt={ref:"score-table",class:"score-table"},Lt={class:"progress"},zt=["aria-valuenow"];var Zt={__name:"VotingRatingDisplay",props:{bID:{type:Number,required:!0},ftID:{type:Number,required:!0},feedbackID:{type:Number,required:!0},scoreModel:{type:Object,required:!0},scoreSetID:{type:Number,required:!0},isScoringAllowed:{type:Boolean,required:!0},aggregateScoreUrl:{type:String,required:!0},aggregateScore:{type:Array,required:!0},displayStyle:{type:String,default:"summary"},isAuthor:{type:Boolean},isInputLoaded:{type:Boolean,default:!1}},emits:["update:aggregateScore"],setup(e,t){const a=t.emit,o=e,s=(0,i.f3)("t"),d=(0,i.f3)("deviceFeatures").isMobile,c=(0,r.BK)(o),u=c.scoreModel,m=c.ftID,p=c.bID,h=c.feedbackID,v=c.aggregateScore,f=(c.scoreSetID,(0,i.f3)("instanceId"),(0,i.f3)("uniqueId")),g=se((0,r.SU)(f)),b=(0,i.Fl)((()=>g.getFieldValue("displayScores","final","number"))),y=((0,i.Fl)((()=>{var e,t;return null===(e=u.value)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.scoreMethodHandle})),(0,i.Fl)((()=>{var e,t;return null===(e=u.value)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.scoreScale}))),k=(0,i.Fl)((()=>{var e,t;return null===(e=u.value)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.scoreDataType})),w=((0,i.Fl)((()=>{var e;return null===(e=u.value)||void 0===e?void 0:e.map((e=>e.scoreDataPointName))})),(0,i.Fl)((()=>{var e;return null===(e=u.value)||void 0===e?void 0:e.map((e=>e.scoreDataPointValue))})),(0,i.Fl)((()=>{var e;return null===(e=u.value)||void 0===e?void 0:e.map((e=>({selected:e.scoreDataPointIconSelectedUrl,unselected:e.scoreDataPointIconUnselectedUrl})))}))),S=(0,i.Fl)((()=>"count"===k.value||"dichotomous"===y.value?"voting":"rating")),x=(0,r.iH)(!1),D=()=>{var e="view-submission-"+p.value,t=document.getElementById(e);t.scrollTo({top:t.scrollHeight,left:0,behavior:"smooth"})},_=()=>{x.value=!x.value,x.value&&(0,i.Y3)((()=>{D()}))},U=(0,i.Fl)((()=>(0,j.Z)(v.value)?0:(0,He.Z)(v.value.map((e=>e.scoreCount)).filter(Boolean)))),C=(0,i.Fl)((()=>{if((0,j.Z)(v.value))return 0;let e=0,t=null,a=(0,V.Z)(v.value,["scorePercentage"],["desc"])[0];var i;a&&(e=Math.round(100*(a.scorePercentage+Number.EPSILON))/100,t=null===(i=w.value[a.scoreDataPointOrder-1])||void 0===i?void 0:i.selected);return{percentage:e,icon:t}})),F=(0,i.Fl)((()=>{var e,t,a;if(!u.value||(0,j.Z)(v.value))return 0;let i,n,r=null===(e=v.value)||void 0===e?void 0:e.map((e=>e.scoreDataPointValue*e.scoreCount)),l=null===(t=v.value)||void 0===t?void 0:t.map((e=>e.scoreCount));i=Math.round(100*((0,He.Z)(r)/(0,He.Z)(l)+Number.EPSILON))/100;let o=-1==Math.sign(i-1)?0:i-1;return n=null===(a=w.value[Math.ceil(o)])||void 0===a?void 0:a.selected,{mean:i,icon:n}}));return(0,i.bv)((async()=>{if((0,j.Z)(v.value)){const e=await(async()=>{let e=decodeURI(o.aggregateScoreUrl);e=e.replace("{ftID}",m.value,e),e=e.replace("{feedbackID}",h.value,e);let t={bID:p.value};try{return(await I.Z.post(e,t)).data.aggregate}catch(e){}})();a("update:aggregateScore",e)}})),(t,a)=>((0,i.wg)(),(0,i.iD)("div",yt,["summary"===e.displayStyle?((0,i.wg)(),(0,i.iD)("div",kt,[(0,i.wy)((0,i._)("div",wt,["count"===y.value?((0,i.wg)(),(0,i.iD)("span",St,[(0,i._)("img",{src:w.value.selected[0],height:"16",alt:""},null,8,xt)])):"dichotomous"===y.value?((0,i.wg)(),(0,i.iD)("span",Dt,[(0,i._)("img",{src:C.value.icon,height:"16",alt:""},null,8,_t)])):((0,i.wg)(),(0,i.iD)("span",Ut,[(0,i._)("img",{src:F.value.icon,height:"16",alt:""},null,8,It)])),(0,i.Uk)(),(0,r.SU)(d)?((0,i.wg)(),(0,i.iD)(i.HY,{key:4},["ordinal"==y.value?((0,i.wg)(),(0,i.iD)("span",Mt,(0,n.toDisplayString)(F.value.mean),1)):"count"!==y.value?((0,i.wg)(),(0,i.iD)("span",Ot,(0,n.toDisplayString)(C.value.percentage)+"%",1)):(0,i.kq)("",!0),(0,i.Uk)(),(0,i._)("span",Pt,"("+(0,n.toDisplayString)(U.value)+")",1)],64)):((0,i.wg)(),(0,i.iD)("a",{key:3,onClick:D,class:"scroll-container"},["ordinal"==y.value?((0,i.wg)(),(0,i.iD)("span",Ct,(0,n.toDisplayString)(F.value.mean),1)):"count"!==y.value?((0,i.wg)(),(0,i.iD)("span",Ft,(0,n.toDisplayString)(C.value.percentage)+"%",1)):(0,i.kq)("",!0),(0,i.Uk)(),(0,i._)("span",jt,"("+(0,n.toDisplayString)(U.value)+")",1)]))],512),[[l.vShow,b.value&&U.value]])])):(0,i.kq)("",!0),(0,i.Uk)(),"table"===e.displayStyle?(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",Et,[!e.isAuthor&&e.isScoringAllowed&&U.value?((0,i.wg)(),(0,i.j4)(i.lR,{key:0,to:`#voting-button-container-${(0,r.SU)(p)}`},[(0,i._)("div",At,[(0,i.wy)((0,i._)("button",{class:"btn btn-default btn-sm btn-outline",onClick:_},(0,n.toDisplayString)(x.value?(0,r.SU)(s)("socialmap:hideResults",{context:S.value}):(0,r.SU)(s)("socialmap:seeResults",{context:S.value}))+" ("+(0,n.toDisplayString)(U.value)+")\n                    ",513),[[l.vShow,b.value]])])],8,["to"])):(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",qt,[(0,i._)("button",{class:"btn btn-default btn-sm btn-outline",onClick:_},(0,n.toDisplayString)(x.value?(0,r.SU)(s)("socialmap:hideResults",{context:S.value}):(0,r.SU)(s)("socialmap:seeResults",{context:S.value}))+" ("+(0,n.toDisplayString)(U.value)+")\n                ",1)],512)),[[l.vShow,b.value&&U.value]]),(0,i.Uk)(),(0,i.wy)((0,i._)("div",Tt,[(0,i._)("table",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,r.SU)(v),(e=>((0,i.wg)(),(0,i.iD)("tr",{key:e.scoreDataPointID},[(0,i._)("td",null,[(0,i._)("span",null,(0,n.toDisplayString)(e.scoreDataPointName),1),(0,i.Uk)(),(0,i._)("div",Lt,[(0,i._)("div",{class:"progress-bar",role:"progressbar","aria-valuenow":(0,r.SU)(bt.OY)(e.scoreCount,U.value),"aria-valuemin":"0","aria-valuemax":"100",style:(0,n.normalizeStyle)(`width: ${(0,r.SU)(bt.OY)(e.scoreCount,U.value,{style:"percent"})};`)},[(0,i._)("span",null,(0,n.toDisplayString)(e.scoreCount?(0,r.SU)(bt.OY)(e.scoreCount,U.value,{style:"percent"}):""),1)],12,zt)])])])))),128))])],512),[[l.vShow,b.value&&x.value]])],512)),[[l.vShow,U.value]]):(0,i.kq)("",!0)]))}},Ht=a(10862),Nt={};Nt.styleTagTransform=Ie(),Nt.setAttributes=xe(),Nt.insert=we().bind(null,"head"),Nt.domAPI=ye(),Nt.insertStyleElement=_e();ge()(Ht.Z,Nt),Ht.Z&&Ht.Z.locals&&Ht.Z.locals;var Vt=(0,Oe.Z)(Zt,[["__scopeId","data-v-32f287df"]]);const $t={class:"submission-preload"},Rt=[(0,i._)("i",{class:"fa fa-spinner fa-spin fa-lg loading-indicator"},null,-1)],Bt=(0,i._)("span",{class:"hive-chevron-up","aria-hidden":"true"},null,-1),Yt={class:"row"},Wt={class:"col-xs-12"},Kt={class:"pin-body"},Gt=["id"],Xt={class:"pin-media"},Jt=["aria-label"],Qt=[(0,i._)("span",{class:"hive-close","aria-hidden":"true"},null,-1)],ea=["aria-label"],ta=[(0,i._)("span",{class:"hive-chevron-down","aria-hidden":"true"},null,-1)],aa=["aria-label"],ia=[(0,i._)("span",{class:"hive-close","aria-hidden":"true"},null,-1)],na=["aria-label"],ra=[(0,i._)("span",{class:"hive-chevron-down","aria-hidden":"true"},null,-1)],la={key:0,class:"pin-location"},oa=(0,i._)("i",{class:"fa fa-map-marker","aria-hidden":"true"},null,-1),sa={class:"pin-meta"},da={class:"meta-row-1"},ca={class:"username"},ua={class:"date"},ma={key:0,class:"meta-row-2"},pa={class:"submission-body"},ha={class:"ljs"},va=["innerHTML"],fa={key:1,class:"score"},ga={key:0,class:"pin-footer"},ba={key:0,class:"pin-category"},ya={class:"cat-item"},ka={class:"cat-icon"},wa=["src","alt"],Sa={class:"cat-info"},xa={class:"cat-name ljs"},Da=["aria-label"],_a=[(0,i._)("i",{class:"hive-arrow-button-left"},null,-1)],Ua=["aria-label"],Ia=[(0,i._)("i",{class:"hive-arrow-button-right"},null,-1)];var Ca={__name:"ViewSubmission",props:{feature:Object,lngLat:Object,selectedTab:String,selectedCategoryIds:Array},emits:["update:selectedTab","update:feature"],setup(e,t){const a=t.emit,o=e,d=(0,r.BK)(o),c=d.feature,u=d.lngLat,m=d.selectedCategoryIds,p=(0,i.f3)("t"),h=((0,i.f3)("instanceId"),(0,i.f3)("uniqueId")),v=(0,i.f3)("http"),f=(0,i.f3)("deviceFeatures").isMobile,g=se((0,r.SU)(h)),b=(0,de.V)((0,r.SU)(h)),y=Number(g.getMeta("bID")),k=Number(g.getMeta("ftID")),w=(0,i.Fl)((()=>{var e;return Number(null===(e=g.user)||void 0===e?void 0:e.uID)||0})),S=(0,i.Fl)((()=>b.map)),x=(0,i.Fl)((()=>g.getFieldValue("displayCategories"))),D=(0,i.Fl)((()=>g.getFieldValue("displayMarkerLocation"))),_=((0,i.Fl)((()=>g.getFieldValue("active"))),(0,i.Fl)((()=>g.getFieldValue("categories")))),U=(0,i.Fl)((()=>g.getFieldValue("reportsMode","final","boolean"))),I=(0,i.Fl)((()=>g.getFieldValue("markerClustering","final","number"))),C=(0,i.Fl)((()=>g.getFieldValue("submissions"))),F=(0,i.Fl)((()=>g.getFieldValue("submissionsNew"))),M=(0,i.Fl)((()=>({type:"FeatureCollection",features:C.value.features.concat(F.value.features)}))),O=(0,i.Fl)((()=>{var e;return{type:"FeatureCollection",features:(null===(e=M.value)||void 0===e?void 0:e.features.filter((e=>{var t;return null===(t=m.value)||void 0===t?void 0:t.includes(e.properties.categoryImageID)})))||[]}})),P=["hive-feedback-markers-cold","hive-feedback-markers-hot"],E=["hive-feedback-markers-cold","hive-feedback-markers-hot"],A=(0,r.iH)(null),q=(0,r.iH)(null),T=(0,i.Fl)((()=>{var e;return null===(e=O.value)||void 0===e?void 0:e.features.findIndex((e=>e.properties.submissionID===q.value))})),L=(0,r.iH)(0),z=(0,r.iH)(0),Z=(e,t)=>{if(e<1)return;const a=O.value.features.length,i="next"===t?(T.value+e)%a:(T.value-e+a)%a;if(i===T.value)return;const n=O.value.features[i];"next"===t?N(n):H(n)};(0,s.B_)(L,(e=>{Z(e,"next")}),{debounce:500}),(0,s.B_)(z,(e=>{Z(e,"prev")}),{debounce:500});const H=async e=>{var t,i,n;const r=Number(null===(t=e.properties)||void 0===t?void 0:t.feedbackID),l=Number(null===(i=e.properties)||void 0===i?void 0:i.submissionID),o=e.geometry.coordinates;let s;ve.value=null,S.value.easeTo({center:o}),S.value.isMoving()&&await new Promise((e=>S.value.once("idle",e))),s=null===(n=S.value.queryRenderedFeatures({layers:E,filter:["all",["==",["get","feedbackID"],r],["==",["get","submissionID"],l]],validate:!1}))||void 0===n?void 0:n[0],I.value&&!s&&(s=await $(r,l,o)),s?a("update:feature",s):(console.error("prevFeature not found",{feedbackID:r,submissionID:l}),HiveAlerts.error({title:p("socialmap:error"),message:p("socialmap:submission.errorLoadingSubmission")}))},N=async e=>{var t,i,n;const r=Number(null===(t=e.properties)||void 0===t?void 0:t.feedbackID),l=Number(null===(i=e.properties)||void 0===i?void 0:i.submissionID),o=e.geometry.coordinates;let s;ve.value=null,S.value.easeTo({center:o}),S.value.isMoving()&&await new Promise((e=>S.value.once("idle",e))),s=null===(n=S.value.queryRenderedFeatures({layers:E,filter:["all",["==",["get","feedbackID"],r],["==",["get","submissionID"],l]],validate:!1}))||void 0===n?void 0:n[0],I.value&&!s&&(s=await $(r,l,o)),s?a("update:feature",s):(console.error("nextFeature not found",{feedbackID:r,submissionID:l}),HiveAlerts.error({title:p("socialmap:error"),message:p("socialmap:submission.errorLoadingSubmission")}))},V=async(e,t)=>{for(const a of e){const e=a.properties.cluster_id,i=a.source,n=a.layer;try{const r=await new Promise(((t,r)=>{S.value.isSourceLoaded(i)||r(`Cluster source not found: ${a.source}`),S.value.getSource(i).getClusterChildren(e,((e,a)=>{if(e)r(e);else{const e=a.reduce(((e,t)=>(t.properties.cluster?(t.source=i,t.layer=n,e.subclusters.push(t)):e.submissions.push(t),e)),{submissions:[],subclusters:[]}),r=e.submissions,l=e.subclusters;t({submissions:r,subclusters:l})}}))})),l=r.submissions,o=r.subclusters,s=l.find(t);if(s)return s.source=i,s.layer=n,s.properties.cluster_id=e,s;if(o.length){const e=await V(o,t);if(e)return e}}catch(e){return console.error(e)}}return null},$=async(e,t)=>{let a;if(a=S.value.queryRenderedFeatures({layers:["hive-feedback-markers-cold-clusters"]}),a.length){a=a.reduce(((e,t)=>(e.some((e=>e.properties.cluster_id===t.properties.cluster_id))||e.push(t),e)),[]);const i=a=>a.properties.submissionID===t&&a.properties.feedbackID===e,n=await V(a,i);if(n)return n}return null},R=(0,r.iH)(!1),B=(0,i.Fl)((()=>{var e,t;return!!+x.value&&(null===(e=ve.value)||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.scID)})),Y=(0,i.Fl)((()=>{var e,t;const a=null===(e=ve.value)||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.scID;return _.value.find((e=>e.scID==a))})),W=(0,i.Fl)((()=>g.getFieldValue("isPreview"))),K=(0,i.Fl)((()=>g.getFieldValue("requiresRegistration"))),G=(0,i.Fl)((()=>g.getFieldValue("scoringEnabled","final","number"))),X=(0,i.Fl)((()=>!U.value&&(!(!W.value||!+G.value)||!!+G.value&&(!K.value||!!w.value>0)))),J=(0,i.Fl)((()=>g.getFieldValue("displayScores","final","number"))),Q=(0,i.Fl)((()=>g.getFieldValue("scoreSetID","final","number"))),ee=(0,i.Fl)((()=>g.getFieldValue("scoreModel"))),te=(0,i.Fl)((()=>g.getFieldValue("callToActionText"))),ae=(0,i.Fl)((()=>g.getFieldValue("scoreExpiryInterval"))),ie=g.getUrl("the_hive_social_map_{ftID}_user_{uID}_scores"),ne=g.getUrl("the_hive_social_map_{ftID}_{feedbackID}_score_add"),re=g.getUrl("the_hive_social_map_{ftID}_{feedbackID}_score_{scoreID}_cancel"),le=g.getUrl("the_hive_social_map_{ftID}_{feedbackID}_scores_aggregate"),oe=(0,r.iH)([]),ce=(0,i.Fl)((()=>(0,j.Z)(oe.value)?0:(0,He.Z)(oe.value.map((e=>e.scoreCount)).filter(Boolean)))),ue=e=>{var t,a,i,n;const r=(null==e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||(null==e||null===(i=e.response)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.message);HiveAlerts.error({title:p("socialmap:error"),message:r})},me=e=>{oe.value=e.data.aggregate,window.HiveAlerts.success({title:p("socialmap:ratingSaved"),message:p("socialmap:ratingSavedSuccessfully")})},pe=e=>{const t=e.addResult;e.cancelResult;oe.value=t.data.aggregate,window.HiveAlerts.success({title:p("socialmap:ratingSaved"),message:p("socialmap:ratingSavedSuccessfully")})},he=e=>{oe.value=e.data.aggregate,window.HiveAlerts.info({title:p("socialmap:ratingCancelled"),message:p("socialmap:ratingCancelledSuccessfully")})},ve=(0,r.iH)(null),fe=(0,i.Fl)((()=>{var e,t;return!!w.value&&(null===(e=ve.value)||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.uID)==w.value})),ge=(0,i.Fl)((()=>{var e,t,a,i=null===(e=ve.value)||void 0===e||null===(t=e.properties)||void 0===t||null===(a=t.imageThumbnail)||void 0===a?void 0:a.src;return i||null})),be=(0,r.iH)(!1),ye=(0,i.Fl)((()=>!U.value&&(!!G.value&&(!!X.value&&!fe.value)))),ke=()=>{E.forEach((e=>{S.value.setPaintProperty(e,"icon-opacity",1)})),P.forEach((e=>{S.value.removeFeatureState({source:e,id:q.value},"active")})),q.value=null,ve.value=null,a("update:feature",null)};(0,i.YP)(ve,(async e=>{e?(await(0,i.Y3)(),De()):xe&&_e()}));(0,s.B_)(q,(async(e,t)=>{ve.value=e?await(async e=>{let t=g.getUrl("the_hive_social_map_{ftID}_submissions_{submissionID}"),a=decodeURI(t);a=a.replace("{ftID}",k),a=a.replace("{submissionID}",e);const i=await v.post(a,{feature:!0});return(await i).data.data})(e):null}),{debounce:1e3,maxWait:5e3});(0,s.B_)(A,(async(e,t)=>{e?J.value&&Q.value&&(oe.value=await(async e=>{let t=g.getUrl("the_hive_social_map_{ftID}_{feedbackID}_scores_aggregate"),a=decodeURI(t);a=a.replace("{ftID}",k),a=a.replace("{feedbackID}",e);const i={bID:y},n=await v.post(a,i);return(await n).data.aggregate})(e)):oe.value=[]}),{debounce:1e3,maxWait:5e3});(0,s.B_)(c,((e,t)=>{var i,n,l,o;if(!e)return;if(null!==(i=e.layer)&&void 0!==i&&null!==(n=i.id)&&void 0!==n&&n.startsWith("hive-feedback-markers-cold-cluster")){var s;const t=null===(s=e.properties)||void 0===s?void 0:s.cluster_id;if(t){const a=S.value.getSource(e.source);a&&a.getClusterExpansionZoom(t,((t,a)=>{if(t)return console.error(t);S.value.easeTo({center:e.geometry.coordinates,zoom:a})}))}if(e.properties.cluster)return}E.forEach((e=>{S.value.setPaintProperty(e,"icon-opacity",.5)})),P.forEach((e=>{S.value.removeFeatureState({source:e,id:q.value},"active")})),S.value.easeTo({center:e.geometry.coordinates}),ve.value=null,q.value=(null===(l=e.properties)||void 0===l?void 0:l.submissionID)||null,A.value=(null===(o=e.properties)||void 0===o?void 0:o.feedbackID)||null,L.value=0,z.value=0,a("update:selectedTab",null);const d=e.source;S.value.setFeatureState({source:d,id:(0,r.SU)(q)},{active:!0}),S.value.setPaintProperty(d,"icon-opacity",["case",["boolean",["feature-state","active"],!1],1,.5])}),{immediate:!0}),(0,i.YP)(u,(e=>{e&&S.value.easeTo({center:e})}));const we=(0,r.iH)(null),Se=(0,Ne.P)(we,{clickOutsideDeactivates:!0,allowOutsideClick:!1,preventScroll:!0}),xe=Se.hasFocus,De=Se.activate,_e=Se.deactivate;return(0,i.bv)((async()=>{})),(0,i.Xn)((()=>{})),(0,i.Ah)((()=>{ke()})),(e,t)=>{var a,o,s,d,c,u,m,h,v,b,w,S,x;return(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:(0,n.normalizeClass)([{"mobile inset map-panels":(0,r.SU)(f),"inset-bottom":q.value&&!R.value,"full-height":q.value&&R.value}])},[(0,i._)("div",{class:(0,n.normalizeClass)([{collapsed:(0,r.SU)(f)&&!R.value,expanded:(0,r.SU)(f)&&R.value},"hive-social-map-block view-hive-submission pin-details-wrapper panel-full panel-right"]),ref_key:"panel",ref:we},[(0,i.wy)((0,i._)("div",$t,Rt,512),[[l.vShow,!ve.value]]),(0,i.Uk)(),(0,i.wy)((0,i._)("div",{class:(0,n.normalizeClass)([{"has-thumbnail":null===(a=ve.value)||void 0===a||null===(o=a.properties)||void 0===o?void 0:o.imageThumbnail},"pin-details container-fluid"])},[(0,i._)("button",{class:"handle-bar hidden-sm hidden-md hidden-lg",onClick:t[0]||(t[0]=e=>R.value=!0)},[Bt,(0,i.Uk)(" "+(0,n.toDisplayString)((0,r.SU)(p)("socialmap:readMore")),1)]),(0,i.Uk)(),(0,i._)("div",Yt,[(0,i._)("div",Wt,[(0,i._)("div",Kt,[(0,i._)("div",{id:"view-submission-"+(0,r.SU)(y),class:"view-submission"},[(0,i.wy)((0,i._)("div",Xt,[(0,i._)("button",{type:"button",class:"btn btn-close btn-cancel btn-style-light","aria-label":(0,r.SU)(p)("socialmap:close"),onClick:ke},Qt,8,Jt),(0,i.Uk)(),(0,i._)("button",{type:"button",class:"btn btn-collapse btn-style-light hidden-sm hidden-md hidden-lg","aria-label":(0,r.SU)(p)("socialmap:collapse"),onClick:t[1]||(t[1]=e=>R.value=!1)},ta,8,ea),(0,i.Uk)(),ge.value?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"pin-image",style:(0,n.normalizeStyle)(`background-image: url(${ge.value})`)},null,4)):(0,i.kq)("",!0)],512),[[l.vShow,!!ge.value]]),(0,i.Uk)(),(0,i.wy)((0,i._)("button",{type:"button",class:"btn btn-close btn-cancel btn-style-dark","aria-label":(0,r.SU)(p)("socialmap:close"),onClick:ke},ia,8,aa),[[l.vShow,!ge.value]]),(0,i.Uk)(),(0,i.wy)((0,i._)("button",{type:"button",class:"btn btn-collapse btn-style-dark hidden-sm hidden-md hidden-lg","aria-label":(0,r.SU)(p)("socialmap:collapse"),onClick:t[2]||(t[2]=e=>R.value=!1)},ra,8,na),[[l.vShow,!ge.value]]),(0,i.Uk)(),(0,i._)("div",{class:(0,n.normalizeClass)(["pin-content",{"no-media":!ge.value}])},["off"!=D.value?((0,i.wg)(),(0,i.iD)("div",la,[oa,(0,i.Uk)(),(0,i._)("h4",null,(0,n.toDisplayString)(null===(s=ve.value)||void 0===s||null===(d=s.properties)||void 0===d?void 0:d.address),1)])):(0,i.kq)("",!0),(0,i.Uk)(),(0,i._)("div",sa,[(0,i._)("div",da,[(0,i._)("span",ca,(0,n.toDisplayString)(null===(c=ve.value)||void 0===c||null===(u=c.properties)||void 0===u?void 0:u.username),1),(0,i._)("span",ua,(0,n.toDisplayString)(null===(m=ve.value)||void 0===m||null===(h=m.properties)||void 0===h?void 0:h.submitted),1)]),(0,i.Uk)(),J.value&&ce.value?((0,i.wg)(),(0,i.iD)("div",ma,[((0,i.wg)(),(0,i.j4)(Vt,{key:A.value,ftID:(0,r.SU)(k),bID:(0,r.SU)(y),feedbackID:A.value,scoreSetID:Q.value,scoreModel:ee.value,isScoringAllowed:X.value,aggregateScoreUrl:(0,r.SU)(le),displayStyle:"summary",aggregateScore:oe.value,"onUpdate:aggregateScore":t[3]||(t[3]=e=>oe.value=e)},null,8,["ftID","bID","feedbackID","scoreSetID","scoreModel","isScoringAllowed","aggregateScoreUrl","aggregateScore"]))])):(0,i.kq)("",!0)]),(0,i.Uk)(),(0,i._)("div",pa,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(null===(v=ve.value)||void 0===v||null===(b=v.properties)||void 0===b?void 0:b.submissionArray,(e=>((0,i.wg)(),(0,i.iD)("dl",null,[(0,i._)("dt",ha,(0,n.toDisplayString)(e.question),1),(0,i.Uk)(),(0,i._)("dd",{innerHTML:e.answer,class:(0,n.normalizeClass)(e.type),dir:"auto"},null,10,va)])))),256))]),(0,i.Uk)(),ye.value||ce.value?((0,i.wg)(),(0,i.iD)("div",fa,[ye.value?((0,i.wg)(),(0,i.j4)(gt,{key:A.value,ftID:(0,r.SU)(k),bID:(0,r.SU)(y),feedbackID:A.value,scoreSetID:Q.value,scoreModel:ee.value,scoreExpiryInterval:ae.value,label:te.value||(0,r.SU)(p)("socialmap:raterLabel"),user:(0,r.SU)(g).user,getUserScoresUrl:(0,r.SU)(ie),addUserScoreUrl:(0,r.SU)(ne),cancelUserScoreUrl:(0,r.SU)(re),onError:ue,onScoreAdded:me,onScoreUpdated:pe,onScoreCanceled:he,isAuthor:fe.value,isLoaded:be.value,"onUpdate:isLoaded":t[4]||(t[4]=e=>be.value=e)},null,8,["ftID","bID","feedbackID","scoreSetID","scoreModel","scoreExpiryInterval","label","user","getUserScoresUrl","addUserScoreUrl","cancelUserScoreUrl","isAuthor","isLoaded"])):(0,i.kq)("",!0),(0,i.Uk)(),J.value&&(be.value&&ye.value||ce.value&&!ye.value)?((0,i.wg)(),(0,i.j4)(Vt,{key:A.value,ftID:(0,r.SU)(k),bID:(0,r.SU)(y),feedbackID:A.value,scoreSetID:Q.value,scoreModel:ee.value,isScoringAllowed:X.value,aggregateScoreUrl:(0,r.SU)(le),aggregateScore:oe.value,"onUpdate:aggregateScore":t[5]||(t[5]=e=>oe.value=e),displayStyle:"table",isAuthor:fe.value},null,8,["ftID","bID","feedbackID","scoreSetID","scoreModel","isScoringAllowed","aggregateScoreUrl","aggregateScore","isAuthor"])):(0,i.kq)("",!0)])):(0,i.kq)("",!0)],2)],8,Gt)]),(0,i.Uk)(),C.value.features.length>1?((0,i.wg)(),(0,i.iD)("div",ga,[B.value?((0,i.wg)(),(0,i.iD)("div",ba,[(0,i._)("div",ya,[(0,i.wy)((0,i._)("span",ka,[(0,i._)("img",{crossOrigin:"Anonymous",src:null===(w=Y.value)||void 0===w?void 0:w.markerURL,alt:null===(S=Y.value)||void 0===S?void 0:S.name},null,8,wa)],512),[[l.vShow,Y.value]]),(0,i.Uk)(),(0,i._)("div",Sa,[(0,i._)("span",xa,(0,n.toDisplayString)(null===(x=Y.value)||void 0===x?void 0:x.name),1)])])])):(0,i.kq)("",!0),(0,i.Uk)(),O.value.features.length>1?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i._)("button",{class:"btn btn-default btn-sm btn-outline marker-nav prev","aria-label":(0,r.SU)(p)("socialmap:previous"),onClick:t[6]||(t[6]=e=>z.value++)},_a,8,Da),(0,i.Uk)(),(0,i._)("button",{class:"btn btn-default btn-sm btn-outline marker-nav next","aria-label":(0,r.SU)(p)("socialmap:next"),onClick:t[7]||(t[7]=e=>L.value++)},Ia,8,Ua)],64)):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])])],2),[[l.vShow,ve.value]])],2)],2)),[[l.vShow,q.value]])}}},Fa=a(85676),ja={};ja.styleTagTransform=Ie(),ja.setAttributes=xe(),ja.insert=we().bind(null,"head"),ja.domAPI=ye(),ja.insertStyleElement=_e();ge()(Fa.Z,ja),Fa.Z&&Fa.Z.locals&&Fa.Z.locals;var Ma=Ca,Oa=a(1449),Pa=a(12138),Ea=a(19448),Aa=a.n(Ea);const qa={class:"component-privacy-consent"},Ta={class:"checkbox checkbox-single"},La=["id","value"],za=["for"],Za=["innerHTML"],Ha=(0,i._)("span",{class:"text-muted small"},"Required",-1),Na=["innerHTML"],Va={class:"help-block help-validation ljs"};var $a={__name:"PrivacyConsent",props:{uniqueId:{type:String,default:()=>`privacy-consent-${(0,Ve.Z)(1e7)}`},hasPrivacyConsent:{type:Number,required:!0},config:{type:Object,required:!0}},emits:["update:hasPrivacyConsent"],setup(e,t){const a=t.emit,o=e,s=(0,r.BK)(o),d=s.uniqueId,c=s.hasPrivacyConsent,u=s.config,m=(0,r.iH)(!1);function p(e){const t=e.target.checked;m.value=!t,a("update:hasPrivacyConsent",t?1:0)}return(e,t)=>((0,i.wg)(),(0,i.iD)("div",qa,[(0,i._)("div",{class:(0,n.normalizeClass)(["form-group privacy-consent",{"has-error":m.value}])},[(0,i._)("div",Ta,[(0,i._)("input",{id:(0,r.SU)(d),name:"hasPrivacyConsent",type:"checkbox",value:(0,r.SU)(c),onChange:p,required:"required"},null,40,La),(0,i.Uk)(),(0,i._)("label",{for:(0,r.SU)(d)},[(0,i._)("span",null,[(0,i._)("span",{class:"ljs",innerHTML:(0,r.SU)(u).label},null,8,Za),(0,i.Uk)(),Ha])],8,za),(0,i.Uk)(),(0,r.SU)(u).help?((0,i.wg)(),(0,i.iD)("p",{key:0,class:"help-text text-muted ljs",innerHTML:(0,r.SU)(u).help},null,8,Na)):(0,i.kq)("",!0)]),(0,i.Uk)(),(0,i.wy)((0,i._)("span",Va,"Please tick this box if you want to proceed.",512),[[l.vShow,m.value]])],2)]))}};const Ra={class:"component-honeypot"},Ba={class:"form-group sweets",style:{display:"none",visibility:"hidden"}},Ya=["for"],Wa=["id"],Ka=["for"],Ga=["id"],Xa=["for"],Ja=["id"];var Qa={__name:"Honeypot",props:{uniqueId:{type:String,default:()=>`sweeter-${(0,Ve.Z)(1e7)}`},insertYourEmail:{type:String,default:""},sweeterInput:{type:String,default:""},sweeterTextArea:{type:String,default:""}},emits:["update:insertYourEmail","update:sweeterInput","update:sweeterTextArea"],setup(e,t){const a=t.emit,n=e,l=(0,r.BK)(n).uniqueId;return(e,t)=>((0,i.wg)(),(0,i.iD)("div",Ra,[(0,i._)("div",Ba,[(0,i._)("label",{for:`insert-your-email-${(0,r.SU)(l)}`,class:"control-label"},"Ignore this field. It is used to detect spammers. If you enter anything into this text box, your submission will be rejected.",8,Ya),(0,i.Uk)(),(0,i._)("input",{type:"email",id:`insert-your-email-${(0,r.SU)(l)}`,name:"insert-your-email",onChange:t[0]||(t[0]=e=>a("update:insertYourEmail",e.target.value)),autocomplete:"nope",class:"form-control ccm-input-email"},null,40,Wa),(0,i.Uk)(),(0,i._)("label",{for:`sweeter-input-${(0,r.SU)(l)}`,class:"control-label"},"Ignore this field. It is used to detect spammers. If you enter anything into this text box, your submission will be rejected.",8,Ka),(0,i.Uk)(),(0,i._)("input",{type:"text",id:`sweeter-input-${(0,r.SU)(l)}`,name:"sweeter-input",onChange:t[1]||(t[1]=e=>a("update:sweeterInput",e.target.value)),autocomplete:"nope",class:"form-control ccm-input-text"},null,40,Ga),(0,i.Uk)(),(0,i._)("label",{for:`sweeter-text-area-${(0,r.SU)(l)}`,class:"control-label"},"Ignore this field. It is used to detect spammers. If you enter anything into this text box, your submission will be rejected.",8,Xa),(0,i.Uk)(),(0,i._)("textarea",{id:`sweeter-text-area-${(0,r.SU)(l)}`,name:"sweeter-text-area",autocomplete:"nope",class:"form-control",onChange:t[2]||(t[2]=e=>a("update:sweeterTextArea",e.target.value))},null,40,Ja)])]))}};function ei(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function ti(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(a),!0).forEach((function(t){ai(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ei(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ai(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ii=["id"];var ni={__name:"GoogleRecaptcha",props:{uniqueId:{type:String,default:()=>`g-recaptcha-${(0,Ve.Z)(1e7)}`},options:{type:Object,required:!0}},emits:["data","expired","error"],setup(e,t){let a=t.expose;const n=t.emit,l=e,d=(0,r.BK)(l),c=d.uniqueId,u=d.options,m=(0,r.iH)(null),p=(0,r.iH)(null),h=(0,r.iH)(null);async function v(){if(null!==p.value)return;const e={sitekey:"",theme:"light",size:"normal",badge:"bottomright",tabindex:0,callback:f,"expired-callback":g,"error-callback":b};window.grecaptcha.ready((function(){p.value=window.grecaptcha.render(m.value,ti(ti({},e),u.value))}))}if(void 0===window.grecaptcha){const e="https://www.google.com/recaptcha/api.js?render=explicit";(0,o.Pi8)(e,v,{async:!0,defer:!0})}const f=e=>{h.value=e,n("data",h)},g=()=>{h.value=null,n("expired")},b=e=>{h.value=null,n("error",e)};return(0,i.bv)((()=>{v()})),a({getCaptchaResponse:async function(){return null!==p.value?(window.grecaptcha.getResponse(p.value),h.value||await(0,s.C4)(h).toBeTruthy({timeout:5e3}),h.value):null},resetCaptcha:async function(){if(null!==p.value)return await window.grecaptcha.reset(p.value)},executeCaptcha:function(){var e;if(null!==p.value&&"invisible"===(null===(e=u.value)||void 0===e?void 0:e.size))return window.grecaptcha.execute(p.value)}}),(e,t)=>((0,i.wg)(),(0,i.iD)("div",{id:(0,r.SU)(c),class:"g-recaptcha",ref_key:"container",ref:m},null,8,ii))}};var ri=ni,li=a(77880);function oi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i,n,r,l,o=[],s=!0,d=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;s=!1}else for(;!(s=(i=r.call(a)).done)&&(o.push(i.value),o.length!==t);s=!0);}catch(e){d=!0,n=e}finally{try{if(!s&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return si(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return si(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function si(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}const di=e=>((0,i.dD)("data-v-74637471"),e=e(),(0,i.Cn)(),e),ci=["id","title"],ui=di((()=>(0,i._)("span",{class:"hive-style-two-pin-marker","aria-hidden":"true"},null,-1))),mi=["title"],pi=di((()=>(0,i._)("span",{class:"hive-style-two-pin-marker","aria-hidden":"true"},null,-1))),hi={class:"btn-label"},vi={class:"container-fluid"},fi={class:"row"},gi={class:"col-xs-12"},bi={class:"panel-content"},yi={class:"panel-title"},ki={class:"alerts-wrapper"},wi=di((()=>(0,i._)("div",{class:"form-message"},null,-1))),Si={key:0,class:"alert alert-info mod-login-lg js-alert-registered-only mod-nomargin"},xi={class:"mod-nomargin"},Di={href:"/register","data-toggle":"modal","data-target":"#signUpModal","data-remote":"false"},_i={href:"/login","data-toggle":"modal","data-target":"#loginModal","data-remote":"false"},Ui={class:"alert alert-info mod-login-lg mod-nomargin"},Ii={class:"mod-nomargin"},Ci=["aria-label"],Fi=[di((()=>(0,i._)("i",{class:"fa fa-times-circle","aria-hidden":"true"},null,-1)))],ji={class:"message-wrapper container-fluid"},Mi=["innerHTML"],Oi=["value"],Pi=["value"],Ei=["value"],Ai=["value"],qi=["value"],Ti=["value"],Li=["value"],zi={key:0,class:"form-group"},Zi=["for"],Hi={class:"ccm-required text-muted small"},Ni=["id"],Vi={value:"0",disabled:"",selected:""},$i=["value"],Ri=["value"],Bi={class:"text-right form-action-bar"},Yi=["disabled"],Wi=["disabled"],Ki={key:1,class:"alert alert-danger"},Gi={class:"mod-nomargin"},Xi=["aria-label"],Ji=[di((()=>(0,i._)("span",{class:"hive-close","aria-hidden":"true"},null,-1)))];var Qi={__name:"AddSubmission",props:{isDrawing:Boolean,isPreview:Boolean,submissionMode:Boolean,selectedTab:String,submissionMarker:Object,hasAddedMarker:Boolean,isSavingMarker:Boolean,hasSavedMarker:Boolean},emits:["onSubmissionSuccess","onSubmissionError","update:submissionMode","update:selectedTab","update:submissionMarker","update:hasAddedMarker","update:isSavingMarker","update:hasSavedMarker"],setup(e,t){const a=t.emit,o=e,s=(0,r.BK)(o),d=s.submissionMode,c=(s.selectedTab,s.submissionMarker),u=s.hasAddedMarker,m=s.isSavingMarker,p=s.hasSavedMarker,h=s.isPreview,v=s.isDrawing,f=(0,i.f3)("t"),g=((0,i.f3)("instanceId"),(0,i.f3)("uniqueId")),b=(0,i.f3)("clientStore"),y=(0,i.f3)("http"),k=(0,i.f3)("formState"),w=(0,i.f3)("deviceFeatures").isMobile,S=se((0,r.SU)(g)),x=(0,de.V)((0,r.SU)(g)),D=S.getMeta("blockHandle"),_=Number(S.getMeta("bID")),U=Number(S.getMeta("ftID")),C=(0,i.Fl)((()=>{var e;return Number(null===(e=S.user)||void 0===e?void 0:e.uID)||0})),F=(0,i.Fl)((()=>x.map)),j=(0,i.Fl)({get:()=>b.value.isFirstMarker,set:e=>b.value.isFirstMarker=e}),M=["hive-feedback-markers-cold","hive-feedback-markers-hot"],O=(0,i.Fl)((()=>S.getFieldValue("categories"))),P=(0,i.Fl)((()=>S.getFieldValue("forms"))),E=(0,i.Fl)((()=>S.getFieldValue("addMarkerLabel"))),A=((0,i.Fl)((()=>S.getFieldValue("commentLabel"))),(0,i.Fl)((()=>S.getFieldValue("commentRequired"))),(0,i.Fl)((()=>S.getFieldValue("limitCount"))),(0,i.Fl)((()=>S.getFieldValue("limitType"))),(0,i.Fl)((()=>S.getFieldValue("postingEnabled")))),q=(0,i.Fl)((()=>S.getFieldValue("requiresRegistration"))),T=(0,i.Fl)((()=>!(!h.value||!+A.value)||!!+A.value&&(!q.value||C.value>0))),L=(0,i.Fl)((()=>S.getFieldValue("successMessage"))),z=((0,i.Fl)((()=>S.getFieldValue("imageUploads"))),(0,i.Fl)((()=>S.getFieldValue("imageRequired"))),(0,i.Fl)((()=>S.getFieldValue("prepostModeration")))),Z=(0,i.Fl)((()=>S.getFieldValue("publicFeedback"))),H=(0,i.Fl)((()=>S.getFieldValue("privacyConsent"))),N=(0,i.Fl)((()=>S.getFieldValue("privacyConsentConfig"))),V=(0,i.Fl)((()=>S.getFieldValue("antispamConfig"))),R=(0,i.Fl)((()=>S.getFieldValue("displayCaptcha"))),B=(0,i.Fl)((()=>S.user)),Y=(0,i.Fl)((()=>S.userProfile)),W=(0,i.Fl)((()=>S.userAttributes)),K=(0,i.Fl)((()=>{var e;return null===(e=S.getFieldValue("layers"))||void 0===e?void 0:e.find((e=>"mask"===e.layerType))})),G=(0,i.Fl)((()=>{var e;return null===(e=K.value)||void 0===e?void 0:e.markerInsideLayer})),X=(0,i.Fl)((()=>{var e;return null===(e=K.value)||void 0===e?void 0:e.styleInvert})),J=(0,r.iH)(0),Q=(0,r.iH)(0),ee=(0,r.iH)({}),te=(0,r.iH)(""),ae=(0,r.iH)(null),ie=(0,r.iH)(null),ne=(0,Ne.P)(ie,{clickOutsideDeactivates:!0,allowOutsideClick:!1,preventScroll:!0}),re=ne.hasFocus,le=ne.activate,oe=ne.deactivate,ce=(0,r.iH)(),ue=async e=>{var t,i,n,r;if(e.preventDefault(),!he.value)return HiveAlerts.error({title:f("socialmap:category"),message:f("socialmap:categoryRequired")}),!1;if(!ce.value)return console.error("Form not found");const l=new FormData(ce.value.$el),o=l.get("lng"),s=l.get("lat"),d=l.get("ftID");if(!function(e,t){if(!e||!t)return console.error("Coordinates are missing"),!1;if(e<-180||e>180)return console.error("Longitude is out of bounds"),!1;if(t<-90||t>90)return console.error("Latitude is out of bounds"),!1;return!0}(o,s))return HiveAlerts.error({title:f("socialmap:markerPosition"),message:f("socialmap:invalidMarkerCoordinates")}),!1;if(!function(e,t){var a,i,n,r;if(!G.value)return!0;const l=null===(a=x.mapStyle)||void 0===a||null===(i=a.layers)||void 0===i?void 0:i.find((e=>e.id.startsWith("hive-mask-")));if(!l)return console.error("Mask layer not found"),!1;const o=null===(n=x.mapStyle)||void 0===n?void 0:n.sources[l.id];if(null==o||!o.data)return console.error("Mask source not found"),!1;const s=(0,Oa.xm)([e,t]),d=null==o?void 0:o.data,c=(0,Pa.Z)(s,d),u=Boolean(null==c||null===(r=c.features)||void 0===r?void 0:r.length);if(!X.value&&u||X.value&&u)return!1;return!0}(o,s))return HiveAlerts.error({title:f("socialmap:markerPosition"),message:f("socialmap:markerOutsideStudyArea")}),!1;var c;if(_e.value&&!De.value)return HiveAlerts.error({title:f("socialmap:privacyPolicy"),message:null===(c=N.value)||void 0===c?void 0:c.error}),!1;let u="recaptcha2invisible"===(null===(t=V.value)||void 0===t?void 0:t.library);var m;if(null===(i=ce.value)||void 0===i||i.setFormStatus({statusName:"spam",value:u}),we.value||Se.value||xe.value)return u=!0,null===(m=ce.value)||void 0===m||m.setFormStatus({statusName:"spam",value:u}),HiveAlerts.error({title:f("socialmap:spam"),message:f("socialmap:noBots")}),a("update:isSavingMarker",!1),!1;if(null!==(n=V.value)&&void 0!==n&&null!==(r=n.library)&&void 0!==r&&r.includes("recaptcha")){var p,v,g,b,k,w;a("update:isSavingMarker",!0),null===(p=be.value)||void 0===p||null===(v=p.executeCaptcha)||void 0===v||v.call(p);const e=await(null===(g=be.value)||void 0===g||null===(b=g.getCaptchaResponse)||void 0===b?void 0:b.call(g));l.set("g-recaptcha-response",e||""),null===(k=ce.value)||void 0===k||k.setElementData({inputName:"g-recaptcha-response",value:e||""}),u=!e,null===(w=ce.value)||void 0===w||w.setFormStatus({statusName:"spam",value:u})}if(ke.value&&u)return HiveAlerts.error({title:f("socialmap:spam"),message:f("socialmap:noBots")}),a("update:isSavingMarker",!1),!1;try{var U,I;a("update:isSavingMarker",!0);const e=await Ee(o,s);if(!e)return console.error("Invalid location");const t=(null===(U=e.features)||void 0===U?void 0:U[0])||{},i=t.address,n=t.place_type,r=t.context,c=t.text,u=t.place_name,m=t.center;if(!u)return HiveAlerts.error({title:f("socialmap:markerPosition"),message:f("socialmap:invalidMarkerPosition")}),!1;ee.value={address:i,place_type:n,context:r,text:c,place_name:u,center:m},te.value=u,ae.value={type:"Feature",geometry:{type:"Point",coordinates:[o,s]},properties:{address:i,place_type:n,context:r,text:c,place_name:u,center:m}},l.set("address",te.value),l.set("addressObj",JSON.stringify(ee.value)),l.set("geo",JSON.stringify(ae.value));if(!await ce.value.clientValidation())return;const p=await ce.value.serverValidation();if(null==p||!p.signed)return;const v=await ce.value.saveContribution(p.signed);if(null==v||!v.success)return;l.set("formValidationToken",p.signed),l.set("answerSetID",null===(I=v.feedback)||void 0===I?void 0:I.answerSetID);let g=S.getUrl("the_hive_social_map_{ftID}_submissions_create"),b=decodeURI(g);if(b=b.replace("{ftID}",d),h.value){new(Aa())(y,{delayResponse:2e3}).onPost(b).reply(200,{status:"success"})}const k=Object.fromEntries(l),w=(await y.post(b,k)).data;if("error"===(null==w?void 0:w.status))a("onSubmissionError",w),HiveAlerts.error({title:f("socialmap:submissionError"),message:(null==w?void 0:w.error_message)||f("socialmap:submissionErrorDesc")});else if("success"===(null==w?void 0:w.status)){a("onSubmissionSuccess",w),a("update:hasSavedMarker",!0);let e=f("socialmap:thankYouForFeedback");+z.value&&(e+=" "+f("socialmap:feedbackPendingModeration")),HiveAlerts.success({title:f("socialmap:submissionSuccess"),message:e}),j.value=!1,_paq.push(["trackEvent",D,"submit",`${_};${d}`]),$(window).trigger($.Event("feedback.hive",{bID:_,ftID:d}))}}catch(e){console.error(e)}finally{a("update:isSavingMarker",!1)}},me=((0,i.Fl)((()=>{let e=f("socialmap:disclaimer.publicResponse");switch(!0){case!+Z:e=f("socialmap:disclaimer.privateResponse");break;case B&&!!+B.isLoggedIn:e=f("socialmap:disclaimer.publicUsernameResponse");break;case!isEmpty(W)&&Object.keys(W.display).includes("username"):e=f("socialmap:disclaimer.publicScreenNameResponse")}return e})),(0,i.Fl)((()=>O.value.filter((e=>0!=e.scID))))),pe=(0,r.iH)(""),he=(0,i.Fl)((()=>O.value.find((e=>e.categoryID==pe.value)))),ve=(0,i.Fl)((()=>{var e;let t="hive-marker-default";he.value&&(t=`hive-marker-category-${he.value.scID}`);const a=((null===(e=x.mapImages)||void 0===e?void 0:e.find((e=>e.id===t)))||{}).image;if(!a)return!1;const i=a.cloneNode(!0),n=document.createElement("span");return n.classList.add("hive-marker"),i.after(n),n.appendChild(i),n}));(0,i.YP)(ve,(e=>{if(c.value&&c.value instanceof mapboxgl.Marker){c.value.remove();const t=new mapboxgl.Marker({element:e,offset:[0,-16]}).setLngLat([J.value,Q.value]).addTo(F.value);a("update:submissionMarker",t)}}));const fe=(0,r.iH)(null);(0,i.YP)(he,(e=>{var t;e&&(k.value.metadata["form-id"]=e.formID,k.value.metadata["form-version-id"]=e.formVersionID,fe.value=null===(t=P.value)||void 0===t?void 0:t.find((t=>!(!h.value||t.identifier!=e.formIdentifier)||!h.value&&t.form_id==e.formID)))}),{deep:!0});const ge=(0,i.Fl)((()=>{var e;return!!+A.value&&!!+T.value&&!p.value&&!v.value&&(null===(e=P.value)||void 0===e?void 0:e.length)})),be=(0,r.iH)(null),ye=(0,i.Fl)((()=>{if(!V.value&&!+R.value)return!1;switch(V.value.library){case"recaptcha2checkbox":return{name:ri,props:{options:{sitekey:V.value.recaptcha2checkbox.site_key,language:V.value.language||"auto",theme:V.value.theme||"light"}}};case"recaptcha2invisible":return{name:ri,props:{options:{sitekey:V.value.recaptcha2invisible.site_key,language:V.value.language||"auto",badge:V.value.badge||"bottomright",size:"invisible"}}};default:return!1}})),ke=(0,i.Fl)((()=>1==R.value||0!=R.value&&V.value&&!!+V.value.overridable&&!!+V.value.default)),we=(0,r.iH)(""),Se=(0,r.iH)(""),xe=(0,r.iH)("");(0,i.YP)(we,(e=>{var t;null===(t=ce.value)||void 0===t||t.setElementData({inputName:"insert-your-email",value:e})})),(0,i.YP)(Se,(e=>{var t;null===(t=ce.value)||void 0===t||t.setElementData({inputName:"sweeter-input",value:e})})),(0,i.YP)(xe,(e=>{var t;null===(t=ce.value)||void 0===t||t.setElementData({inputName:"sweeter-text-area",value:e})}));const De=(0,r.iH)(0),_e=(0,i.Fl)((()=>{var e,t;return 1==H||0!=H&&!!+(null===(e=N.value)||void 0===e?void 0:e.enabled)&&!!+(null===(t=N.value)||void 0===t?void 0:t.default)}));(0,i.YP)(De,(e=>{var t;null===(t=ce.value)||void 0===t||t.setElementData({inputName:"privacy-consent",value:e})}));const Ue=async e=>{a("update:selectedTab",null),a("update:submissionMode",!0)},Ie=async()=>{a("update:submissionMode",!1)};function Ce(e){const t=oi(e.result.center,2),i=t[0],n=t[1];p.value||(u.value||(F.value.easeTo({center:e.result.center}),c.value.addTo(F.value),a("update:hasAddedMarker",!0)),c.value.setLngLat([i,n]),J.value=i,Q.value=n)}function Fe(e){const t=e.lngLat,i=t.lng,n=t.lat;p.value||(u.value||(F.value.easeTo({center:e.lngLat}),c.value.addTo(F.value),a("update:hasAddedMarker",!0)),c.value.setLngLat([i,n]),J.value=i,Q.value=n)}function je(e){var t,a;p.value||null===(t=c.value)||void 0===t||null===(a=t.getElement())||void 0===a||a.classList.add("hive-marker-raised")}function Me(e){if(p.value)return;const t=F.value.getCenter(),a=t.lng,i=t.lat;c.value.setLngLat([a,i]),J.value=a,Q.value=i}function Oe(e){var t,a;if(p.value)return;null===(t=c.value)||void 0===t||null===(a=t.getElement())||void 0===a||a.classList.remove("hive-marker-raised");const i=F.value.getCenter();c.value.setLngLat(i),J.value=i.lng,Q.value=i.lat}function Pe(e){var t,a;if(p.value)return;null===(t=c.value)||void 0===t||null===(a=t.getElement())||void 0===a||a.classList.remove("hive-marker-raised");const i=F.value.getCenter(),n=i.lng,r=i.lat;c.value.setLngLat([n,r]),J.value=n,Q.value=r}(0,i.YP)(d,(async e=>{if(M.forEach((t=>{F.value.setPaintProperty(t,"icon-opacity",e?.5:1)})),e){const e=ve.value,t=F.value.getCenter(),n=t.lng,r=t.lat,l=new mapboxgl.Marker({element:e,offset:[0,-16]}).setLngLat([n,r]);if(a("update:submissionMarker",l),J.value=n,Q.value=r,await(0,i.Y3)(),w.value)F.value._cooperativeGestures=!1,c.value.addTo(F.value),F.value.on("touchstart",je),F.value.on("touchmove",Me),F.value.on("touchend",Oe),F.value.on("moveend",Pe),a("update:hasAddedMarker",!0);else{const e=document.querySelector(`#map-toolbar-${g} .mapboxgl-ctrl-geocoder input`);e&&e.focus(),x.mapControls.GeocoderControl.on("result",Ce),F.value.on("click",Fe)}}else w.value&&(F.value._cooperativeGestures=!0),x.mapControls.GeocoderControl.off("result",Ce),F.value.off("click",Fe),F.value.off("touchstart",je),F.value.off("touchmove",Me),F.value.off("touchend",Oe),F.value.off("moveend",Pe),function(){a("update:hasAddedMarker",!1),a("update:isSavingMarker",!1),a("update:hasSavedMarker",!1),J.value=null,Q.value=null,ee.value=null,te.value=null,ae.value=null,c.value&&c.value instanceof mapboxgl.Marker&&c.value.remove();De.value=0}()}),{flush:"post"}),(0,i.YP)(u,(e=>{e?le():re&&oe()}),{flush:"post"});const Ee=async(e,t)=>{try{var a;const i=function(e){let t=e.accessToken;const a={limit:1},i=(0,r.iH)(null),n=e=>{i.value=(0,r.SU)(e)};return{setOptions:n,forwardGeocode:async function(){const e=`https://api.mapbox.com/geocoding/v5/${arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mapbox.places"}/${arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}.json`;return e.searchParams.set("access_token",t),i.value||n(a),await I.Z.get(e.toString(),{params:(0,r.SU)(i)})},reverseGeocode:async function(e,l){const o=new URL(`https://api.mapbox.com/geocoding/v5/${arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mapbox.places"}/${e},${l}.json`);return o.searchParams.set("access_token",t),i.value||n(a),await I.Z.get(o.toString(),{params:(0,r.SU)(i)})}}}({accessToken:S.getFieldValue("accessToken")}),n=(await i.reverseGeocode(e,t)).data;return!(null==n||null===(a=n.features)||void 0===a||!a.length)&&n}catch(e){console.error(e)}};return(0,i.bv)((async()=>{var e;pe.value=1==(null===(e=me.value)||void 0===e?void 0:e.length)?me.value[0].categoryID:0})),(0,i.Jd)((()=>{re&&oe()})),(e,t)=>{var a;return(0,i.wg)(),(0,i.iD)("div",{class:(0,n.normalizeClass)([{mobile:(0,r.SU)(w)},"hive-social-map-block add-hive-submission"]),ref_key:"panel",ref:ie,tabindex:"-1"},[(0,i.wy)((0,i._)("button",{type:"button",class:"btn btn-primary add-marker text-center","data-ui-id":"btn-add-marker",id:`add-marker-${(0,r.SU)(_)}`,title:E.value||(0,r.SU)(f)("socialmap:addMarker"),onClick:Ue},[ui,(0,i.Uk)(),(0,i._)("span",{class:(0,n.normalizeClass)(["btn-label",{ljs:E.value}])},(0,n.toDisplayString)(E.value||(0,r.SU)(f)("socialmap:addMarker")),3)],8,ci),[[l.vShow,!(0,r.SU)(d)&&!(0,r.SU)(u)&&!(0,r.SU)(v)]]),(0,i.Uk)(),(0,i.wy)((0,i._)("button",{type:"button",class:"btn btn-default btn-cancel add-marker text-center",title:(0,r.SU)(f)("socialmap:cancel"),onClick:Ie},[pi,(0,i.Uk)(),(0,i._)("span",hi,(0,n.toDisplayString)((0,r.SU)(f)("socialmap:cancel")),1)],8,mi),[[l.vShow,(0,r.SU)(d)]]),(0,i.Uk)(),(0,r.SU)(u)?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,n.normalizeClass)([{offset:(0,r.SU)(w)},"hive-submission-form pin-details-wrapper form-wrapper panel-full panel-right"])},[(0,i._)("div",vi,[(0,i._)("div",fi,[(0,i._)("div",gi,[(0,i._)("div",bi,[(0,i._)("h4",yi,(0,n.toDisplayString)((0,r.SU)(f)("socialmap:addMarker")),1),(0,i.Uk)(),(0,i._)("div",ki,[wi,(0,i.Uk)(),+T.value?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",Si,[(0,i._)("p",xi,[(0,i.Uk)((0,n.toDisplayString)((0,r.SU)(f)("socialmap:joinConversationToday"))+" ",1),(0,i._)("a",Di,(0,n.toDisplayString)((0,r.SU)(f)("socialmap:signUp")),1),(0,i.Uk)(" "+(0,n.toDisplayString)((0,r.SU)(f)("socialmap:or"))+" ",1),(0,i._)("a",_i,(0,n.toDisplayString)((0,r.SU)(f)("socialmap:login")),1),(0,i.Uk)(" "+(0,n.toDisplayString)((0,r.SU)(f)("socialmap:registrationRequiredPromptSuffix")),1)])])),(0,i.Uk)(),(0,i.wy)((0,i._)("div",Ui,[(0,i._)("p",Ii,(0,n.toDisplayString)((0,r.SU)(f)("socialmap:touchInstructions")),1),(0,i.Uk)(),(0,i._)("a",{href:"#",class:"close","data-dismiss":"alert","aria-label":(0,r.SU)(f)("socialmap:dismiss")},Fi,8,Ci)],512),[[l.vShow,(0,r.SU)(w)&&!(0,r.SU)(h)&&j.value]])]),(0,i.Uk)(),(0,i.wy)((0,i._)("div",ji,[(0,i._)("div",{class:"message text-center alert-success ljs",innerHTML:L.value},null,8,Mi),(0,i.Uk)(),(0,i._)("button",{type:"button",class:"btn btn-primary btn-outline btn-block btn-cancel",onClick:Ie},(0,n.toDisplayString)((0,r.SU)(f)("socialmap:close")),1)],512),[[l.vShow,(0,r.SU)(p)]]),(0,i.Uk)(),ge.value?((0,i.wg)(),(0,i.j4)(li.Z,{ref_key:"formRef",ref:ce,user:Y.value,formObject:fe.value,previewMode:(0,r.SU)(h),key:null===(a=fe.value)||void 0===a?void 0:a.formID},{beforeForm:(0,i.w5)((()=>[(0,i._)("input",{type:"hidden",name:"ftID",value:(0,r.SU)(U)},null,8,Oi),(0,i.Uk)(),(0,i._)("input",{type:"hidden",name:"bID",value:(0,r.SU)(_)},null,8,Pi),(0,i.Uk)(),(0,i._)("input",{type:"hidden",name:"lng",value:J.value},null,8,Ei),(0,i.Uk)(),(0,i._)("input",{type:"hidden",name:"lat",value:Q.value},null,8,Ai),(0,i.Uk)(),(0,i._)("input",{type:"hidden",name:"address",value:te.value},null,8,qi),(0,i.Uk)(),(0,i._)("input",{type:"hidden",name:"addressObj",value:JSON.stringify(ee.value)},null,8,Ti),(0,i.Uk)(),(0,i._)("input",{type:"hidden",name:"geo",value:JSON.stringify(ae.value)},null,8,Li),(0,i.Uk)(),me.value.length>1?((0,i.wg)(),(0,i.iD)("div",zi,[(0,i._)("label",{for:`mapSubmissionCategory-${(0,r.SU)(g)}`},[(0,i._)("span",null,(0,n.toDisplayString)((0,r.SU)(f)("socialmap:category")),1),(0,i.Uk)(),(0,i._)("span",Hi,(0,n.toDisplayString)((0,r.SU)(f)("socialmap:required")),1)],8,Zi),(0,i.Uk)(),(0,i.wy)((0,i._)("select",{id:`mapSubmissionCategory-${(0,r.SU)(g)}`,name:"category","onUpdate:modelValue":t[0]||(t[0]=e=>pe.value=e),class:"form-control",required:""},[(0,i._)("option",Vi,(0,n.toDisplayString)((0,r.SU)(f)("socialmap:selectCategory")),1),(0,i.Uk)(),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(me.value,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e.categoryID,value:e.categoryID,class:"ljs"},(0,n.toDisplayString)(e.name),9,$i)))),128))],8,Ni),[[l.vModelSelect,pe.value]])])):((0,i.wg)(),(0,i.iD)("input",{key:1,type:"hidden",name:"category",value:pe.value},null,8,Ri))])),afterForm:(0,i.w5)((()=>[he.value&&_e.value?((0,i.wg)(),(0,i.j4)($a,{key:0,hasPrivacyConsent:De.value,"onUpdate:hasPrivacyConsent":t[1]||(t[1]=e=>De.value=e),config:N.value},null,8,["hasPrivacyConsent","config"])):(0,i.kq)("",!0),(0,i.Uk)(),he.value?((0,i.wg)(),(0,i.j4)(Qa,{key:1,insertYourEmail:we.value,"onUpdate:insertYourEmail":t[2]||(t[2]=e=>we.value=e),sweeterInput:Se.value,"onUpdate:sweeterInput":t[3]||(t[3]=e=>Se.value=e),sweeterTextArea:xe.value,"onUpdate:sweeterTextArea":t[4]||(t[4]=e=>xe.value=e)},null,8,["insertYourEmail","sweeterInput","sweeterTextArea"])):(0,i.kq)("",!0),(0,i.Uk)(),he.value&&ke.value?((0,i.wg)(),(0,i.j4)((0,i.LL)(ye.value.name),(0,i.dG)({key:2},ye.value.props,{ref_key:"antispamComponentInstance",ref:be}),null,16)):(0,i.kq)("",!0),(0,i.Uk)(),(0,i._)("div",Bi,[(0,i._)("button",{type:"button",class:"btn btn-default btn-outline btn-cancel",disabled:(0,r.SU)(m),onClick:Ie},(0,n.toDisplayString)((0,r.SU)(f)("socialmap:cancel")),9,Yi),(0,i.Uk)(),(0,i._)("button",{type:"submit",disabled:(0,r.SU)(m),class:(0,n.normalizeClass)([{"is-loading":(0,r.SU)(m)},"btn btn-primary"]),onClick:ue},(0,n.toDisplayString)((0,r.SU)(f)("socialmap:submit")),11,Wi)])])),_:1},8,["user","formObject","previewMode"])):(0,i.kq)("",!0),(0,i.Uk)(),P.value.length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",Ki,[(0,i._)("p",Gi,(0,n.toDisplayString)((0,r.SU)(f)("socialmap:unexpectedError")),1)])),(0,i.Uk)(),(0,i._)("button",{type:"button",class:"btn btn-close btn-cancel",onClick:Ie,"aria-label":(0,r.SU)(f)("socialmap:close")},Ji,8,Xi)])])])])],2)):(0,i.kq)("",!0)],2)}}},en=a(27421),tn={};tn.styleTagTransform=Ie(),tn.setAttributes=xe(),tn.insert=we().bind(null,"head"),tn.domAPI=ye(),tn.insertStyleElement=_e();ge()(en.Z,tn),en.Z&&en.Z.locals&&en.Z.locals;var an=(0,Oe.Z)(Qi,[["__scopeId","data-v-74637471"]]);const nn=e=>((0,i.dD)("data-v-8e21c7d6"),e=e(),(0,i.Cn)(),e),rn={class:"map-dock"},ln=["id"],on=["id"],sn=["title"],dn=nn((()=>(0,i._)("i",{class:"hive-list-bullets","aria-hidden":"true"},null,-1))),cn={class:"sr-only"},un=["title"],mn=nn((()=>(0,i._)("i",{class:"hive-layers","aria-hidden":"true"},null,-1))),pn={class:"sr-only"},hn=["title"],vn=nn((()=>(0,i._)("i",{class:"hive-maps","aria-hidden":"true"},null,-1))),fn={class:"sr-only"},gn=["id"],bn={class:"map-base-wrapper panel-left panel-popout"},yn={class:"sr-only"},kn={class:"map-base-grid"},wn=["id","value","aria-label","checked","onChange"],Sn=["for"],xn=["src","alt"],Dn=nn((()=>(0,i._)("i",{class:"hive-check hidden"},null,-1))),_n=["aria-label"],Un=[nn((()=>(0,i._)("span",{class:"hive-close","aria-hidden":"true"},null,-1)))],In={class:"map-categories-wrapper panel-left panel-popout"},Cn={class:"sr-only"},Fn={class:"cat-items"},jn=["for"],Mn=["src"],On=["id","value","checked"],Pn=nn((()=>(0,i._)("span",{"aria-hidden":"true"},null,-1))),En=["aria-label"],An=[nn((()=>(0,i._)("span",{class:"hive-close","aria-hidden":"true"},null,-1)))],qn={class:"map-layers-wrapper panel-left panel-popout"},Tn={class:"sr-only"},Ln={class:"layer-info togglable"},zn={key:0,class:"legend-item"},Zn=["for"],Hn=["id","value","checked"],Nn=nn((()=>(0,i._)("span",{"aria-hidden":"true"},null,-1))),Vn={key:0,class:"legend-list"},$n=["aria-label"],Rn=[nn((()=>(0,i._)("span",{class:"hive-close","aria-hidden":"true"},null,-1)))];var Bn={__name:"MapDock",props:{isPreview:Boolean,selectedTab:String,selectedLayerIds:Array,selectedCategoryIds:Array,hiveDeletedCategories:Array},emits:["mounted","unmounted","update:selectedTab","update:selectedLayerIds","update:selectedCategoryIds"],setup(e,t){const a=t.emit,o=e,s=(0,r.BK)(o),d=s.selectedTab,c=s.selectedLayerIds,u=s.selectedCategoryIds,m=s.hiveDeletedCategories,p=(0,i.f3)("t"),h=((0,i.f3)("instanceId"),(0,i.f3)("uniqueId")),v=(0,i.f3)("deviceFeatures").isMobile,f=se((0,r.SU)(h)),g=(0,de.V)((0,r.SU)(h)),b=f.getMeta("bID"),y=f.getMeta("packagePath"),k=f.getMeta("blockHandle"),w=(0,r.iH)(null),S=(0,Ne.P)(w,{clickOutsideDeactivates:!0,allowOutsideClick:!1,preventScroll:!0}),x=S.hasFocus,D=S.activate,_=S.deactivate,U=(0,i.Fl)((()=>g.map)),I=(0,i.Fl)((()=>f.getFieldValue("submissions"))),C=(0,i.Fl)((()=>f.getFieldValue("submissionsNew"))),F=(0,i.Fl)((()=>f.getFieldValue("categories"))),O=(0,i.Fl)((()=>f.getFieldValue("layers"))),P=(0,i.Fl)((()=>f.getFieldValue("publicFeedback"))),E=(0,i.Fl)((()=>f.getFieldValue("displayCategories"))),A=(0,i.Fl)((()=>f.getFieldValue("baseMaps"))),q=(0,i.Fl)((()=>{let e;try{e=JSON.parse(A.value)}catch(t){e=A.value}return e})),T=(0,i.Fl)({get:()=>f.getFieldValue("defaultBasemap"),set:e=>f.setFieldValue("defaultBasemap",e)}),L=e=>{a("update:selectedTab",d===e?null:e)},z=()=>{a("update:selectedTab",null)},Z=e=>{const t=e.target.value,i=e.target.checked;let n=[...u.value];i?n.push(t):n=n.filter((e=>e!==t)),n.push(...m.value.map((e=>`hive-marker-category-${e.scID}`))),a("update:selectedCategoryIds",n);const r=["in",["get","categoryImageID"],["literal",n]];g.applyOverride({type:"source",id:"hive-feedback-markers-cold",object:{filter:r,data:I.value}}),g.applyOverride({type:"source",id:"hive-feedback-markers-hot",object:{filter:r,data:C.value}})},H=(0,i.Fl)((()=>{var e,t,a;return null===(e=U.value)||void 0===e||null===(t=e.getStyle())||void 0===t||null===(a=t.layers)||void 0===a?void 0:a.filter((e=>e.id.includes("hive-")))})),N=(0,i.Fl)((()=>{var e;return null===(e=H.value)||void 0===e?void 0:e.filter((e=>["hive-home","hive-feedback-markers-hot","hive-feedback-markers-cold","hive-mask","hive-basemap"].every((t=>!e.id.includes(t)))))})),V=(0,i.Fl)((()=>O.value.filter((e=>{const t=e.layerType;return!["mask"].includes(t)})))),$=e=>{var t;const i=e.target.value,n=e.target.checked;let r=[...c.value];n?r.push(i):r=c.value.filter((e=>e!==i)),a("update:selectedLayerIds",r);const l=null===(t=N.value)||void 0===t?void 0:t.filter((e=>e.source===i));null==l||l.forEach((e=>{g.applyOverride({type:"layer",id:e.id,object:{id:e.id,layout:{visibility:n?"visible":"none"}}})}))},R=e=>{var t,a;if(!e.legend||null===(t=e.legend)||void 0===t||null===(a=t.data)||void 0===a||!a.length)return!1;const i=e.legend.data,n=i[0];let r=[n.title,n.strokeColor,..."LineString"===e.geometry?[]:[n.fillColor]].map((e=>"string"==typeof e&&e.toUpperCase())),l=[e.layerLabel,e.strokeColor,..."LineString"===e.geometry?[]:[e.fillColor]].map((e=>"string"==typeof e&&e.toUpperCase()));return i.length>1||1==i.length&&!(0,M.Z)(r,l)};return(0,i.YP)(d,(async e=>{e&&!["categories","layers","basemap"].includes(e)||(await(0,i.Y3)(),e&&D(),!e&&x&&_())})),(0,i.bv)((()=>{a("mounted"),a("update:selectedLayerIds",O.value.map((e=>`hive-${e.layerType}-${e.layerID}`))),a("update:selectedCategoryIds",[...(m.value||[]).map((e=>`hive-marker-category-${e.scID}`)),...(F.value||[]).map((e=>`hive-marker-category-${e.scID}`))])})),(0,i.Ah)((()=>{a("unmounted")})),(e,t)=>{var a,o,s;return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",rn,[(0,i._)("div",{id:`map-dock-info-${(0,r.SU)(b)}`,class:"btn-map hidden-sm hidden-md hidden-lg"},null,8,ln),(0,i.Uk)(),(0,i._)("div",{id:`map-dock-instructions-${(0,r.SU)(b)}`,class:"btn-map hidden-sm hidden-md hidden-lg"},null,8,on),(0,i.Uk)(),+P.value&&+E.value&&null!==(a=F.value)&&void 0!==a&&a.length?((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",class:(0,n.normalizeClass)([{selected:"categories"===(0,r.SU)(d)},"btn-map btn-map-category"]),title:(0,r.SU)(p)("socialmap:categories"),onClick:t[0]||(t[0]=e=>L("categories"))},[dn,(0,i.Uk)(),(0,i._)("span",cn,(0,n.toDisplayString)((0,r.SU)(p)("socialmap:categories")),1)],10,sn)):(0,i.kq)("",!0),(0,i.Uk)(),V.value.length?((0,i.wg)(),(0,i.iD)("button",{key:1,type:"button",class:(0,n.normalizeClass)([{selected:"layers"===(0,r.SU)(d)},"btn-map btn-map-layers"]),title:(0,r.SU)(p)("socialmap:layers"),onClick:t[1]||(t[1]=e=>L("layers"))},[mn,(0,i.Uk)(),(0,i._)("span",pn,(0,n.toDisplayString)((0,r.SU)(p)("socialmap:layers")),1)],10,un)):(0,i.kq)("",!0),(0,i.Uk)(),(null===(o=q.value)||void 0===o?void 0:o.enabled.length)>1?((0,i.wg)(),(0,i.iD)("button",{key:2,type:"button",class:(0,n.normalizeClass)([{selected:"basemap"===(0,r.SU)(d)},"btn-map btn-map-base"]),title:(0,r.SU)(p)("socialmap:basemap"),onClick:t[2]||(t[2]=e=>L("basemap"))},[vn,(0,i.Uk)(),(0,i._)("span",fn,(0,n.toDisplayString)((0,r.SU)(p)("socialmap:basemap")),1)],10,hn)):(0,i.kq)("",!0),(0,i.Uk)(),(0,i._)("div",{id:`map-dock-share-${(0,r.SU)(b)}`,class:"btn-map hidden-sm hidden-md hidden-lg"},null,8,gn)]),(0,i.Uk)(),(0,i._)("div",{class:(0,n.normalizeClass)([{"mobile inset map-panels":(0,r.SU)(v)},"map-dock-panels"]),ref_key:"panel",ref:w,tabindex:"-1"},[(0,i.wy)((0,i._)("div",bn,[(0,i._)("h5",null,(0,n.toDisplayString)((0,r.SU)(p)("socialmap:basemaps")),1),(0,i.Uk)(),(0,i._)("fieldset",null,[(0,i._)("legend",yn,(0,n.toDisplayString)((0,r.SU)(p)("socialmap:selectBasemap")),1),(0,i.Uk)(),(0,i._)("div",kn,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(null===(s=q.value)||void 0===s?void 0:s.enabled,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"text-center",key:e},[(0,i._)("input",{type:"radio",id:`${(0,r.SU)(h)}-${e}`,class:"image-checkbox-input",name:"baseMap",value:e,"aria-label":(0,r.SU)(p)(`socialmap:basemapOptions.${e}`),checked:e==T.value,onChange:t=>T.value=e},null,40,wn),(0,i.Uk)(),(0,i._)("label",{class:(0,n.normalizeClass)([{"image-checkbox-checked":e==T.value},"image-checkbox"]),for:`${(0,r.SU)(h)}-${e}`},[(0,i._)("img",{class:"img-responsive",src:`${(0,r.SU)(y)}/images/${(0,r.SU)(k)}/basemap_${e}.jpg`,alt:e},null,8,xn),(0,i.Uk)(" "+(0,n.toDisplayString)((0,r.SU)(p)(`socialmap:basemapOptions.${e}`))+" ",1),Dn],10,Sn)])))),128))])]),(0,i.Uk)(),(0,i._)("button",{type:"button",class:"btn btn-close btn-cancel",onClick:t[3]||(t[3]=e=>z()),"aria-label":(0,r.SU)(p)("socialmap:close")},Un,8,_n)],512),[[l.vShow,"basemap"===(0,r.SU)(d)]]),(0,i.Uk)(),(0,i.wy)((0,i._)("div",In,[(0,i._)("h5",null,(0,n.toDisplayString)((0,r.SU)(p)("socialmap:categories")),1),(0,i.Uk)(),(0,i._)("fieldset",null,[(0,i._)("legend",Cn,(0,n.toDisplayString)((0,r.SU)(p)("socialmap:categories")),1),(0,i.Uk)(),(0,i._)("ul",Fn,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(F.value,(e=>((0,i.wg)(),(0,i.iD)("li",{class:"cat-item togglable",key:e.categoryID},[(0,i._)("label",{class:"check-switch cat-name ljs",for:`${(0,r.SU)(h)}-${(0,r.SU)(b)}-${e.scID}`},[(0,i._)("i",{class:(0,n.normalizeClass)(`marker scID-${e.scID}`)},[(0,i._)("img",{crossorigin:"Anonymous",src:e.markerURL,alt:"",width:"64",height:"90"},null,8,Mn)],2),(0,i.Uk)(" "+(0,n.toDisplayString)(e.name)+" ",1),(0,i._)("input",{type:"checkbox",id:`${(0,r.SU)(h)}-${(0,r.SU)(b)}-${e.scID}`,value:`hive-marker-category-${e.scID}`,checked:(0,r.SU)(u).includes(`hive-marker-category-${e.scID}`),onChange:Z},null,40,On),(0,i.Uk)(),Pn],8,jn)])))),128)),(0,i.Uk)()])]),(0,i.Uk)(),(0,i._)("button",{type:"button",class:"btn btn-close btn-cancel",onClick:t[4]||(t[4]=e=>z()),"aria-label":(0,r.SU)(p)("socialmap:close")},An,8,En)],512),[[l.vShow,"categories"===(0,r.SU)(d)]]),(0,i.Uk)(),(0,i.wy)((0,i._)("div",qn,[(0,i._)("h5",null,(0,n.toDisplayString)((0,r.SU)(p)("socialmap:layers")),1),(0,i.Uk)(),(0,i._)("fieldset",null,[(0,i._)("legend",Tn,(0,n.toDisplayString)((0,r.SU)(p)("socialmap:selectLayers")),1),(0,i.Uk)(),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(V.value,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"layer",key:e.layerID},[(0,i._)("div",Ln,[(0,r.SU)(j.Z)(e.legend)||1!=e.legend.data.length||R(e)?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("span",zn,["circle"==e.legend.data[0].style?((0,i.wg)(),(0,i.iD)("span",{key:0,class:"legend-symbol circle",style:(0,n.normalizeStyle)(`background-color: ${e.legend.data[0].fillColor};border: 2px solid ${e.legend.data[0].strokeColor};border-radius: 50%;`)},null,4)):(0,i.kq)("",!0)])),(0,i.Uk)(),(0,i._)("label",{class:"check-switch ljs",for:`${(0,r.SU)(h)}-${e.layerType}-${e.layerID}`},[(0,i.Uk)((0,n.toDisplayString)(e.layerLabel||e.layerType)+" ",1),(0,i._)("input",{type:"checkbox",id:`${(0,r.SU)(h)}-${e.layerType}-${e.layerID}`,value:`hive-${e.layerType}-${e.layerID}`,checked:(0,r.SU)(c).includes(`hive-${e.layerType}-${e.layerID}`),onChange:$},null,40,Hn),(0,i.Uk)(),Nn],8,Zn)]),(0,i.Uk)(),R(e)?((0,i.wg)(),(0,i.iD)("ul",Vn,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.legend.data,(e=>((0,i.wg)(),(0,i.iD)("li",{class:"legend-item ljs",key:e.legendID},["circle"==e.style?((0,i.wg)(),(0,i.iD)("span",{key:0,class:"legend-symbol circle",style:(0,n.normalizeStyle)(`background-color: ${e.fillColor};border: 2px solid ${e.strokeColor};border-radius: 50%;`)},null,4)):(0,i.kq)("",!0),(0,i.Uk)(" "+(0,n.toDisplayString)(e.title),1)])))),128))])):(0,i.kq)("",!0)])))),128))]),(0,i.Uk)(),(0,i._)("button",{type:"button",class:"btn btn-close btn-cancel",onClick:t[5]||(t[5]=e=>z()),"aria-label":(0,r.SU)(p)("socialmap:close")},Rn,8,$n)],512),[[l.vShow,"layers"===(0,r.SU)(d)]])],2)],64)}}},Yn=a(43922),Wn={};Wn.styleTagTransform=Ie(),Wn.setAttributes=xe(),Wn.insert=we().bind(null,"head"),Wn.domAPI=ye(),Wn.insertStyleElement=_e();ge()(Yn.Z,Wn),Yn.Z&&Yn.Z.locals&&Yn.Z.locals;var Kn=(0,Oe.Z)(Bn,[["__scopeId","data-v-8e21c7d6"]]);const Gn=e=>((0,i.dD)("data-v-059a1467"),e=e(),(0,i.Cn)(),e),Xn=["title"],Jn=Gn((()=>(0,i._)("i",{class:"hive-information-circle","aria-hidden":"true"},null,-1))),Qn={class:"sr-only"},er=["title"],tr=Gn((()=>(0,i._)("i",{class:"hive-question-circle","aria-hidden":"true"},null,-1))),ar={class:"sr-only"},ir=["title"],nr=Gn((()=>(0,i._)("i",{class:"hive-share","aria-hidden":"true"},null,-1))),rr={class:"sr-only"},lr={key:0,class:"map-top-bar"},or={class:"top-bar-left"},sr=["title"],dr=Gn((()=>(0,i._)("i",{class:"hive-information-circle","aria-hidden":"true"},null,-1))),cr={class:"sr-only"},ur=["title"],mr=Gn((()=>(0,i._)("i",{class:"hive-question-circle","aria-hidden":"true"},null,-1))),pr={class:"sr-only"},hr=["id"],vr=[Gn((()=>(0,i._)("div",{class:"geocoder-wrapper"},null,-1)))],fr={class:"geolocate-wrapper"},gr={key:0,class:"bookmarks-wrapper"},br={for:"",class:"sr-only"},yr={selected:"true",disabled:"disabled"},kr={value:"home"},wr=["value"],Sr=["title"],xr=Gn((()=>(0,i._)("i",{class:"hive-share","aria-hidden":"true"},null,-1))),Dr={class:"sr-only"},_r=["title"],Ur={class:"sr-only"},Ir={class:"panel-content"},Cr={class:"panel-title ljs"},Fr=["innerHTML"],jr={key:0,class:"map-categories"},Mr={class:"cat-icon"},Or=["src","alt"],Pr={class:"cat-info"},Er={class:"cat-name"},Ar={key:0,class:"cat-label"},qr=["aria-label"],Tr=[Gn((()=>(0,i._)("span",{class:"hive-close","aria-hidden":"true"},null,-1)))],Lr={class:"panel-left-footer"},zr={class:"map-instructions"},Zr={class:"map-help-wrapper"},Hr={class:"panel-content"},Nr={class:"panel-title"},Vr=["innerHTML"],$r=["aria-label"],Rr=[Gn((()=>(0,i._)("span",{class:"hive-close","aria-hidden":"true"},null,-1)))];var Br={__name:"MapToolbar",props:{isPreview:{type:Boolean,default:!1},selectedTab:String,fullscreen:{type:Boolean,default:!1}},emits:["update:fullscreen","update:selectedTab"],setup(e,t){const a=t.emit,o=e,s=(0,r.BK)(o),d=s.isPreview,c=s.fullscreen,u=s.selectedTab,m=(0,i.f3)("t"),p=((0,i.f3)("instanceId"),(0,i.f3)("uniqueId")),h=(0,i.f3)("clientStore"),v=se((0,r.SU)(p)),f=(0,de.V)((0,r.SU)(p)),g=v.getMeta("bID"),b=(0,r.iH)(null),y=(0,Ne.P)(b,{clickOutsideDeactivates:!0,allowOutsideClick:!1,preventScroll:!0}),k=y.hasFocus,w=y.activate,S=y.deactivate,x=(0,i.Fl)((()=>f.map)),D=(0,i.Fl)((()=>v.getFieldValue("categories"))),_=(0,i.Fl)((()=>v.getFieldValue("reportsMode"))),U=(0,i.Fl)((()=>v.getFieldValue("markersInInfo"))),I=(0,i.Fl)((()=>v.getFieldValue("lockExtent"))),C=(0,i.Fl)((()=>v.getFieldValue("bookmarks"))),F=(0,i.Fl)((()=>v.getFieldValue("displayBookmarks"))),j=(0,i.Fl)((()=>v.getFieldValue("infoTitle"))),M=(0,i.Fl)((()=>v.getFieldValue("infoContent"))),O=(0,i.Fl)((()=>v.getFieldValue("instructionContent"))),P=(0,i.Fl)((()=>v.getFieldValue("mapLat"))),E=(0,i.Fl)((()=>v.getFieldValue("mapLon"))),A=(0,i.Fl)((()=>v.getFieldValue("mapZoomLevel"))),q=(0,i.Fl)((()=>v.getFieldValue("mapBearing"))),T=(0,i.Fl)((()=>v.getFieldValue("mapPitch"))),L=(0,i.Fl)((()=>v.getFieldValue("infoOnLoad"))),z=async e=>{a("update:selectedTab",u.value==e?null:e),await(0,i.Y3)(),e?w():k&&S()},Z=()=>{a("update:selectedTab",null),k&&S()},H=e=>{var t;const a=e.target.value,i=null===(t=C.value)||void 0===t?void 0:t.find((e=>e.bookmarkID==a));"home"===a?x.value.flyTo({center:[E.value,P.value],zoom:A.value,bearing:q.value,pitch:T.value}):i?x.value.flyTo({center:[i.bookmarkLon,i.bookmarkLat],zoom:i.bookmarkZoomLevel,bearing:q.value,pitch:T.value}):console.error("Bookmark not found")},N=()=>{try{navigator.share({url:location.href},{copy:!1,email:!1,print:!1,sms:!1,messenger:!1,facebook:!0,whatsapp:!1,twitter:!0,linkedin:!0,telegram:!1,skype:!1,pinterest:!1,line:!1})}catch(e){console.error(e)}},V=async()=>{a("update:fullscreen",!c.value),await(0,i.Y3)(),x.value.resize()},$=(0,i.Fl)((()=>{if(D.value)return D.value.filter((e=>0!=e.scID))})),R=(0,i.Fl)((()=>{var e;return!!M.value||!!+U.value&&(null===(e=$.value)||void 0===e?void 0:e.length)})),B=(0,i.Fl)((()=>!!+F.value&&C.value.length)),Y=(0,i.Fl)((()=>!!+U.value&&$.value.length));return(0,i.bv)((()=>{h.value.isFirstVisit&&+L.value&&!d.value&&a("update:selectedTab","info"),h.value.isFirstVisit=!1})),(0,i.YP)(u,(async e=>{!e||["info","instructions"].includes(e)})),(e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[((0,i.wg)(),(0,i.j4)(i.lR,{to:`#map-dock-info-${(0,r.SU)(g)}`},[R.value?((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",title:(0,r.SU)(m)("socialmap:info"),onClick:t[0]||(t[0]=e=>z("info")),class:(0,n.normalizeClass)([{selected:"info"===(0,r.SU)(u)},"btn-map btn-map-inner btn-map-info hidden-sm hidden-md hidden-lg"])},[Jn,(0,i.Uk)(),(0,i._)("span",Qn,(0,n.toDisplayString)((0,r.SU)(m)("socialmap:info")),1)],10,Xn)):(0,i.kq)("",!0)],8,["to"])),(0,i.Uk)(),((0,i.wg)(),(0,i.j4)(i.lR,{to:`#map-dock-instructions-${(0,r.SU)(g)}`},[O.value?((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",class:(0,n.normalizeClass)([{selected:"instructions"===(0,r.SU)(u)},"btn-map btn-map-inner btn-map-help hidden-sm hidden-md hidden-lg"]),title:(0,r.SU)(m)("socialmap:instructions"),onClick:t[1]||(t[1]=e=>z("instructions"))},[tr,(0,i.Uk)(),(0,i._)("span",ar,(0,n.toDisplayString)((0,r.SU)(m)("socialmap:instructions")),1)],10,er)):(0,i.kq)("",!0)],8,["to"])),(0,i.Uk)(),((0,i.wg)(),(0,i.j4)(i.lR,{to:`#map-dock-share-${(0,r.SU)(g)}`},[(0,i._)("button",{type:"button",class:"btn-map btn-map-inner btn-map-share hidden-sm hidden-md hidden-lg",title:(0,r.SU)(m)("socialmap:share"),onClick:N},[nr,(0,i.Uk)(),(0,i._)("span",rr,(0,n.toDisplayString)((0,r.SU)(m)("socialmap:share")),1)],8,ir)],8,["to"])),(0,i.Uk)(),_.value?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",lr,[(0,i._)("div",or,[R.value?((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",class:(0,n.normalizeClass)([{selected:"info"===(0,r.SU)(u)},"btn-map btn-map-info hidden-xs"]),title:(0,r.SU)(m)("socialmap:info"),onClick:t[2]||(t[2]=e=>z("info"))},[dr,(0,i.Uk)(),(0,i._)("span",cr,(0,n.toDisplayString)((0,r.SU)(m)("socialmap:info")),1)],10,sr)):(0,i.kq)("",!0),(0,i.Uk)(),O.value?((0,i.wg)(),(0,i.iD)("button",{key:1,type:"button",class:(0,n.normalizeClass)([{selected:"instructions"===(0,r.SU)(u)},"btn-map btn-map-help hidden-xs"]),title:(0,r.SU)(m)("socialmap:instructions"),onClick:t[3]||(t[3]=e=>z("instructions"))},[mr,(0,i.Uk)(),(0,i._)("span",pr,(0,n.toDisplayString)((0,r.SU)(m)("socialmap:instructions")),1)],10,ur)):(0,i.kq)("",!0),(0,i.Uk)(),(0,i._)("div",{class:(0,n.normalizeClass)([{fw:!+F.value},"location-search-wrapper"])},[(0,i._)("div",{id:`map-toolbar-${(0,r.SU)(p)}`},vr,8,hr)],2),(0,i.Uk)(),(0,i.wy)((0,i._)("div",fr,null,512),[[l.vShow,!_.value&&!+I.value]])]),(0,i.Uk)(),(0,i._)("div",{class:(0,n.normalizeClass)([{"display-bookmarks":B.value},"top-bar-right"])},[+B.value?((0,i.wg)(),(0,i.iD)("div",gr,[(0,i._)("label",br,(0,n.toDisplayString)((0,r.SU)(m)("socialmap:locations")),1),(0,i.Uk)(),B.value?((0,i.wg)(),(0,i.iD)("select",{key:0,ref:"map-bookmarks",name:"map-boomarks",class:"form-control map-bookmarks",onChange:H},[(0,i._)("option",yr,(0,n.toDisplayString)((0,r.SU)(m)("socialmap:locations")),1),(0,i.Uk)(),(0,i._)("option",kr,(0,n.toDisplayString)((0,r.SU)(m)("socialmap:home")),1),(0,i.Uk)(),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(C.value,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e.bookmarkID,value:e.bookmarkID,class:"ljs"},(0,n.toDisplayString)(e.bookmarkTitle),9,wr)))),128))],544)):(0,i.kq)("",!0)])):(0,i.kq)("",!0),(0,i.Uk)(),_.value?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("button",{key:1,type:"button",class:(0,n.normalizeClass)(["btn-map btn-map-share hidden-xs"]),title:(0,r.SU)(m)("socialmap:share"),onClick:N},[xr,(0,i.Uk)(),(0,i._)("span",Dr,(0,n.toDisplayString)((0,r.SU)(m)("socialmap:share")),1)],8,Sr)),(0,i.Uk)(),(0,i._)("button",{type:"button",class:"btn-map btn-map-fullscreen hidden-xs",title:(0,r.SU)(m)("socialmap:toggleFullscreen"),onClick:V},[(0,i._)("i",{class:(0,n.normalizeClass)((0,r.SU)(c)?"hive-shrink-3":"hive-expand-4"),"aria-hidden":"true"},null,2),(0,i.Uk)(),(0,i._)("span",Ur,(0,n.toDisplayString)((0,r.SU)(m)("socialmap:toggleFullscreen")),1)],8,_r)],2)])),(0,i.Uk)(),((0,i.wg)(),(0,i.j4)(i.lR,{to:`#panels-${(0,r.SU)(p)}`},[(0,i.wy)((0,i._)("div",{tabindex:"-1",ref_key:"panel",ref:b,class:"map-info-wrapper panel-full panel-left"},[(0,i.wy)((0,i._)("div",Ir,[(0,i._)("h4",Cr,(0,n.toDisplayString)(j.value),1),(0,i.Uk)(),(0,i._)("div",{class:"infoContent ljs",innerHTML:M.value},null,8,Fr),(0,i.Uk)(),Y.value?((0,i.wg)(),(0,i.iD)("div",jr,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(D.value,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.categoryID,class:"cat-item ljs"},[(0,i._)("span",Mr,[(0,i._)("img",{crossorigin:"Anonymous",src:e.markerURL,alt:e.name},null,8,Or)]),(0,i.Uk)(),(0,i._)("div",Pr,[(0,i._)("span",Er,(0,n.toDisplayString)(e.name),1),(0,i.Uk)(),e.description?((0,i.wg)(),(0,i.iD)("span",Ar,(0,n.toDisplayString)(e.description),1)):(0,i.kq)("",!0)])])))),128))])):(0,i.kq)("",!0),(0,i.Uk)(),(0,i._)("button",{type:"button",class:"btn btn-close btn-cancel",onClick:t[4]||(t[4]=e=>Z()),"aria-label":(0,r.SU)(m)("socialmap:close")},Tr,8,qr)],512),[[l.vShow,"info"===(0,r.SU)(u)]]),(0,i.Uk)(),(0,i.wy)((0,i._)("div",Lr,[(0,i._)("div",zr,[(0,i._)("p",null,[(0,i.Uk)((0,n.toDisplayString)((0,r.SU)(m)("socialmap:helpPrompt"))+" ",1),(0,i._)("a",{href:"#",class:"btn-map btn-map-help","data-ui-enter":"map-help-wrapper",style:{"text-decoration":"underline"},onClick:[t[5]||(t[5]=(0,l.withModifiers)((()=>{}),["prevent","stop"])),t[6]||(t[6]=e=>z("instructions"))]},(0,n.toDisplayString)((0,r.SU)(m)("socialmap:helpPromptInstructions")),1),(0,i.Uk)(".\n            ")])])],512),[[l.vShow,"info"===(0,r.SU)(u)]]),(0,i.Uk)(),(0,i.wy)((0,i._)("div",Zr,[(0,i._)("div",Hr,[(0,i._)("h4",Nr,(0,n.toDisplayString)((0,r.SU)(m)("socialmap:instructions")),1),(0,i.Uk)(),(0,i._)("div",{innerHTML:O.value,class:"ljs"},null,8,Vr),(0,i.Uk)(),(0,i._)("button",{type:"button",class:"btn btn-close btn-cancel",onClick:t[7]||(t[7]=e=>Z()),"aria-label":(0,r.SU)(m)("socialmap:close")},Rr,8,$r)])],512),[[l.vShow,"instructions"===(0,r.SU)(u)]])],512),[[l.vShow,"info"===(0,r.SU)(u)||"instructions"===(0,r.SU)(u)]])],8,["to"]))],64))}},Yr=a(38851),Wr={};Wr.styleTagTransform=Ie(),Wr.setAttributes=xe(),Wr.insert=we().bind(null,"head"),Wr.domAPI=ye(),Wr.insertStyleElement=_e();ge()(Yr.Z,Wr),Yr.Z&&Yr.Z.locals&&Yr.Z.locals;var Kr=(0,Oe.Z)(Br,[["__scopeId","data-v-059a1467"]]);function Gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i,n,r,l,o=[],s=!0,d=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;s=!1}else for(;!(s=(i=r.call(a)).done)&&(o.push(i.value),o.length!==t);s=!0);}catch(e){d=!0,n=e}finally{try{if(!s&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xr(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Xr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function Jr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Qr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(a),!0).forEach((function(t){el(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Jr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function el(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const tl=["id"],al={key:0,class:"hive-block-head"},il={class:"hive-activity-status"},nl={key:0,class:"hive-block-title ljs"},rl=["innerHTML"],ll={key:2,class:"hive-activity-contributions ljs"},ol=["innerHTML"],sl={class:"hive-block-body"},dl=(e=>((0,i.dD)("data-v-88499f10"),e=e(),(0,i.Cn)(),e))((()=>(0,i._)("i",{class:"fa fa-spinner fa-spin fa-lg loading-indicator"},null,-1))),cl=["href","data-anchor","onKeydown"],ul=["id"],ml={class:"feature-popup-inner ljs"},pl={key:0,class:"feature-popup-media"},hl=["src","alt"],vl={key:1,class:"feature-popup-content"},fl={key:0,class:"feature-title"},gl={key:1,class:"feature-description"},bl=["innerHTML"],yl=["id"],kl={inheritAttrs:!1};var wl=Object.assign(kl,{__name:"SocialMap",props:{uniqueId:{type:String,required:!0},instanceId:{type:String,required:!0},blockMeta:{type:Object,required:!0},blockOverrides:{type:Object,required:!0},blockDefaults:{type:Object,required:!0},blockData:{type:Object,required:!0},blockSets:{type:Object,required:!0},blockUrls:{type:Object,required:!0},user:{type:Object,required:!0},userAttributes:{type:Object,required:!0},userProfile:{type:Object},isDrawing:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},setup(e,t){var a;let d=t.expose;const c=e,u=(0,i.f3)("t"),m=c.uniqueId,p=c.instanceId;(0,i.JJ)("uniqueId",m),(0,i.JJ)("instanceId",p);const h=(0,r.BK)(c),v=h.isPreview,f=h.isDrawing,g=U();(0,i.JJ)("deviceFeatures",g);const b=g.isMobile,y=(g.isTouch,g.isGeolocationCapable),k=(0,F.z5)(p);(0,i.JJ)("emitter",k);const w=se((0,r.SU)(m));w.syncState(c);const S=(0,de.V)((0,r.SU)(m)),x=(0,i.Fl)((()=>w.getMeta("bID"))),D=(0,i.Fl)((()=>w.getMeta("ftID"))),_=(0,i.Fl)((()=>w.getMeta("blockHandle"))),P=(0,i.Fl)((()=>w.getMeta("cID"))),A=(0,i.Fl)((()=>w.getMeta("cvID"))),T=(0,i.Fl)((()=>w.getMeta("arHandle"))),L=(0,i.Fl)({get:()=>w.getFieldValue("formToken"),set:e=>w.setFieldValue("formToken",e)}),z=(0,i.Fl)((()=>{try{const e=(0,C.Z)(L.value),t=Math.floor(Date.now()/1e3);return!(e.exp<t)}catch(e){return console.error("Error decoding token:",e.message),!1}})),Z=I.Z.create({baseURL:w.getUrl("form-builder")});(0,i.JJ)("FormClient",Z);const H=(0,i.Fl)((()=>w.getFieldValue("lockExtent"))),N=(0,i.Fl)((()=>w.getFieldValue("mapBounds"))),V=(0,i.Fl)((()=>w.getFieldValue("mapCentrePin"))),R=(0,i.Fl)((()=>w.getFieldValue("mapScale","final","boolean"))),B=(0,i.Fl)((()=>w.getFieldValue("mapScrollZoom"))),Y=(0,i.Fl)((()=>w.getFieldValue("mapLat"))),W=(0,i.Fl)((()=>w.getFieldValue("mapLon"))),K=(0,i.Fl)((()=>w.getFieldValue("mapLocation"))),X=(0,i.Fl)((()=>w.getFieldValue("mapZoomLevel"))),J=(0,i.Fl)((()=>w.getFieldValue("mapBearing"))),Q=(0,i.Fl)((()=>w.getFieldValue("mapPitch"))),ee=(0,i.Fl)((()=>w.getFieldValue("mapSize"))),ae=(0,i.Fl)((()=>w.getFieldValue("publicFeedback"))),ie=(0,i.Fl)((()=>w.getFieldValue("prepostModeration"))),re=(0,i.Fl)((()=>w.getFieldValue("reportsMode"))),le=(0,i.Fl)((()=>w.getFieldValue("active","final","number"))),oe=(0,i.Fl)((()=>w.getFieldValue("postingEnabled"))),ce=(0,i.Fl)((()=>w.getFieldValue("mapTitle"))),ue=(0,i.Fl)((()=>w.getFieldValue("displayMapTitle","final","number"))),me=(0,i.Fl)((()=>w.getFieldValue("mapDescription"))),pe=(0,i.Fl)((()=>w.getFieldValue("displayMapDescription","final","number"))),he=(0,i.Fl)((()=>w.getFieldValue("displaySubmissionCounter","final","number"))),ve=(0,i.Fl)((()=>{let e=w.getFieldValue("submissionCounter");return e=e.replace(/{TOTAL}/,`<var class='count' data-name='count'>${Ne.value}</var>`),+le.value&&+oe.value||(e=e.replace(new RegExp(" so far[.]?$","i"),"")),e})),fe=e=>{const t=document.querySelector("[data-ui-id=btn-add-marker]");t&&t.focus()},ge=(0,i.Fl)((()=>!(Ke.value||!+le.value||!+oe.value||re.value))),be=(0,i.Fl)({get:()=>w.user,set:e=>w.user=e}),ye=(0,i.Fl)({get:()=>w.userProfile,set:e=>{var t;const a=e;if(null!=a&&null!==(t=a.attributes)&&void 0!==t&&t.length){const t={akID:null,akHandle:"username",value:e.username,displayValue:e.username},i={akID:null,akHandle:"email",value:e.email,displayValue:e.email};a.attributes.push(t,i)}w.userProfile=a}}),ke=(0,i.Fl)((()=>({metadata:{"block-handle":(0,r.SU)(_),"form-id":null,"form-version-id":null,"ft-id":(0,r.SU)(D),"b-id":(0,r.SU)(x),"c-id":(0,r.SU)(P),"cv-id":(0,r.SU)(A),"ar-handle":(0,r.SU)(T)},config:{submitButtonLabel:"","privacy-consent":w.getFieldValue("privacyConsentConfig"),antispam:w.getFieldValue("antispamConfig")},urls:{"form-builder":w.getUrl("form-builder"),"form-upload":w.getUrl("form-upload"),submit:w.getUrl("form-submit")||w.getUrl("submit"),token:w.getUrl("form-token")||w.getUrl("token")},options:{"activity-status":ge.value,"requires-registration":w.getFieldValue("requiresRegistration")},sections:{},elements:{}})));(0,i.JJ)("formState",ke),(0,i.JJ)("formToken",L);const we=(0,o.y$C)(`${(0,r.SU)(_)}-${(0,r.SU)(D)}`,{isFirstVisit:!0,isFirstMarker:!0},localStorage,{mergeDefaults:(e,t)=>(0,O.Z)(t,e)});(0,i.JJ)("clientStore",we);const Se=(0,r.iH)(null),xe=(0,i.Fl)((()=>S.map)),De=((0,i.Fl)((()=>{var e;return null===(e=S.mapControls)||void 0===e?void 0:e.GeocoderControl})),(0,r.iH)("")),_e=(0,r.iH)(!1),Ue=(0,r.iH)(null),Ie=(0,r.iH)(!1),Ce=(0,r.iH)(!1),Fe=(0,r.iH)(!1),je=(0,r.iH)([]),Me=(0,r.iH)([]),Oe=I.Z.create({headers:{"X-Locale":window.CCM_ACTIVE_LOCALE||"en_US"}});(0,i.JJ)("http",Oe);const Ee=(0,i.Fl)((()=>w.getFieldValue("baseMaps"))),Ae=(0,i.Fl)({get:()=>w.getFieldValue("defaultBasemap"),set:e=>w.setFieldValue("defaultBasemap",e)}),qe=(0,i.Fl)((()=>{var e,t;return null==Ee||null===(e=Ee.value)||void 0===e||null===(t=e.config)||void 0===t?void 0:t[Ae.value]})),Te=(0,i.Fl)((()=>({basemapId:Ae,basemapConfig:qe}))),Le=(0,i.Fl)((()=>w.getFieldValue("accessToken"))),ze=(0,i.Fl)((()=>[w.getFieldValue("mapLon"),w.getFieldValue("mapLat")])),He=(0,i.Fl)((()=>w.getFieldValue("markerClustering","final","number"))),Ne=(0,i.Fl)((()=>w.getFieldValue("totalSubmissions","final","number"))),Ve=(0,i.Fl)((()=>w.getFieldValue("autoClusteringThreshold"))),$e=(0,i.Fl)((()=>!!+He.value||Ne>Ve)),Re=(0,i.Fl)((()=>w.getFieldValue("clusterRadius"))),Be=(0,i.Fl)((()=>w.getFieldValue("clusterMaxZoom"))),Ye=(0,i.Fl)((()=>w.getFieldValue("clusterMinPoints"))),We=(0,i.Fl)((()=>({cluster:$e,clusterRadius:Re,clusterMaxZoom:Be,clusterMinPoints:Ye}))),Ke=(0,i.Fl)({get:()=>S.isEvaluating,set:e=>S.isEvaluating=e}),Ge=(0,i.Fl)({get:()=>S.isLoaded,set:e=>S.isLoaded=e}),Xe=(0,r.iH)(!1),Je=(0,i.Fl)((()=>w.getFieldValue("categories"))),Qe=(0,i.Fl)((()=>w.getFieldValue("deletedCategories"))),et=((0,i.Fl)((()=>w.getFieldValue("forms"))),(0,i.Fl)((()=>w.getFieldValue("layers")))),tt=((0,i.Fl)((()=>w.getFieldValue("submissions"))),(0,i.Fl)((()=>w.getFieldValue("submissions")))),at=(0,i.Fl)((()=>w.getFieldValue("submissionsNew"))),it=(0,r.iH)(Qr(Qr({stadia_api_key:w.getFieldValue("stadia_api_key"),accessToken:Le,center:ze,zoom:X.value,bearing:J.value,pitch:Q.value,transformRequest:(e,t)=>{if("MapboxCustom"===Ae.value){var a;const t=null===(a=qe.value)||void 0===a?void 0:a.accessToken;return{url:e.replace(Le.value,t)}}},cooperativeGestures:b.value,style:{version:8,sources:{},layers:[]},projection:"mercator"},!!+H.value&&(null===(a=N.value)||void 0===a?void 0:a.length)&&{bounds:N.value,maxBounds:N.value}),{},{locale:{"AttributionControl.ToggleAttribution":u("socialmap:mapbox.AttributionControl.ToggleAttribution"),"AttributionControl.MapFeedback":u("socialmap:mapbox.AttributionControl.MapFeedback"),"FullscreenControl.Enter":u("socialmap:mapbox.FullscreenControl.Enter"),"FullscreenControl.Exit":u("socialmap:mapbox.FullscreenControl.Exit"),"GeolocateControl.FindMyLocation":u("socialmap:mapbox.GeolocateControl.FindMyLocation"),"GeolocateControl.LocationNotAvailable":u("socialmap:mapbox.GeolocateControl.LocationNotAvailable"),"LogoControl.Title":u("socialmap:mapbox.LogoControl.Title"),"Map.Title":u("socialmap:mapbox.Map.Title"),"NavigationControl.ResetBearing":u("socialmap:mapbox.NavigationControl.ResetBearing"),"NavigationControl.ZoomIn":u("socialmap:mapbox.NavigationControl.ZoomIn"),"NavigationControl.ZoomOut":u("socialmap:mapbox.NavigationControl.ZoomOut"),"ScrollZoomBlocker.CtrlMessage":u("socialmap:mapbox.ScrollZoomBlocker.CtrlMessage"),"ScrollZoomBlocker.CmdMessage":u("socialmap:mapbox.ScrollZoomBlocker.CmdMessage"),"TouchPanBlocker.Message":u("socialmap:mapbox.TouchPanBlocker.Message")}})),nt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id;e.hiveLayers,e.hiveFeedbackCold,e.mapOptions,e.clusterOptions,e.basemapOptions,G.has(t)||G.set(t,{style:(0,r.XI)(null),evaluating:(0,r.iH)(!1)});const a=G.get(t),n=a.style,l=a.evaluating,o=arguments[0];async function s(){try{l.value=!0,n.value=await te(o)}catch(e){console.error("Error generating style",e)}finally{l.value=!1}}return null===n.value&&s.apply(this,o),(0,i.Ah)((()=>{G.delete(t)})),{style:n,evaluating:l,execute:s}}({id:m,hiveLayers:et,hiveCategories:Je,hiveFeedbackCold:tt,mapOptions:it,clusterOptions:We,basemapOptions:Te}),rt=nt.style,lt=nt.evaluating,ot=nt.execute,st=ne({id:m,hiveLayers:et,hiveCategories:Je}),dt=st.images,ct=st.evaluating,ut=st.execute;Ke.value=lt&&ct,(0,s.dw)((async()=>{await(0,s.C4)(Ke).toBe(!1),await(0,s.C4)(Ge).toBe(!0),S.mapImages=dt,S.mapStyle=rt}));const mt=(0,i.Fl)((()=>{var e;return(null===(e=S.mapStyle)||void 0===e?void 0:e.layers.filter((e=>e.id.startsWith("hive-"))).map((e=>e.id)))||[]})),pt=(0,i.Fl)((()=>{var e;return["any",["any",["has","hiveFeatureTitle"],["has","hiveFeatureDescription"],["has","hiveFeatureMedia"]],["has","submissionID"],["has","point_count"],...null===(e=et.value)||void 0===e?void 0:e.filter((e=>!(0,j.Z)(e.layerFilter))).map((e=>e.layerFilter))]})),ht=(0,r.iH)(null),vt=(0,r.iH)(null),ft=(0,r.iH)(null),gt=(0,r.iH)(null),bt=(0,r.iH)(null);(0,i.YP)(bt,(e=>{ft.value=(null==e?void 0:e.find((e=>{var t;return null===(t=e.source)||void 0===t?void 0:t.startsWith("hive-feedback-")})))||null,gt.value=(null==e?void 0:e.find((e=>{var t;return null===(t=e.source)||void 0===t?void 0:t.startsWith("hive-custom-")})))||null}));const yt=(0,r.iH)(!1),kt=e=>{if(!+ie.value&&!v.value){let t=e.data;at.value.features.push(t),S.applyOverride({type:"source",id:"hive-feedback-markers-hot",object:{data:at.value}})}},wt=e=>{e.data.sessionExpired&&$(window).trigger($.Event("signedout.hive",{sessionExpired:!0,tokens:e.data.tokens}))},St=async e=>{Ge.value=!0,k.emit("map-load",e),k.emit("load","SocialMap"),xe.value.resize();try{S.setControl({id:"NavigationControl",type:"NavigationControl",position:"top-right"}),S.setControl({id:"AttributionControl",type:"AttributionControl",options:{compact:!0},position:"bottom-left"}),y&&!re.value&&S.setControl({id:"GeolocateControl",type:"GeolocateControl",options:{positionOptions:{enableHighAccuracy:!1},fitBoundsOptions:{maxZoom:20},trackUserLocation:!0,showUserLocation:!0},position:"top-right",container:`#hive-block-${m} .geolocate-wrapper`}),re.value||S.setControl({id:"GeocoderControl",control:new(E())({accessToken:(0,r.SU)(Le),marker:!1,flyTo:!0,placeholder:u("socialmap:mapbox.enterAddress"),collapsed:!1,clearAndBlurOnEsc:!0,clearOnBlur:!0,countries:w.getFieldValue("countryCode"),minLength:3,limit:5,reverseGeocode:!0}),container:`#hive-block-${m} .geocoder-wrapper`});const e=function(){};e.prototype.onAdd=function(e){return this._map=e,this._container=window.hiveUtils.createElement('<button class="mapboxgl-ctrl-icon mapboxgl-ctrl-home" type="button" aria-label="Home"><i class="hive-house-2"></i></button>'),this._container.addEventListener("click",(()=>{var t;+H.value&&null!==(t=N.value)&&void 0!==t&&t.length?e.fitBounds(N.value,{bearing:J.value,pitch:Q.value}):e.flyTo({center:[W.value,Y.value],zoom:X.value,bearing:J.value,pitch:Q.value})})),this._container},e.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map=void 0},S.setControl({id:"HomeControl",control:new e,container:`#hive-block-${m} .mapboxgl-ctrl-top-right .mapboxgl-ctrl-group:first-child`}),R.value&&S.setControl({id:"ScaleControl",type:"ScaleControl",options:{maxWidth:100,unit:"metric"},position:"bottom-left"})}catch(e){console.error(e)}await(0,i.Y3)(),xe.value.once("sourcedata",(()=>{jt(),(0,i.YP)(Ae,(e=>{ot()})),(0,i.YP)(J,(e=>{var t;null===(t=xe.value)||void 0===t||t.setBearing(Number(e))})),(0,i.YP)(Q,(e=>{var t;null===(t=xe.value)||void 0===t||t.setPitch(Number(e))})),(0,i.YP)(X,(e=>{var t;null===(t=xe.value)||void 0===t||t.setZoom(Number(e))})),(0,i.YP)(B,(e=>{var t;null===(t=xe.value)||void 0===t||t.scrollZoom[+e?"enable":"disable"]()}),{immediate:!0}),(0,i.YP)([Y,W,K],(e=>{var t,a,i;let n=Gr(e,3),r=n[0],l=n[1];n[2];null===(t=xe.value)||void 0===t||t.setCenter([Number(l),Number(r)]),null===(a=xe.value)||void 0===a||null===(i=a.getSource("hive-home"))||void 0===i||i.setData({type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[Number(l),Number(r)]}}]})})),(0,i.YP)(H,(e=>{var t,a,i;+e&&null!==(t=N.value)&&void 0!==t&&t.length?null===(a=xe.value)||void 0===a||a.setMaxBounds(N.value).fitBounds(N.value,{bearing:J.value,pitch:Q.value}):null===(i=xe.value)||void 0===i||i.setMaxBounds(null)}),{immediate:!0}),(0,i.YP)(Je,(async(e,t)=>{(0,M.Z)(e,t)||(await ut(),await ot(),Me.value=e.map((e=>`hive-marker-category-${e.scID}`)))}),{deep:!0}),(0,i.YP)(et,(async(e,t)=>{(0,M.Z)(e,t)||(await ut(),await ot(),je.value=e.map((e=>`hive-${e.layerType}-${e.layerID}`)))}),{deep:!0}),(0,i.YP)(He,(async e=>{await ot()})),(0,i.YP)(V,(e=>{var t,a;null===(t=xe.value)||void 0===t||null===(a=t.getSource("hive-home"))||void 0===a||a.setData({type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[Number(W.value),Number(Y.value)]}}]}),S.applyOverride({type:"layer",id:"hive-home",object:{id:"hive-home",layout:{visibility:+e?"visible":"none"}}})}),{immediate:!0}),(0,i.YP)(R,(e=>{e?S.setControl({id:"ScaleControl",type:"ScaleControl",options:{maxWidth:100,unit:"metric"},position:"bottom-left"}):S.deleteControl("ScaleControl")})),(0,i.YP)(B,(e=>{var t,a;e?null===(t=xe.value)||void 0===t||t.scrollZoom.enable():null===(a=xe.value)||void 0===a||a.scrollZoom.disable()})),(0,i.YP)(ae,(e=>{}))}))},xt=e=>{var t;const a=null===(t=e.id)||void 0===t?void 0:t.split("-").pop(),i=e.target;if(isNaN(a))return;if(!Je.value.find((e=>e.scID==a))){var n;const t=null===(n=dt.value)||void 0===n?void 0:n.find((e=>"hive-marker-default"==e.id));if(!t)return;i.addImage(e.id,t.image,t.options)}},Dt=e=>{const t=xe.value.getCanvas(),a={layers:mt.value,filter:pt.value,validate:!1},i=xe.value.queryRenderedFeatures(e.point,a);t.style.cursor=i.length?"pointer":""},_t=e=>{jt()},Ut=e=>{_paq.push(["trackEvent",(0,r.SU)(_),"interact",(0,r.SU)(x)])},It=async e=>{const t=e.point,a=e.lngLat;if(ht.value=t,vt.value=a,bt.value=[],yt.value)return;const i={layers:mt.value,filter:pt.value,validate:!1},n=xe.value.queryRenderedFeatures(t,i);bt.value=n},Ct=e=>{k.emit("map-popup-open",e)},Ft=async e=>{k.emit("map-popup-close",e)};function jt(){var e,t;const a=S.getControl("GeocoderControl"),i=null===(e=xe.value)||void 0===e?void 0:e.getCenter(),n=null===(t=xe.value)||void 0===t?void 0:t.getZoom();if(!a||!i||!n)return;const r=i.lng,l=i.lat;a.setProximity(n>9?{longitude:r,latitude:l}:null)}function Mt(e){var t,a;be.value={isLoggedIn:!!e.uID,uID:e.uID||0,userName:(null===(t=e.profile)||void 0===t?void 0:t.username)||"",userEmail:(null===(a=e.profile)||void 0===a?void 0:a.email)||""},ye.value=void 0!==e.profile?e.profile:null}function Ot(e){var t;null===(t=xe.value)||void 0===t||t.resize()}const Pt=(0,o.xKQ)();return(0,i.YP)(Pt,(async(e,t)=>{"visible"===e&&"hidden"===t&&(Ge.value||(await ut(),await ot()))}),{immediate:!0}),(0,i.wF)((async()=>{const e=(0,r.SU)(z)?(0,r.SU)(L):await(async()=>{try{const e={bID:(0,r.SU)(x),cID:(0,r.SU)(P),cvID:(0,r.SU)(A),arHandle:(0,r.SU)(T)},t=await I.Z.post(w.getUrl("token"),e,{headers:{"X-Locale":window.CCM_ACTIVE_LOCALE||"en_US"}});if(t.data.token){const e=t.data.token;return L.value=e,e}}catch(e){console.error("Unable to retrieve new token",e)}})();if(Z.defaults.headers.common.Authorization=`Bearer ${e}`,!v.value){const e=[];Je.value.filter(((e,t,a)=>t===a.findIndex((t=>t.formID===e.formID&&t.formVersionID===e.formVersionID)))).forEach((async t=>{if(!t.formID||!t.formVersionID)return;const a={categoryID:t.categoryID};e.push(Z.get(`/collector/api/forms/${t.formID}/versions/${t.formVersionID}`,a))}));try{const t=(await Promise.all(e)).map((e=>e.data.data));w.setFieldValue("forms",t)}catch(e){console.error(e)}}})),(0,i.bv)((()=>{be.value=c.user,ye.value=c.userProfile,$(window).on("jl_magic_tabs_show",Ot),$(window).on("signedin.hive signedout.hive",Mt)})),(0,i.Ah)((()=>{$(window).off("jl_magic_tabs_show",Ot),$(window).off("signedin.hive signedout.hive",Mt)})),d({SocialMapStore:w,MapboxStore:S,emitter:k}),(e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,n.normalizeClass)((0,r.SU)(v)?"ccm-page":"")},[(0,i._)("div",{id:`hive-block-${(0,r.SU)(m)}`,class:(0,n.normalizeClass)([{drawing:(0,r.SU)(f)},{preview:(0,r.SU)(v)},{touch:(0,r.SU)(b)},{"adding-marker":yt.value&&!Fe.value},{"submission-mode ":yt.value&&(0,r.SU)(b)},{fullscreen:!(0,r.SU)(b)&&_e.value},{evaluating:Ke.value},"hive-block hive-block-social-map hive-block-social-map-vue"])},[re.value?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",al,[(0,i._)("div",il,[(0,i._)("span",{class:(0,n.normalizeClass)(le.value?"open":"closed")},(0,n.toDisplayString)(le.value?(0,r.SU)(u)("socialmap:open"):(0,r.SU)(u)("socialmap:closed")),3)]),(0,i.Uk)(),ce.value&&ue.value?((0,i.wg)(),(0,i.iD)("div",nl,[(0,i._)("h3",null,(0,n.toDisplayString)(ce.value),1)])):(0,i.kq)("",!0),(0,i.Uk)(),me.value&&pe.value?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"hive-block-description ljs",innerHTML:me.value},null,8,rl)):(0,i.kq)("",!0),(0,i.Uk)(),he.value?((0,i.wg)(),(0,i.iD)("div",ll,[(0,i._)("span",{innerHTML:ve.value},null,8,ol)])):(0,i.kq)("",!0)])),(0,i.Uk)(),(0,i._)("div",sl,[Xe.value?((0,i.wg)(),(0,i.j4)(Kr,{key:0,"is-preview":(0,r.SU)(v),selectedTab:De.value,"onUpdate:selectedTab":t[0]||(t[0]=e=>De.value=e),fullscreen:_e.value,"onUpdate:fullscreen":t[1]||(t[1]=e=>_e.value=e)},null,8,["is-preview","selectedTab","fullscreen"])):(0,i.kq)("",!0),(0,i.Uk)(),(0,i._)("div",{class:"hive-block-inner",style:(0,n.normalizeStyle)((0,r.SU)(b)?{"min-height":"80vh"}:{"min-height":ee.value})},[(0,i.Wm)((0,r.SU)(q()),{active:Ke.value,"onUpdate:active":t[2]||(t[2]=e=>Ke.value=e),"is-full-page":!1},{default:(0,i.w5)((()=>[dl])),_:1},8,["active"]),(0,i.Uk)(),!(0,r.SU)(b)&&+le.value&&+oe.value&&!yt.value?((0,i.wg)(),(0,i.iD)("a",{key:0,href:`#add-marker-${x.value}`,"data-anchor":`add-marker-${x.value}`,onKeydown:(0,l.withKeys)((0,l.withModifiers)(fe,["prevent"]),["enter"])},(0,n.toDisplayString)((0,r.SU)(u)("socialmap:skipToAddMarker")),41,cl)):(0,i.kq)("",!0),(0,i.Uk)(),(0,i.Wm)(Pe,{ref_key:"mapboxContainer",ref:Se,id:(0,r.SU)(m),options:it.value,onLoad:St,onStyleimagemissing:xt,onMousemove:Dt,onMoveend:_t,onClick:It,onClickOnce:Ut},{IControls:(0,i.w5)((()=>[])),Popups:(0,i.w5)((()=>{var e;return[gt.value?((0,i.wg)(),(0,i.j4)(Ze,{mapboxId:(0,r.SU)(m),key:null===(e=vt.value)||void 0===e?void 0:e.toString(),point:ht.value,lngLat:vt.value,feature:gt.value,options:{className:"hive-layer-popup hiveFeatureContent"},templateId:"hive-layer-popup",onOpen:Ct,onClose:Ft},{default:(0,i.w5)((e=>{var t,a,l,o,s,d,c,u,m;e.point,e.lngLat;let p=e.feature;e.options;return["hive-layer-popup"===e.templateId?((0,i.wg)(),(0,i.iD)("div",{key:0,id:null==p?void 0:p.id,class:"feature-popup light with-media"},[(0,i._)("div",ml,[null!=p&&null!==(t=p.properties)&&void 0!==t&&t.hiveFeatureMedia?((0,i.wg)(),(0,i.iD)("div",pl,[(0,i._)("img",{src:null==p||null===(a=p.properties)||void 0===a?void 0:a.hiveFeatureMedia,alt:null==p||null===(l=p.properties)||void 0===l?void 0:l.hiveFeatureTitle},null,8,hl)])):(0,i.kq)("",!0),(0,i.Uk)(),null!=p&&null!==(o=p.properties)&&void 0!==o&&o.hiveFeatureTitle||null!=p&&null!==(s=p.properties)&&void 0!==s&&s.hiveFeatureDescription||!(0,r.SU)(j.Z)(null==p?void 0:p.properties)?((0,i.wg)(),(0,i.iD)("div",vl,[null!=p&&null!==(d=p.properties)&&void 0!==d&&d.hiveFeatureTitle?((0,i.wg)(),(0,i.iD)("h4",fl,(0,n.toDisplayString)(null==p||null===(c=p.properties)||void 0===c?void 0:c.hiveFeatureTitle),1)):(0,i.kq)("",!0),(0,i.Uk)(),null!=p&&null!==(u=p.properties)&&void 0!==u&&u.hiveFeatureDescription?((0,i.wg)(),(0,i.iD)("div",gl,[(0,i._)("div",{class:"feature-description-content",innerHTML:null==p||null===(m=p.properties)||void 0===m?void 0:m.hiveFeatureDescription},null,8,bl)])):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])],8,ul)):(0,i.kq)("",!0)]})),_:1},8,["mapboxId","point","lngLat","feature"])):(0,i.kq)("",!0)]})),_:1},8,["id","options"]),(0,i.Uk)(),(0,i.Wm)(Kn,{selectedLayerIds:je.value,"onUpdate:selectedLayerIds":t[3]||(t[3]=e=>je.value=e),selectedCategoryIds:Me.value,"onUpdate:selectedCategoryIds":t[4]||(t[4]=e=>Me.value=e),selectedTab:De.value,"onUpdate:selectedTab":t[5]||(t[5]=e=>De.value=e),hiveDeletedCategories:Qe.value,onMounted:t[6]||(t[6]=e=>Xe.value=!0)},null,8,["selectedLayerIds","selectedCategoryIds","selectedTab","hiveDeletedCategories"]),(0,i.Uk)(),(0,i._)("div",{id:`panels-${(0,r.SU)(m)}`,class:(0,n.normalizeClass)([{"mobile inset map-panels":(0,r.SU)(b)}])},null,10,yl),(0,i.Uk)(),ft.value&&!(0,r.SU)(v)?((0,i.wg)(),(0,i.j4)(Ma,{key:1,selectedTab:De.value,"onUpdate:selectedTab":t[7]||(t[7]=e=>De.value=e),feature:ft.value,"onUpdate:feature":t[8]||(t[8]=e=>ft.value=e),lngLat:vt.value,selectedCategoryIds:Me.value},null,8,["selectedTab","feature","lngLat","selectedCategoryIds"])):(0,i.kq)("",!0),(0,i.Uk)(),ge.value?((0,i.wg)(),(0,i.j4)(an,{key:2,"is-drawing":(0,r.SU)(f),"is-preview":(0,r.SU)(v),submissionMarker:Ue.value,"onUpdate:submissionMarker":t[9]||(t[9]=e=>Ue.value=e),hasAddedMarker:Ie.value,"onUpdate:hasAddedMarker":t[10]||(t[10]=e=>Ie.value=e),isSavingMarker:Ce.value,"onUpdate:isSavingMarker":t[11]||(t[11]=e=>Ce.value=e),hasSavedMarker:Fe.value,"onUpdate:hasSavedMarker":t[12]||(t[12]=e=>Fe.value=e),selectedTab:De.value,"onUpdate:selectedTab":t[13]||(t[13]=e=>De.value=e),submissionMode:yt.value,"onUpdate:submissionMode":t[14]||(t[14]=e=>yt.value=e),onOnSubmissionSuccess:kt,onOnSubmissionError:wt},null,8,["is-drawing","is-preview","submissionMarker","hasAddedMarker","isSavingMarker","hasSavedMarker","selectedTab","submissionMode"])):(0,i.kq)("",!0)],4)])],10,tl)],2))}}),Sl=a(89411),xl={};xl.styleTagTransform=Ie(),xl.setAttributes=xe(),xl.insert=we().bind(null,"head"),xl.domAPI=ye(),xl.insertStyleElement=_e();ge()(Sl.Z,xl),Sl.Z&&Sl.Z.locals&&Sl.Z.locals;var Dl=a(82982),_l={};_l.styleTagTransform=Ie(),_l.setAttributes=xe(),_l.insert=we().bind(null,"head"),_l.domAPI=ye(),_l.insertStyleElement=_e();ge()(Dl.Z,_l),Dl.Z&&Dl.Z.locals&&Dl.Z.locals;var Ul=(0,Oe.Z)(wl,[["__scopeId","data-v-88499f10"]])},22780:function(e){"use strict";e.exports='data:image/svg+xml;utf8,%3Csvg xmlns="http://www.w3.org/2000/svg" width="20" height="20">%3Cpath d="M10,3.4 c-0.8,0-1.5,0.5-1.8,1.2H5l-1,1v1h12v-1l-1-1h-3.2C11.5,3.9,10.8,3.4,10,3.4z M5,8v7c0,1,1,2,2,2h6c1,0,2-1,2-2V8h-2v5.5h-1.5V8h-3 v5.5H7V8H5z"/>%3C/svg>'},21706:function(e){"use strict";e.exports='data:image/svg+xml;utf8,%3Csvg xmlns="http://www.w3.org/2000/svg" width="20" height="20">%3Cpath d="M12.1,2c-0.3,0-0.5,0.1-0.7,0.3l-1,1c-0.4,0.4-0.4,1,0,1.4l4.9,4.9c0.4,0.4,1,0.4,1.4,0l1-1 c0.4-0.4,0.4-1,0-1.4l-4.9-4.9C12.6,2.1,12.3,2,12.1,2z M8,8C7,8,7,9,7.5,9.5c0.3,0.3,1,1,1,1l-1,1c0,0-0.5,0.5,0,1s1,0,1,0l1-1l1,1 C11,13,12,13,12,12V8H8z M4,10c-0.3,0-0.5,0.1-0.7,0.3l-1,1c-0.4,0.4-0.4,1,0,1.4l1,1c0.4,0.4,1,0.4,1.4,0l1-1c0.4-0.4,0.4-1,0-1.4 l-1-1C4.5,10.1,4.3,10,4,10z M8,14c-0.3,0-0.5,0.1-0.7,0.3l-1,1c-0.4,0.4-0.4,1,0,1.4l1,1c0.4,0.4,1,0.4,1.4,0l1-1 c0.4-0.4,0.4-1,0-1.4l-1-1C8.5,14.1,8.3,14,8,14z"/>%3C/svg>'},10192:function(e){"use strict";e.exports='data:image/svg+xml;utf8,%3Csvg xmlns="http://www.w3.org/2000/svg" width="20" height="20">%3Cpath d="m10 2c-3.3 0-6 2.7-6 6s6 9 6 9 6-5.7 6-9-2.7-6-6-6zm0 2c2.1 0 3.8 1.7 3.8 3.8 0 1.5-1.8 3.9-2.9 5.2h-1.7c-1.1-1.4-2.9-3.8-2.9-5.2-.1-2.1 1.6-3.8 3.7-3.8z"/>%3C/svg>'},64947:function(e){"use strict";e.exports='data:image/svg+xml;utf8,%3Csvg xmlns="http://www.w3.org/2000/svg" width="20" height="20">%3Cpath d="m12 2c-.3 0-.5.1-.7.3l-1 1c-.4.4-.4 1 0 1.4l1 1c.4.4 1 .4 1.4 0l1-1c.4-.4.4-1 0-1.4l-1-1c-.2-.2-.4-.3-.7-.3zm4 4c-.3 0-.5.1-.7.3l-1 1c-.4.4-.4 1 0 1.4l1 1c.4.4 1 .4 1.4 0l1-1c.4-.4.4-1 0-1.4l-1-1c-.2-.2-.4-.3-.7-.3zm-7 1c-1 0-1 1-.5 1.5.3.3 1 1 1 1l-1 1s-.5.5 0 1 1 0 1 0l1-1 1 1c.5.5 1.5.5 1.5-.5v-4zm-5 3c-.3 0-.5.1-.7.3l-1 1c-.4.4-.4 1 0 1.4l4.9 4.9c.4.4 1 .4 1.4 0l1-1c.4-.4.4-1 0-1.4l-4.9-4.9c-.1-.2-.4-.3-.7-.3z"/>%3C/svg>'},84363:function(e){"use strict";e.exports='data:image/svg+xml;utf8,%3Csvg xmlns="http://www.w3.org/2000/svg" width="20" height="20">%3Cpath d="m13.5 3.5c-1.4 0-2.5 1.1-2.5 2.5 0 .3 0 .6.2.9l-3.8 3.8c-.3-.1-.6-.2-.9-.2-1.4 0-2.5 1.1-2.5 2.5s1.1 2.5 2.5 2.5 2.5-1.1 2.5-2.5c0-.3 0-.6-.2-.9l3.8-3.8c.3.1.6.2.9.2 1.4 0 2.5-1.1 2.5-2.5s-1.1-2.5-2.5-2.5z"/>%3C/svg>'},10263:function(e){"use strict";e.exports='data:image/svg+xml;utf8,%3Csvg xmlns="http://www.w3.org/2000/svg" width="20" height="20">%3Cpath d="m15 12.3v-4.6c.6-.3 1-1 1-1.7 0-1.1-.9-2-2-2-.7 0-1.4.4-1.7 1h-4.6c-.3-.6-1-1-1.7-1-1.1 0-2 .9-2 2 0 .7.4 1.4 1 1.7v4.6c-.6.3-1 1-1 1.7 0 1.1.9 2 2 2 .7 0 1.4-.4 1.7-1h4.6c.3.6 1 1 1.7 1 1.1 0 2-.9 2-2 0-.7-.4-1.4-1-1.7zm-8-.3v-4l1-1h4l1 1v4l-1 1h-4z"/>%3C/svg>'},37597:function(){}},function(e){e.O(0,[597],(function(){return t=64137,e(e.s=t);var t}));e.O()}]);